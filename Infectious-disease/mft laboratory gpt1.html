<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Primary Care Specimen Guide — Containers • Collection • Rejection</title>
  <style>
    :root{
      --bg:#0b1220;
      --text:#e7eefc;
      --muted:#a9b8da;
      --border:rgba(255,255,255,.10);
      --shadow: 0 16px 40px rgba(0,0,0,.35);
      --shadow2: 0 10px 22px rgba(0,0,0,.22);
      --radius: 18px;
      --radius2: 14px;
      --focus: rgba(120,180,255,.35);

      --good:#2dd4bf;
      --warn:#fbbf24;
      --bad:#fb7185;
      --info:#60a5fa;

      --cBlue:#60a5fa;
      --cGreen:#34d399;
      --cAmber:#fbbf24;
      --cRose:#fb7185;
      --cViolet:#a78bfa;
      --cEmerald:#22c55e;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      background:
        radial-gradient(1000px 600px at 20% 0%, rgba(96,165,250,.18), transparent 55%),
        radial-gradient(900px 650px at 95% 15%, rgba(167,139,250,.14), transparent 55%),
        radial-gradient(900px 650px at 60% 100%, rgba(45,212,191,.10), transparent 60%),
        var(--bg);
      color:var(--text);
      line-height:1.35;
    }

    .wrap{max-width:1240px;margin:0 auto;padding:24px 18px 44px}
    header{display:flex;flex-direction:column;gap:14px;margin-bottom:14px}
    .top{display:flex;gap:14px;flex-wrap:wrap;align-items:flex-start;justify-content:space-between}
    .brand{display:flex;gap:12px;align-items:center}
    .logo{
      width:44px;height:44px;border-radius:14px;
      background: linear-gradient(135deg, rgba(96,165,250,.9), rgba(167,139,250,.9));
      box-shadow: 0 12px 24px rgba(0,0,0,.35);
      display:grid;place-items:center;
      border: 1px solid rgba(255,255,255,.20);
    }
    h1{margin:0;font-size:18px;letter-spacing:.2px}
    .sub{margin:2px 0 0;color:var(--muted);font-size:13px;max-width:780px}

    .controls{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
    .pill{
      display:inline-flex;align-items:center;gap:8px;
      padding:10px 12px;border-radius:999px;
      background: rgba(255,255,255,.06);
      border: 1px solid var(--border);
      box-shadow: var(--shadow2);
      transition: transform .18s ease, box-shadow .18s ease, background .18s ease;
      user-select:none;
    }
    .pill:hover{transform:translateY(-1px);box-shadow:0 14px 28px rgba(0,0,0,.28);background:rgba(255,255,255,.08)}
    .kdb{
      font-size:12px;color:rgba(231,238,252,.9);
      border: 1px solid rgba(255,255,255,.18);
      padding:2px 8px;border-radius:8px;
      background: rgba(255,255,255,.05);
      white-space:nowrap;
    }

    .bar{
      display:grid;
      grid-template-columns: 1.2fr .8fr auto;
      gap:10px;
      align-items:center;
    }

    .search{
      display:flex;align-items:center;gap:10px;
      padding:12px 14px;border-radius:999px;
      background: rgba(255,255,255,.06);
      border: 1px solid var(--border);
      box-shadow: var(--shadow2);
      transition: border-color .18s ease, box-shadow .18s ease, transform .18s ease;
    }
    .search:focus-within{
      border-color: rgba(96,165,250,.55);
      box-shadow: 0 0 0 4px var(--focus), var(--shadow2);
      transform: translateY(-1px);
    }
    .search input{
      width:100%;border:0;outline:none;background:transparent;color:var(--text);
      font-size:14px;
    }
    .search input::placeholder{color:rgba(169,184,218,.9)}

    .select{
      padding:12px 14px;border-radius:999px;
      background: rgba(255,255,255,.06);
      border: 1px solid var(--border);
      box-shadow: var(--shadow2);
      color: var(--text);
      outline:none;
      transition: border-color .18s ease, box-shadow .18s ease, transform .18s ease;
    }
    .select:focus{
      border-color: rgba(96,165,250,.55);
      box-shadow: 0 0 0 4px var(--focus), var(--shadow2);
      transform: translateY(-1px);
    }

    .btn{
      display:inline-flex;align-items:center;gap:8px;
      padding:11px 12px;border-radius:14px;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.06);
      color: var(--text);
      cursor:pointer;
      transition: transform .16s ease, background .16s ease, box-shadow .16s ease, border-color .16s ease;
      user-select:none;
      white-space:nowrap;
    }
    .btn:hover{transform:translateY(-1px);background:rgba(255,255,255,.09);box-shadow:0 12px 22px rgba(0,0,0,.22)}
    .btn:active{transform:translateY(0)}
    .btn:focus{outline:none;box-shadow:0 0 0 4px var(--focus), 0 12px 22px rgba(0,0,0,.22)}
    .btn.primary{background: rgba(96,165,250,.16);border-color: rgba(96,165,250,.30)}
    .btn.danger{background: rgba(251,113,133,.14);border-color: rgba(251,113,133,.30)}

    .grid{
      display:grid;
      grid-template-columns: repeat(12, 1fr);
      gap:14px;
      margin-top: 14px;
    }
    .card{
      grid-column: span 6;
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.04));
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
      transition: transform .20s ease, box-shadow .20s ease, border-color .20s ease;
    }
    .card:hover{
      transform: translateY(-3px);
      box-shadow: 0 22px 55px rgba(0,0,0,.45);
      border-color: rgba(255,255,255,.16);
    }
    .accent{position:absolute;inset:0 0 auto 0;height:5px;background:var(--cBlue);opacity:.95}
    .cardhead{display:flex;gap:12px;align-items:flex-start;padding:16px 16px 12px}
    .icon{
      width:40px;height:40px;border-radius:14px;
      display:grid;place-items:center;
      border: 1px solid rgba(255,255,255,.18);
      background: rgba(0,0,0,.20);
      flex: 0 0 auto;
      box-shadow: 0 10px 20px rgba(0,0,0,.20);
    }
    .headtext{flex:1;min-width:0;display:flex;flex-direction:column;gap:6px}
    .headtext h2{margin:0;font-size:16px;letter-spacing:.2px}
    .headtext .hint{margin:0;color:var(--muted);font-size:13px}

    .badges{display:flex;gap:8px;flex-wrap:wrap}
    .badge{
      display:inline-flex;align-items:center;gap:6px;
      padding:5px 10px;border-radius:999px;font-size:12px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.18);
      color: rgba(231,238,252,.92);
      user-select:none;
    }
    .b-good{border-color: rgba(45,212,191,.35); background: rgba(45,212,191,.10)}
    .b-warn{border-color: rgba(251,191,36,.35); background: rgba(251,191,36,.10)}
    .b-bad{border-color: rgba(251,113,133,.35); background: rgba(251,113,133,.10)}
    .b-info{border-color: rgba(96,165,250,.35); background: rgba(96,165,250,.10)}

    .cardbody{padding:0 16px 14px}

    .summary{
      border-radius: var(--radius2);
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.18);
      overflow:hidden;
    }
    .sumhead{
      display:flex;align-items:center;justify-content:space-between;gap:10px;
      padding:10px 12px;border-bottom:1px solid rgba(255,255,255,.10);
      flex-wrap:wrap;
    }
    .sumhead .label{font-size:12.5px;color:rgba(169,184,218,.95);display:flex;align-items:center;gap:8px}
    .sumhead .mini{display:flex;gap:8px;flex-wrap:wrap;align-items:center;justify-content:flex-end}
    .node{padding:12px;display:flex;flex-direction:column;gap:10px}

    .callout{
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.16);
      padding: 10px 10px;
      display:flex;gap:10px;align-items:flex-start;
    }
    .dot{width:10px;height:10px;border-radius:999px;margin-top:4px;background:var(--info);box-shadow:0 0 0 4px rgba(96,165,250,.18);flex:0 0 auto}
    .callout.warn .dot{background:var(--warn);box-shadow:0 0 0 4px rgba(251,191,36,.18)}
    .callout.bad .dot{background:var(--bad);box-shadow:0 0 0 4px rgba(251,113,133,.18)}
    .callout.good .dot{background:var(--good);box-shadow:0 0 0 4px rgba(45,212,191,.18)}
    .txt{font-size:13px;color:rgba(231,238,252,.94)}
    .txt b{color:var(--text)}
    .mono{font-variant-numeric: tabular-nums; font-feature-settings:"tnum"}

    .accordion{border-top:1px solid rgba(255,255,255,.10);margin-top:10px}
    .accbtn{
      width:100%;text-align:left;background:transparent;border:0;color:var(--text);
      padding:12px 0;display:flex;align-items:center;justify-content:space-between;gap:10px;
      cursor:pointer;font-size:14px;
    }
    .accbtn:focus{outline:none;box-shadow:0 0 0 4px var(--focus);border-radius:12px}
    .chev{width:18px;height:18px;opacity:.9;transition:transform .20s ease;flex:0 0 auto}
    .accbtn[aria-expanded="true"] .chev{transform:rotate(180deg)}
    .accpanel{overflow:hidden;max-height:0;transition:max-height .28s ease}
    .accinner{padding:0 0 12px;color:rgba(231,238,252,.92);font-size:13.5px}
    ul{margin:6px 0 0;padding:0 0 0 18px}
    li{margin:5px 0}

    .footer{
      margin-top:18px;
      color:rgba(169,184,218,.90);
      font-size:12.5px;
      display:flex;flex-direction:column;gap:8px;
      padding:14px 16px;border-radius:16px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.14);
    }
    .footer code{
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.12);
      padding: 2px 6px;
      border-radius: 8px;
      color: rgba(231,238,252,.92);
    }

    @media (max-width: 980px){
      .card{grid-column: span 12;}
      .bar{grid-template-columns:1fr; }
    }
    @media (prefers-reduced-motion: reduce){
      *{transition:none !important}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="top">
        <div class="brand">
          <div class="logo" aria-hidden="true">
            <!-- vial -->
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
              <path d="M10 2h4" stroke="white" stroke-width="2" stroke-linecap="round"/>
              <path d="M9 2v4l-4 8a6 6 0 0 0 5.4 8h3.2A6 6 0 0 0 19 14l-4-8V2" stroke="white" stroke-width="2" stroke-linejoin="round"/>
              <path d="M8 12h8" stroke="white" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </div>
          <div>
            <h1>Primary Care Specimen Guide</h1>
            <p class="sub">Pick the clinical scenario → get the correct pot/medium, how to take it, transport/storage, and why the lab will reject it.</p>
          </div>
        </div>

        <div class="controls">
          <div class="pill" title="Keyboard tip">
            <span style="opacity:.9">Search</span>
            <span class="kdb">Ctrl</span><span class="kdb">K</span>
          </div>
          <div class="pill" id="expandAllBtn" role="button" tabindex="0" aria-label="Expand all sections">
            <span style="opacity:.9">Expand all</span>
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M7 10l5 5 5-5" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          <div class="pill" id="collapseAllBtn" role="button" tabindex="0" aria-label="Collapse all sections">
            <span style="opacity:.9">Collapse all</span>
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M7 14l5-5 5 5" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
        </div>
      </div>

      <div class="bar">
        <div class="search" role="search">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true" style="opacity:.9">
            <path d="M21 21l-4.3-4.3" stroke="white" stroke-width="2" stroke-linecap="round"/>
            <path d="M11 19a8 8 0 1 1 0-16 8 8 0 0 1 0 16Z" stroke="white" stroke-width="2"/>
          </svg>
          <input id="q" type="text" placeholder="Filter (e.g., urine, boric, eSwab, VTM, diarrhoea, c. diff, rejection, identifiers)..." />
          <span class="kdb" aria-hidden="true">Esc</span>
        </div>

        <select class="select" id="specimenPicker" aria-label="Specimen quick picker">
          <option value="">Specimen quick picker…</option>
          <option value="urine">Urine culture / UTI</option>
          <option value="faeces">Faeces culture</option>
          <option value="cdiff">C. difficile toxin testing</option>
          <option value="enteric">Enteric virus PCR</option>
          <option value="wound">Wound / abscess</option>
          <option value="mouth">Mouth swab</option>
          <option value="resp">Respiratory virus swabs</option>
        </select>

        <button class="btn primary" id="jumpBtn">Jump</button>
      </div>
    </header>

    <section class="grid" id="grid">

      <!-- SPECIMEN FINDER (WIZARD) -->
      <article class="card" id="finder" data-tags="finder wizard quick picker containers media bottles">
        <div class="accent" style="background: var(--cBlue)"></div>
        <div class="cardhead">
          <div class="icon" style="outline: 2px solid rgba(96,165,250,.25)">
            <!-- compass -->
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M12 22a10 10 0 1 0 0-20 10 10 0 0 0 0 20Z" stroke="white" stroke-width="2"/>
              <path d="M14.5 9.5 16 8l-1.5 6.5L8 16l1.5-6.5L8 8l6.5 1.5Z" stroke="white" stroke-width="2" stroke-linejoin="round"/>
            </svg>
          </div>
          <div class="headtext">
            <h2>Specimen finder (primary care)</h2>
            <p class="hint">Select a scenario → copy a single “do this” instruction block into notes / tasking.</p>
            <div class="badges">
              <span class="badge b-info">Container/medium</span>
              <span class="badge b-info">How to take</span>
              <span class="badge b-bad">Common rejection</span>
            </div>
          </div>
        </div>

        <div class="cardbody">
          <div class="summary" id="finderBox"></div>

          <div class="accordion">
            <button class="accbtn" aria-expanded="false">
              Universal rejection triggers (applies to all samples)
              <svg class="chev" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M7 10l5 5 5-5" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </button>
            <div class="accpanel">
              <div class="accinner">
                <ul>
                  <li><b>Labelling:</b> missing minimum 4 identifiers (district number, surname, forename, DOB).</li>
                  <li><b>Mismatch:</b> request identifiers do not match specimen identifiers.</li>
                  <li><b>Wrong container/tube</b> for the requested test.</li>
                  <li><b>Transport/storage incorrect</b> (e.g., excessive age, wrong temperature, delay without refrigeration when required).</li>
                  <li><b>Hazardous condition:</b> leaking, damaged, sharps attached.</li>
                  <li><b>Unlabelled/insufficiently labelled</b> or <b>illegible</b> details.</li>
                  <li><b>Specimen age:</b> specimens &gt;3 days old are generally unacceptable.</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </article>

      <!-- URINE -->
      <article class="card" id="urine" data-tags="urine uti msu ccu boric acid monovette dipstick leucocyte nitrite rejection refrigeration 4c 48 hours">
        <div class="accent" style="background: var(--cEmerald)"></div>
        <div class="cardhead">
          <div class="icon" style="outline: 2px solid rgba(34,197,94,.25)">
            <!-- droplet -->
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M12 2s7 7 7 12a7 7 0 0 1-14 0c0-5 7-12 7-12Z" stroke="white" stroke-width="2" stroke-linejoin="round"/>
            </svg>
          </div>
          <div class="headtext">
            <h2>Urine culture / UTI (primary care)</h2>
            <p class="hint">Correct boric acid container + dipstick screening details are the main determinants of acceptance.</p>
            <div class="badges">
              <span class="badge b-good">10 mL boric acid Monovette</span>
              <span class="badge b-warn">Dipstick LE + nitrites</span>
              <span class="badge b-bad">Reject if wrong pot / missing info</span>
            </div>
          </div>
        </div>

        <div class="cardbody">
          <div class="summary">
            <div class="sumhead">
              <div class="label"><span class="mono">Container/medium</span></div>
              <div class="mini">
                <button class="btn primary" data-copy="urine">Copy</button>
              </div>
            </div>
            <div class="node">
              <div class="callout good">
                <div class="dot"></div>
                <div class="txt">
                  <b>Use:</b> <b>10 mL Monovette containing boric acid</b> for routine urine culture.
                  <br><b>Exception:</b> babies ≤3 months: <b>universal container</b> acceptable if volume &lt;10 mL.
                </div>
              </div>
              <div class="callout warn">
                <div class="dot"></div>
                <div class="txt">
                  <b>How to take:</b> MSU / clean catch preferred; screen with <b>dipstick detecting leucocyte esterase + nitrites</b> and include relevant information on the request.
                </div>
              </div>
              <div class="callout">
                <div class="dot"></div>
                <div class="txt">
                  <b>Transport/storage:</b> send promptly; if delay unavoidable <b>refrigerate at 4°C</b>. <b>&gt;48 h old</b> specimens are not suitable (repeat).
                </div>
              </div>
              <div class="callout bad">
                <div class="dot"></div>
                <div class="txt">
                  <b>Common rejection:</b> not in 10 mL boric acid Monovette (unless ≤3 months exception); missing dipstick/screening info; incorrect identification; hazardous container. <b>Catheter tips are not processed.</b>
                </div>
              </div>
            </div>
          </div>

          <div class="accordion">
            <button class="accbtn" aria-expanded="false">
              Practical collection steps (rapid)
              <svg class="chev" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M7 10l5 5 5-5" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </button>
            <div class="accpanel">
              <div class="accinner">
                <ul>
                  <li>Prefer MSU/clean catch; avoid contaminated “first void”.</li>
                  <li>Dipstick in clinic (LE + nitrites) and document result on request to avoid rejection.</li>
                  <li>Ensure label has ≥4 identifiers and matches request; label at time of collection.</li>
                  <li>Refrigerate at 4°C if delay; repeat if &gt;48 h old.</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </article>

      <!-- FAECES CULTURE -->
      <article class="card" id="faeces" data-tags="faeces stool culture salmonella campylobacter shigella e coli vtec leak proof container disinfectant soap urine contamination refrigeration 24 hours repeat sample">
        <div class="accent" style="background: var(--cAmber)"></div>
        <div class="cardhead">
          <div class="icon" style="outline: 2px solid rgba(251,191,36,.25)">
            <!-- clipboard check -->
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M9 5h6" stroke="white" stroke-width="2" stroke-linecap="round"/>
              <path d="M10 3h4a2 2 0 0 1 2 2v1H8V5a2 2 0 0 1 2-2Z" stroke="white" stroke-width="2" stroke-linejoin="round"/>
              <path d="M7 6h10v15H7V6Z" stroke="white" stroke-width="2" stroke-linejoin="round"/>
              <path d="M9 14l2 2 4-4" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          <div class="headtext">
            <h2>Faeces culture (bacteriology)</h2>
            <p class="hint">Leak-proof pot + avoid disinfectant/urine contamination; don’t send repeat stool within 24 h.</p>
            <div class="badges">
              <span class="badge b-info">CE-marked leak-proof container</span>
              <span class="badge b-warn">Refrigerate if delayed</span>
              <span class="badge b-bad">Repeat &lt;24 h not processed</span>
            </div>
          </div>
        </div>

        <div class="cardbody">
          <div class="summary">
            <div class="sumhead">
              <div class="label"><span class="mono">Container/collection</span></div>
              <div class="mini"><button class="btn primary" data-copy="faeces">Copy</button></div>
            </div>
            <div class="node">
              <div class="callout good">
                <div class="dot"></div>
                <div class="txt">
                  <b>Use:</b> <b>CE-marked leak-proof container</b> (sealed plastic bag).
                </div>
              </div>
              <div class="callout warn">
                <div class="dot"></div>
                <div class="txt">
                  <b>How to take:</b> pass stool into a <b>clean, dry disposable</b> receptacle and transfer into pot.
                  Avoid <b>soap/detergent/disinfectant residue</b>; avoid contamination with <b>urine</b> or toilet bowl.
                </div>
              </div>
              <div class="callout">
                <div class="dot"></div>
                <div class="txt">
                  <b>Transport/storage:</b> send ASAP; if processing delayed, <b>refrigerate</b> rather than room temp.
                </div>
              </div>
              <div class="callout bad">
                <div class="dot"></div>
                <div class="txt">
                  <b>Common rejection / non-processing:</b> contaminated specimen (disinfectant/urine), leaking pot, wrong/insufficient ID, or <b>additional stool within 24 h</b> of the last sample (won’t be processed).
                </div>
              </div>
            </div>
          </div>
        </div>
      </article>

      <!-- C DIFF -->
      <article class="card" id="cdiff" data-tags="c difficile toxin gdh pcr stool faeces leak proof container refrigeration disinfectant">
        <div class="accent" style="background: var(--cRose)"></div>
        <div class="cardhead">
          <div class="icon" style="outline: 2px solid rgba(251,113,133,.25)">
            <!-- alert triangle -->
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M10.3 3.3a2 2 0 0 1 3.4 0l8 14A2 2 0 0 1 20 20H4a2 2 0 0 1-1.7-2.7l8-14Z" stroke="white" stroke-width="2"/>
              <path d="M12 9v5" stroke="white" stroke-width="2" stroke-linecap="round"/>
              <path d="M12 17h.01" stroke="white" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </div>
          <div class="headtext">
            <h2>C. difficile testing (faeces)</h2>
            <p class="hint">Same specimen quality pitfalls as stool culture; disinfectant residue is a frequent avoidable failure.</p>
            <div class="badges">
              <span class="badge b-info">Leak-proof container</span>
              <span class="badge b-warn">Refrigerate if delayed</span>
              <span class="badge b-bad">Disinfectant residue → unsatisfactory</span>
            </div>
          </div>
        </div>

        <div class="cardbody">
          <div class="summary">
            <div class="sumhead">
              <div class="label"><span class="mono">Container/collection</span></div>
              <div class="mini"><button class="btn primary" data-copy="cdiff">Copy</button></div>
            </div>
            <div class="node">
              <div class="callout good">
                <div class="dot"></div>
                <div class="txt"><b>Use:</b> faeces in a <b>CE-marked leak-proof container</b> (sealed bag).</div>
              </div>
              <div class="callout warn">
                <div class="dot"></div>
                <div class="txt">
                  <b>How to take:</b> pass stool into clean dry receptacle → transfer.
                  Specimen is <b>unsatisfactory if residual soap/detergent/disinfectant remains</b>.
                </div>
              </div>
              <div class="callout">
                <div class="dot"></div>
                <div class="txt"><b>Transport/storage:</b> send ASAP; if delayed, <b>refrigerate</b>.</div>
              </div>
              <div class="callout bad">
                <div class="dot"></div>
                <div class="txt"><b>Common rejection:</b> contaminated pot (disinfectant), leaking, wrong/insufficient ID.</div>
              </div>
            </div>
          </div>
        </div>
      </article>

      <!-- ENTERIC VIRUS -->
      <article class="card" id="enteric" data-tags="enteric virus pcr norovirus rotavirus adenovirus astrovirus sapovirus faeces leak proof container refrigeration">
        <div class="accent" style="background: var(--cViolet)"></div>
        <div class="cardhead">
          <div class="icon" style="outline: 2px solid rgba(167,139,250,.25)">
            <!-- virus-ish -->
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M12 22a10 10 0 1 0 0-20 10 10 0 0 0 0 20Z" stroke="white" stroke-width="2"/>
              <path d="M12 8v8" stroke="white" stroke-width="2" stroke-linecap="round"/>
              <path d="M8 12h8" stroke="white" stroke-width="2" stroke-linecap="round"/>
              <path d="M9.5 9.5l5 5" stroke="white" stroke-width="2" stroke-linecap="round"/>
              <path d="M14.5 9.5l-5 5" stroke="white" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </div>
          <div class="headtext">
            <h2>Enteric virus PCR panel (faeces)</h2>
            <p class="hint">Stool into leak-proof pot; transport ASAP; refrigerate if delayed.</p>
            <div class="badges">
              <span class="badge b-info">Faeces in leak-proof container</span>
              <span class="badge b-warn">Refrigerate if delayed</span>
            </div>
          </div>
        </div>

        <div class="cardbody">
          <div class="summary">
            <div class="sumhead">
              <div class="label"><span class="mono">Container/collection</span></div>
              <div class="mini"><button class="btn primary" data-copy="enteric">Copy</button></div>
            </div>
            <div class="node">
              <div class="callout good">
                <div class="dot"></div>
                <div class="txt"><b>Use:</b> faeces in a <b>CE-marked leak-proof container</b> (sealed bag).</div>
              </div>
              <div class="callout warn">
                <div class="dot"></div>
                <div class="txt"><b>Transport/storage:</b> transport as soon as possible; if delayed, <b>refrigerate</b>.</div>
              </div>
              <div class="callout bad">
                <div class="dot"></div>
                <div class="txt"><b>Common rejection:</b> leaking/hazardous pot, wrong/insufficient ID, illegible/mismatch.</div>
              </div>
            </div>
          </div>
        </div>
      </article>

      <!-- WOUND/ABSCESS -->
      <article class="card" id="wound" data-tags="wound abscess pus eswab liquid swab anaerobes deepest part do not discard liquid rejection insufficient liquid">
        <div class="accent" style="background: var(--cGreen)"></div>
        <div class="cardhead">
          <div class="icon" style="outline: 2px solid rgba(52,211,153,.25)">
            <!-- bandage -->
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M9 3 3 9a4 4 0 0 0 0 6l6 6a4 4 0 0 0 6 0l6-6a4 4 0 0 0 0-6l-6-6a4 4 0 0 0-6 0Z" stroke="white" stroke-width="2"/>
              <path d="M8 16h8" stroke="white" stroke-width="2" stroke-linecap="round"/>
              <path d="M8 12h8" stroke="white" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </div>
          <div class="headtext">
            <h2>Wound / abscess (bacterial & fungal culture)</h2>
            <p class="hint">Pus preferred; if swab, use liquid eSwab and don’t discard the transport fluid.</p>
            <div class="badges">
              <span class="badge b-good">Pus preferred</span>
              <span class="badge b-info">Liquid eSwab</span>
              <span class="badge b-bad">Insufficient eSwab liquid → discarded</span>
            </div>
          </div>
        </div>

        <div class="cardbody">
          <div class="summary">
            <div class="sumhead">
              <div class="label"><span class="mono">Container/medium</span></div>
              <div class="mini"><button class="btn primary" data-copy="wound">Copy</button></div>
            </div>
            <div class="node">
              <div class="callout good">
                <div class="dot"></div>
                <div class="txt">
                  <b>Best specimen:</b> <b>aspirated pus</b> in a <b>CE-marked leak-proof container</b>.
                  <br><b>If swab:</b> use <b>liquid eSwab</b>.
                </div>
              </div>
              <div class="callout warn">
                <div class="dot"></div>
                <div class="txt">
                  <b>How to take:</b> collect before antimicrobials where possible. If swabbing, sample the <b>deepest part</b> of wound/abscess, avoid superficial flora. Swab should be <b>well soaked</b>; <b>do NOT discard eSwab liquid</b>.
                </div>
              </div>
              <div class="callout bad">
                <div class="dot"></div>
                <div class="txt">
                  <b>Common rejection/non-processing:</b> eSwab with <b>insufficient liquid</b> (discarded), leaking/hazardous container, wrong/insufficient ID, illegible or mismatch.
                </div>
              </div>
            </div>
          </div>

          <div class="accordion">
            <button class="accbtn" aria-expanded="false">
              Quick technique tips (to maximise yield)
              <svg class="chev" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M7 10l5 5 5-5" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </button>
            <div class="accpanel">
              <div class="accinner">
                <ul>
                  <li>Pus aspirate beats swab for polymicrobial/anaerobic infections.</li>
                  <li>If swabbing: debride/clean surface exudate first, then sample deep tissue/active edge.</li>
                  <li>Transport quickly; large pus volumes preserve anaerobes better than small swabs.</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </article>

      <!-- MOUTH SWAB -->
      <article class="card" id="mouth" data-tags="mouth swab oral eswab fungal bacterial collection instructions eat drink brush teeth mouth rinse 2 hours">
        <div class="accent" style="background: var(--cBlue)"></div>
        <div class="cardhead">
          <div class="icon" style="outline: 2px solid rgba(96,165,250,.25)">
            <!-- mouth -->
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M4 12c3 6 13 6 16 0" stroke="white" stroke-width="2" stroke-linecap="round"/>
              <path d="M4 12c3-6 13-6 16 0" stroke="white" stroke-width="2" stroke-linecap="round" opacity=".9"/>
              <path d="M8 14c1.5 1.5 6.5 1.5 8 0" stroke="white" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </div>
          <div class="headtext">
            <h2>Mouth swab (bacteriology/fungal)</h2>
            <p class="hint">Standardised preconditions (no food/drink/teeth brushing/mouthwash within 2 h) improve comparability.</p>
            <div class="badges">
              <span class="badge b-info">Liquid eSwab</span>
              <span class="badge b-warn">No food/drink/brush/mouthwash 2 h</span>
            </div>
          </div>
        </div>

        <div class="cardbody">
          <div class="summary">
            <div class="sumhead">
              <div class="label"><span class="mono">Container/medium</span></div>
              <div class="mini"><button class="btn primary" data-copy="mouth">Copy</button></div>
            </div>
            <div class="node">
              <div class="callout good">
                <div class="dot"></div>
                <div class="txt"><b>Use:</b> <b>liquid eSwab</b> in sealed bag.</div>
              </div>
              <div class="callout warn">
                <div class="dot"></div>
                <div class="txt">
                  <b>How to take:</b> ideally morning/fasted. Patient should not <b>eat/drink</b>, <b>brush teeth</b>, or use <b>mouth rinse/disinfectant</b> within <b>2 hours</b> prior. Sample pus if present; otherwise sample lesions/inflamed areas.
                </div>
              </div>
              <div class="callout bad">
                <div class="dot"></div>
                <div class="txt"><b>Common rejection:</b> insufficient/incorrect ID, leaking/hazardous, incorrect tube, or inadequate specimen integrity.</div>
              </div>
            </div>
          </div>
        </div>
      </article>

      <!-- RESP VIRUS -->
      <article class="card" id="resp" data-tags="respiratory virus swab vtm nose throat swab throat first nose covid transport medium">
        <div class="accent" style="background: var(--cViolet)"></div>
        <div class="cardhead">
          <div class="icon" style="outline: 2px solid rgba(167,139,250,.25)">
            <!-- lungs -->
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M12 12V4" stroke="white" stroke-width="2" stroke-linecap="round"/>
              <path d="M12 12c0 6-3 9-7 9-1.7 0-3-1.3-3-3 0-3 2.5-8 6-9" stroke="white" stroke-width="2" stroke-linejoin="round"/>
              <path d="M12 12c0 6 3 9 7 9 1.7 0 3-1.3 3-3 0-3-2.5-8-6-9" stroke="white" stroke-width="2" stroke-linejoin="round"/>
            </svg>
          </div>
          <div class="headtext">
            <h2>Respiratory virus swabs (nose + throat)</h2>
            <p class="hint">Two swabs into one VTM tube; throat first then nose.</p>
            <div class="badges">
              <span class="badge b-good">VTM (virus transport medium)</span>
              <span class="badge b-warn">Throat first → then nose</span>
            </div>
          </div>
        </div>

        <div class="cardbody">
          <div class="summary">
            <div class="sumhead">
              <div class="label"><span class="mono">Container/medium</span></div>
              <div class="mini"><button class="btn primary" data-copy="resp">Copy</button></div>
            </div>
            <div class="node">
              <div class="callout good">
                <div class="dot"></div>
                <div class="txt"><b>Use:</b> <b>one tube of VTM</b> (virus transport medium).</div>
              </div>
              <div class="callout warn">
                <div class="dot"></div>
                <div class="txt">
                  <b>How to take:</b> swab each site with a <b>separate swab</b> and place <b>both swabs into the same VTM tube</b>.
                  If collecting combined nose/throat, swab the <b>throat first</b> then the <b>nose</b>.
                </div>
              </div>
              <div class="callout bad">
                <div class="dot"></div>
                <div class="txt"><b>Common rejection:</b> wrong medium/container, leaking package, insufficient/incorrect ID or mismatch.</div>
              </div>
            </div>
          </div>
        </div>
      </article>

    </section>

    <div class="footer">
      <div><b>Keyboard:</b> <code>Ctrl+K</code> focus search • <code>Esc</code> clear.</div>
      <div><b>Tip:</b> Use “Specimen finder” to generate a one-block instruction and paste into the request/task.</div>
    </div>
  </div>

<script>
  const $ = (s, el=document) => el.querySelector(s);
  const $$ = (s, el=document) => Array.from(el.querySelectorAll(s));

  // ---------- Accordion ----------
  function setPanelHeight(panel, open){
    const inner = panel.firstElementChild;
    if (!inner) return;
    panel.style.maxHeight = open ? inner.scrollHeight + "px" : "0px";
  }
  function wireAccordions(){
    $$(".accordion").forEach(acc=>{
      const btn = $(".accbtn", acc);
      const panel = $(".accpanel", acc);
      if(!btn||!panel) return;
      btn.addEventListener("click", ()=>{
        const open = btn.getAttribute("aria-expanded")==="true";
        btn.setAttribute("aria-expanded", String(!open));
        setPanelHeight(panel, !open);
      });
      window.addEventListener("resize", ()=>{
        if(btn.getAttribute("aria-expanded")==="true") setPanelHeight(panel, true);
      });
    });
  }
  function expandAll(){
    $$(".accordion").forEach(acc=>{
      const btn = $(".accbtn", acc);
      const panel = $(".accpanel", acc);
      if(!btn||!panel) return;
      btn.setAttribute("aria-expanded","true");
      setPanelHeight(panel,true);
    });
  }
  function collapseAll(){
    $$(".accordion").forEach(acc=>{
      const btn = $(".accbtn", acc);
      const panel = $(".accpanel", acc);
      if(!btn||!panel) return;
      btn.setAttribute("aria-expanded","false");
      setPanelHeight(panel,false);
    });
  }

  // ---------- Search / filter ----------
  function filterCards(q){
    const term = q.trim().toLowerCase();
    $$(".card").forEach(card=>{
      const hay = (card.getAttribute("data-tags")||"") + " " + card.textContent;
      const show = term==="" || hay.toLowerCase().includes(term);
      card.style.display = show ? "" : "none";
    });
  }
  function wireSearch(){
    const input = $("#q");
    window.addEventListener("keydown",(e)=>{
      if((e.ctrlKey||e.metaKey) && e.key.toLowerCase()==="k"){
        e.preventDefault(); input.focus();
      }
      if(e.key==="Escape"){
        if(document.activeElement===input || input.value){
          input.value=""; filterCards(""); input.blur();
        }
      }
    });
    input.addEventListener("input", ()=>filterCards(input.value));
  }

  // ---------- Specimen finder ----------
  const FINDER = {
    urine: {
      title: "Urine culture / UTI — what to send",
      block: [
        "CONTAINER: 10 mL boric acid Monovette (reject if not in boric acid).",
        "EXCEPTION: babies ≤3 months: universal container acceptable if volume <10 mL.",
        "COLLECTION: MSU/clean catch preferred. Dipstick in clinic (leucocyte esterase + nitrites) and document result.",
        "TRANSPORT: send promptly; refrigerate at 4°C if delay; >48 h old = unsuitable (repeat).",
        "COMMON REJECTION: wrong pot (no boric acid), missing dipstick/screening info, ID mismatch/illegible, leaking/hazardous. Catheter tips not processed."
      ]
    },
    faeces: {
      title: "Faeces culture — what to send",
      block: [
        "CONTAINER: CE-marked leak-proof stool pot (sealed bag).",
        "COLLECTION: pass into clean dry disposable receptacle and transfer. Avoid urine/toilet contamination.",
        "QUALITY: specimen unsatisfactory if any residual soap/detergent/disinfectant present.",
        "TRANSPORT: send ASAP; refrigerate if delayed.",
        "NON-PROCESSING: additional stool collected within 24 h of last sample is not processed."
      ]
    },
    cdiff: {
      title: "C. difficile testing — what to send",
      block: [
        "CONTAINER: CE-marked leak-proof stool pot (sealed bag).",
        "COLLECTION: avoid soap/detergent/disinfectant residue (unsatisfactory).",
        "TRANSPORT: send ASAP; refrigerate if delayed.",
        "COMMON REJECTION: leaking/hazardous, wrong/insufficient ID or mismatch."
      ]
    },
    enteric: {
      title: "Enteric virus PCR — what to send",
      block: [
        "CONTAINER: faeces in CE-marked leak-proof container (sealed bag).",
        "TRANSPORT: send ASAP; refrigerate if delayed.",
        "COMMON REJECTION: leaking/hazardous, wrong/insufficient ID or mismatch."
      ]
    },
    wound: {
      title: "Wound/abscess culture — what to send",
      block: [
        "BEST SPECIMEN: aspirated pus in CE-marked leak-proof container.",
        "IF SWAB: use liquid eSwab (do NOT discard the transport fluid). Swab should be well soaked.",
        "COLLECTION: sample deepest part; avoid superficial flora; collect before antimicrobials where possible.",
        "COMMON REJECTION: eSwab with insufficient liquid (discarded), leaking/hazardous, wrong/insufficient ID or mismatch."
      ]
    },
    mouth: {
      title: "Mouth swab — what to send",
      block: [
        "CONTAINER/MEDIUM: liquid eSwab (sealed bag).",
        "PRECONDITIONS: no food/drink, no tooth brushing, no mouth rinse/disinfectant within 2 hours prior; ideally morning/fasted.",
        "COLLECTION: sample pus if present; otherwise lesions/inflamed areas.",
        "COMMON REJECTION: wrong/insufficient ID, leaking/hazardous, wrong tube/container."
      ]
    },
    resp: {
      title: "Respiratory virus swabs (nose + throat) — what to send",
      block: [
        "CONTAINER/MEDIUM: one tube of VTM (virus transport medium).",
        "COLLECTION: take separate throat swab + nose swab; place both into the same VTM tube.",
        "ORDER: swab throat first, then nose.",
        "COMMON REJECTION: wrong medium/container, leaking package, wrong/insufficient ID or mismatch."
      ]
    }
  };

  function renderFinder(key){
    const box = $("#finderBox");
    const item = FINDER[key];
    if(!item){
      box.innerHTML = `
        <div class="sumhead">
          <div class="label"><span class="mono">How to use</span></div>
          <div class="mini"><button class="btn primary" id="copyFinder" disabled>Copy</button></div>
        </div>
        <div class="node">
          <div class="callout">
            <div class="dot"></div>
            <div class="txt">
              Select a scenario in <b>Specimen quick picker</b> above (or use the dropdown here) to generate an instruction block.
            </div>
          </div>
        </div>`;
      return;
    }
    const text = item.block.join("\n");
    box.innerHTML = `
      <div class="sumhead">
        <div class="label"><span class="mono">Instruction block</span></div>
        <div class="mini"><button class="btn primary" id="copyFinder">Copy</button></div>
      </div>
      <div class="node">
        <div class="callout good">
          <div class="dot"></div>
          <div class="txt"><b>${item.title}</b></div>
        </div>
        <div class="callout">
          <div class="dot"></div>
          <div class="txt"><pre style="margin:0;white-space:pre-wrap;font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;font-size:12.5px;color:rgba(231,238,252,.92)">${text}</pre></div>
        </div>
      </div>
    `;
    $("#copyFinder").addEventListener("click", async ()=>{
      try{
        await navigator.clipboard.writeText(text);
        $("#copyFinder").textContent = "Copied ✓";
        setTimeout(()=>$("#copyFinder").textContent="Copy", 900);
      }catch{
        $("#copyFinder").textContent = "Copy failed";
        setTimeout(()=>$("#copyFinder").textContent="Copy", 900);
      }
    });
  }

  // ---------- Copy buttons on cards ----------
  const CARD_COPY = {
    urine: () => FINDER.urine.block.join("\n"),
    faeces: () => FINDER.faeces.block.join("\n"),
    cdiff: () => FINDER.cdiff.block.join("\n"),
    enteric: () => FINDER.enteric.block.join("\n"),
    wound: () => FINDER.wound.block.join("\n"),
    mouth: () => FINDER.mouth.block.join("\n"),
    resp: () => FINDER.resp.block.join("\n"),
  };

  function wireCopyButtons(){
    $$("[data-copy]").forEach(btn=>{
      btn.addEventListener("click", async ()=>{
        const key = btn.getAttribute("data-copy");
        const text = CARD_COPY[key]?.();
        if(!text) return;
        try{
          await navigator.clipboard.writeText(text);
          btn.textContent = "Copied ✓";
          setTimeout(()=>btn.textContent="Copy", 900);
        }catch{
          btn.textContent = "Copy failed";
          setTimeout(()=>btn.textContent="Copy", 900);
        }
      });
    });
  }

  // ---------- Jump to card ----------
  function scrollToId(id){
    const el = document.getElementById(id);
    if(!el) return;
    el.scrollIntoView({behavior:"smooth", block:"start"});
    el.style.boxShadow = "0 0 0 4px rgba(120,180,255,.30), 0 22px 55px rgba(0,0,0,.45)";
    setTimeout(()=>{ el.style.boxShadow = ""; }, 900);
  }
  function wireJump(){
    const picker = $("#specimenPicker");
    $("#jumpBtn").addEventListener("click", ()=>{
      const v = picker.value;
      if(!v){ scrollToId("finder"); return; }
      renderFinder(v);
      scrollToId(v);
    });
  }

  // ---------- Global expand/collapse ----------
  function wireGlobalButtons(){
    const exp = $("#expandAllBtn");
    const col = $("#collapseAllBtn");
    const keyActivate = (el, fn)=>{
      el.addEventListener("click", fn);
      el.addEventListener("keydown", (e)=>{
        if(e.key==="Enter" || e.key===" "){ e.preventDefault(); fn(); }
      });
    };
    keyActivate(exp, expandAll);
    keyActivate(col, collapseAll);
  }

  // init
  wireAccordions();
  wireSearch();
  wireGlobalButtons();
  wireCopyButtons();
  wireJump();
  renderFinder(""); // default
</script>
</body>
</html>
