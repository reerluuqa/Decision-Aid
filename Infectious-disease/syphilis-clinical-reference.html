<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Syphilis Rapid Reference Guide</title>
    <style>
        :root {
            --urgent-red: #DC2626;
            --urgent-red-bg: #FEF2F2;
            --urgent-red-border: #FECACA;
            --safe-green: #16A34A;
            --safe-green-bg: #F0FDF4;
            --safe-green-border: #BBF7D0;
            --info-blue: #2563EB;
            --info-blue-bg: #EFF6FF;
            --info-blue-border: #BFDBFE;
            --neutral-bg: #F8FAFC;
            --card-bg: #FFFFFF;
            --text-primary: #1E293B;
            --text-secondary: #64748B;
            --text-light: #94A3B8;
            --border-color: #E2E8F0;
            --shadow-sm: 0 1px 2px rgba(0,0,0,0.05);
            --shadow-md: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -2px rgba(0,0,0,0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -4px rgba(0,0,0,0.1);
            --transition-fast: 0.15s ease;
            --transition-normal: 0.25s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background-color: var(--neutral-bg);
            color: var(--text-primary);
            line-height: 1.6;
            font-size: 16px;
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, var(--info-blue) 0%, #1D4ED8 100%);
            color: white;
            padding: 1.5rem 2rem;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: var(--shadow-lg);
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .header h1 {
            font-size: 1.5rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .header-controls {
            display: flex;
            gap: 1rem;
            align-items: center;
            flex-wrap: wrap;
        }

        .search-box {
            position: relative;
        }

        .search-box input {
            padding: 0.75rem 1rem 0.75rem 2.75rem;
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 8px;
            background: rgba(255,255,255,0.15);
            color: white;
            font-size: 0.95rem;
            width: 280px;
            transition: var(--transition-normal);
        }

        .search-box input::placeholder {
            color: rgba(255,255,255,0.7);
        }

        .search-box input:focus {
            outline: none;
            border-color: white;
            background: rgba(255,255,255,0.25);
        }

        .search-box::before {
            content: "üîç";
            position: absolute;
            left: 0.85rem;
            top: 50%;
            transform: translateY(-50%);
            font-size: 0.9rem;
        }

        .toggle-btn {
            padding: 0.6rem 1rem;
            background: rgba(255,255,255,0.2);
            border: 2px solid rgba(255,255,255,0.4);
            border-radius: 8px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition-normal);
            font-size: 0.9rem;
        }

        .toggle-btn:hover {
            background: rgba(255,255,255,0.3);
        }

        .toggle-btn.active {
            background: white;
            color: var(--urgent-red);
        }

        /* Emergency Banner */
        .emergency-banner {
            background: var(--urgent-red);
            color: white;
            padding: 1rem 2rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            animation: pulse-red 2s infinite;
        }

        @keyframes pulse-red {
            0%, 100% { box-shadow: 0 0 0 0 rgba(220, 38, 38, 0.4); }
            50% { box-shadow: 0 0 0 8px rgba(220, 38, 38, 0); }
        }

        .emergency-banner .icon {
            font-size: 1.75rem;
            animation: bounce 1s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-3px); }
        }

        .emergency-banner .content {
            flex: 1;
        }

        .emergency-banner h2 {
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 0.25rem;
        }

        .emergency-banner p {
            font-size: 0.95rem;
            opacity: 0.95;
        }

        /* Main Container */
        .main-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 1.5rem 2rem;
        }

        /* Two-Column Layout */
        .content-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
        }

        .content-grid.single-column {
            grid-template-columns: 1fr;
        }

        @media (max-width: 1024px) {
            .content-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Section Headers */
        .section-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1rem;
            padding-bottom: 0.75rem;
            border-bottom: 2px solid var(--border-color);
        }

        .section-header .icon {
            font-size: 1.5rem;
        }

        .section-header h2 {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--text-primary);
        }

        .section-header.urgent {
            border-bottom-color: var(--urgent-red);
        }

        .section-header.urgent h2 {
            color: var(--urgent-red);
        }

        .section-header.safe {
            border-bottom-color: var(--safe-green);
        }

        .section-header.safe h2 {
            color: var(--safe-green);
        }

        .section-header.info {
            border-bottom-color: var(--info-blue);
        }

        /* Cards */
        .card {
            background: var(--card-bg);
            border-radius: 12px;
            box-shadow: var(--shadow-md);
            margin-bottom: 1.25rem;
            overflow: hidden;
            transition: var(--transition-normal);
            border: 1px solid var(--border-color);
        }

        .card:hover {
            box-shadow: var(--shadow-lg);
            transform: translateY(-2px);
        }

        .card-header {
            padding: 1rem 1.25rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            transition: var(--transition-fast);
        }

        .card-header.urgent {
            background: var(--urgent-red-bg);
            border-left: 4px solid var(--urgent-red);
        }

        .card-header.safe {
            background: var(--safe-green-bg);
            border-left: 4px solid var(--safe-green);
        }

        .card-header.info {
            background: var(--info-blue-bg);
            border-left: 4px solid var(--info-blue);
        }

        .card-header.neutral {
            background: var(--neutral-bg);
            border-left: 4px solid var(--text-secondary);
        }

        .card-title {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-weight: 700;
            font-size: 1.05rem;
        }

        .card-title .badge {
            font-size: 0.7rem;
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .badge-emergency {
            background: var(--urgent-red);
            color: white;
        }

        .badge-action {
            background: var(--safe-green);
            color: white;
        }

        .badge-info {
            background: var(--info-blue);
            color: white;
        }

        .card-toggle {
            font-size: 1.25rem;
            transition: var(--transition-fast);
            color: var(--text-secondary);
        }

        .card.collapsed .card-toggle {
            transform: rotate(-90deg);
        }

        .card.collapsed .card-body {
            display: none;
        }

        .card-body {
            padding: 1.25rem;
        }

        /* Tables */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
            margin: 0.5rem 0;
        }

        .data-table th,
        .data-table td {
            padding: 0.75rem 1rem;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        .data-table th {
            background: var(--neutral-bg);
            font-weight: 700;
            color: var(--text-primary);
            position: sticky;
            top: 0;
        }

        .data-table tr:hover {
            background: var(--neutral-bg);
        }

        .data-table tr.urgent-row {
            background: var(--urgent-red-bg);
        }

        .data-table tr.urgent-row:hover {
            background: var(--urgent-red-border);
        }

        .data-table tr.positive-row {
            background: var(--safe-green-bg);
        }

        .data-table tr.positive-row:hover {
            background: var(--safe-green-border);
        }

        /* Status Indicators */
        .status-indicator {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.35rem 0.75rem;
            border-radius: 6px;
            font-weight: 600;
            font-size: 0.85rem;
        }

        .status-negative {
            background: var(--urgent-red-bg);
            color: var(--urgent-red);
        }

        .status-positive {
            background: var(--safe-green-bg);
            color: var(--safe-green);
        }

        .status-equivocal {
            background: #FEF3C7;
            color: #D97706;
        }

        /* Info Box */
        .info-box {
            padding: 1rem 1.25rem;
            border-radius: 8px;
            margin: 0.75rem 0;
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
        }

        .info-box.urgent {
            background: var(--urgent-red-bg);
            border: 1px solid var(--urgent-red-border);
        }

        .info-box.safe {
            background: var(--safe-green-bg);
            border: 1px solid var(--safe-green-border);
        }

        .info-box.info {
            background: var(--info-blue-bg);
            border: 1px solid var(--info-blue-border);
        }

        .info-box .icon {
            font-size: 1.25rem;
            flex-shrink: 0;
        }

        .info-box strong {
            display: block;
            margin-bottom: 0.25rem;
        }

        /* Checklist */
        .checklist {
            list-style: none;
        }

        .checklist li {
            padding: 0.6rem 0;
            padding-left: 2rem;
            position: relative;
            border-bottom: 1px solid var(--border-color);
        }

        .checklist li:last-child {
            border-bottom: none;
        }

        .checklist li::before {
            content: "‚òê";
            position: absolute;
            left: 0;
            font-size: 1.1rem;
            color: var(--text-secondary);
        }

        .checklist li.checked::before {
            content: "‚òë";
            color: var(--safe-green);
        }

        /* Drug Card */
        .drug-card {
            background: linear-gradient(135deg, var(--safe-green-bg) 0%, #DCFCE7 100%);
            border: 2px solid var(--safe-green);
            border-radius: 10px;
            padding: 1.25rem;
            margin: 0.75rem 0;
        }

        .drug-card h4 {
            color: var(--safe-green);
            font-size: 1.1rem;
            margin-bottom: 0.75rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .drug-dosage {
            background: white;
            padding: 1rem;
            border-radius: 8px;
            font-family: 'SF Mono', Monaco, 'Courier New', monospace;
            font-size: 0.95rem;
            margin-top: 0.75rem;
            border-left: 4px solid var(--safe-green);
        }

        .drug-dosage .dose {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--safe-green);
        }

        /* Tooltip */
        .tooltip {
            position: relative;
            display: inline-block;
            border-bottom: 2px dotted var(--text-secondary);
            cursor: help;
            color: var(--info-blue);
            font-weight: 600;
        }

        .tooltip::after {
            content: attr(data-tip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: var(--text-primary);
            color: white;
            padding: 0.5rem 0.75rem;
            border-radius: 6px;
            font-size: 0.85rem;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition-fast);
            z-index: 100;
            font-weight: 500;
        }

        .tooltip:hover::after {
            opacity: 1;
            visibility: visible;
        }

        /* Stage Tabs */
        .stage-tabs {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }

        .stage-tab {
            padding: 0.6rem 1.25rem;
            background: var(--neutral-bg);
            border: 2px solid var(--border-color);
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition-fast);
            font-size: 0.9rem;
        }

        .stage-tab:hover {
            border-color: var(--info-blue);
            color: var(--info-blue);
        }

        .stage-tab.active {
            background: var(--info-blue);
            border-color: var(--info-blue);
            color: white;
        }

        .stage-tab.urgent {
            border-color: var(--urgent-red);
            color: var(--urgent-red);
        }

        .stage-tab.urgent.active {
            background: var(--urgent-red);
            color: white;
        }

        /* Timeline */
        .timeline {
            position: relative;
            padding-left: 2rem;
            margin: 1rem 0;
        }

        .timeline::before {
            content: "";
            position: absolute;
            left: 0.5rem;
            top: 0;
            bottom: 0;
            width: 3px;
            background: var(--border-color);
        }

        .timeline-item {
            position: relative;
            padding-bottom: 1.25rem;
        }

        .timeline-item::before {
            content: "";
            position: absolute;
            left: -1.5rem;
            top: 0.25rem;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--info-blue);
            border: 3px solid white;
            box-shadow: var(--shadow-sm);
        }

        .timeline-item.urgent::before {
            background: var(--urgent-red);
        }

        .timeline-item h4 {
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 0.35rem;
        }

        .timeline-item p {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        /* Quick Actions Grid */
        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }

        .action-btn {
            padding: 1rem;
            border-radius: 10px;
            border: 2px solid;
            cursor: pointer;
            transition: var(--transition-normal);
            text-align: center;
            font-weight: 600;
        }

        .action-btn.safe {
            background: var(--safe-green-bg);
            border-color: var(--safe-green);
            color: var(--safe-green);
        }

        .action-btn.safe:hover {
            background: var(--safe-green);
            color: white;
        }

        .action-btn.urgent {
            background: var(--urgent-red-bg);
            border-color: var(--urgent-red);
            color: var(--urgent-red);
        }

        .action-btn.urgent:hover {
            background: var(--urgent-red);
            color: white;
        }

        .action-btn.info {
            background: var(--info-blue-bg);
            border-color: var(--info-blue);
            color: var(--info-blue);
        }

        .action-btn.info:hover {
            background: var(--info-blue);
            color: white;
        }

        /* Alert Callout */
        .alert-callout {
            padding: 1.25rem;
            border-radius: 10px;
            margin: 1rem 0;
            display: flex;
            gap: 1rem;
        }

        .alert-callout.danger {
            background: linear-gradient(135deg, var(--urgent-red-bg) 0%, #FEE2E2 100%);
            border: 2px solid var(--urgent-red);
        }

        .alert-callout.warning {
            background: linear-gradient(135deg, #FEF3C7 0%, #FDE68A 100%);
            border: 2px solid #D97706;
        }

        .alert-callout.success {
            background: linear-gradient(135deg, var(--safe-green-bg) 0%, #DCFCE7 100%);
            border: 2px solid var(--safe-green);
        }

        .alert-icon {
            font-size: 2rem;
            flex-shrink: 0;
        }

        .alert-content h4 {
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .alert-content.danger h4 {
            color: var(--urgent-red);
        }

        .alert-content.warning h4 {
            color: #D97706;
        }

        .alert-content.success h4 {
            color: var(--safe-green);
        }

        /* Hidden elements for filtering */
        .hidden {
            display: none !important;
        }

        /* Footer */
        .footer {
            background: var(--neutral-bg);
            border-top: 1px solid var(--border-color);
            padding: 1.5rem 2rem;
            margin-top: 2rem;
        }

        .footer-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .disclaimer {
            font-size: 0.8rem;
            color: var(--text-secondary);
            max-width: 600px;
        }

        .source-info {
            font-size: 0.85rem;
            color: var(--text-light);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header {
                padding: 1rem;
            }

            .header-content {
                flex-direction: column;
                align-items: flex-start;
            }

            .search-box input {
                width: 100%;
            }

            .main-container {
                padding: 1rem;
            }

            .data-table {
                font-size: 0.8rem;
            }

            .data-table th,
            .data-table td {
                padding: 0.5rem;
            }
        }

        /* Print Styles */
        @media print {
            .header, .footer, .card-toggle, .toggle-btn, .search-box {
                display: none !important;
            }

            .card {
                break-inside: avoid;
                box-shadow: none;
                border: 1px solid #000;
            }

            .emergency-banner {
                background: #DC2626 !important;
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }
        }

        /* Highlight effect for search */
        .highlight {
            background: #FEF08A;
            padding: 0.1rem 0.2rem;
            border-radius: 2px;
        }

        /* Animation for new content */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.3s ease forwards;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <h1>
                <span>ü©∫</span>
                Syphilis Rapid Reference Guide
            </h1>
            <div class="header-controls">
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="Search conditions, drugs, symptoms...">
                </div>
                <button class="toggle-btn active" onclick="toggleRedFlags()">üö® Red Flags</button>
                <button class="toggle-btn" onclick="toggleDarkMode()">üåô</button>
            </div>
        </div>
    </header>

    <!-- Emergency Red Flags Banner -->
    <div class="emergency-banner" id="redFlagBanner">
        <span class="icon">‚ö†Ô∏è</span>
        <div class="content">
            <h2>IMMEDIATE ACTION REQUIRED</h2>
            <p>Neurosyphilis, ocular involvement, Jarisch-Herxheimer reaction, or congenital syphilis require urgent intervention</p>
        </div>
    </div>

    <!-- Main Content -->
    <main class="main-container">
        <div class="content-grid" id="mainContent">
            <!-- Left Column: Clinical Information -->
            <div class="left-column">
                <!-- Stage Overview -->
                <div class="card" data-category="diagnosis">
                    <div class="card-header neutral" onclick="toggleCard(this)">
                        <div class="card-title">
                            <span>üìä</span>
                            Disease Stages Overview
                        </div>
                        <span class="card-toggle">‚ñº</span>
                    </div>
                    <div class="card-body">
                        <div class="stage-tabs">
                            <button class="stage-tab active" onclick="showStage('primary')">Primary</button>
                            <button class="stage-tab" onclick="showStage('secondary')">Secondary</button>
                            <button class="stage-tab" onclick="showStage('latent')">Latent</button>
                            <button class="stage-tab" onclick="showStage('tertiary')">Tertiary</button>
                        </div>

                        <div id="stageContent">
                            <!-- Primary Stage -->
                            <div class="stage-detail" data-stage="primary">
                                <div class="info-box info">
                                    <span>üí°</span>
                                    <div>
                                        <strong>Primary Syphilis - 9-90 days post-exposure (typically 14-21 days)</strong>
                                        Characterized by a solitary painless genital ulcer (chancre) with indurated base. May heal spontaneously.
                                    </div>
                                </div>
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>Feature</th>
                                            <th>Description</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td><strong>Chancre</strong></td>
                                            <td>Solitary, painless, clean ulcer with indurated base; 1-2 cm diameter</td>
                                        </tr>
                                        <tr>
                                            <td><strong>Location</strong></td>
                                            <td>Anogenital region, cervix, perianal area, mouth</td>
                                        </tr>
                                        <tr>
                                            <td><strong>Lymphadenopathy</strong></td>
                                            <td>Painless, rubbery, regional (inguinal) lymph nodes</td>
                                        </tr>
                                        <tr>
                                            <td><strong>Atypical</strong></td>
                                            <td>Multiple or painful ulcers; consider HSV/chancroid co-infection</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <!-- Secondary Stage -->
                            <div class="stage-detail hidden" data-stage="secondary">
                                <div class="info-box info">
                                    <span>üí°</span>
                                    <div>
                                        <strong>Secondary Syphilis - 4-8 weeks after primary infection</strong>
                                        Haematogenous spread affects multiple organ systems. Highly infectious stage.
                                    </div>
                                </div>
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>Feature</th>
                                            <th>Description</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td><strong>Rash</strong></td>
                                            <td>Symmetrical maculopapular rash; palms and soles ALWAYS involved</td>
                                        </tr>
                                        <tr>
                                            <td><strong>Mucous Membranes</strong></td>
                                            <td>"Snail-track" ulcers on buccal mucosa; condylomata lata (genital warts)</td>
                                        </tr>
                                        <tr>
                                            <td><strong>Systemic</strong></td>
                                            <td>Fever, malaise, myalgia, arthralgia, generalized lymphadenopathy</td>
                                        </tr>
                                        <tr>
                                            <td><strong>Other</strong></td>
                                            <td>Alopecia (patchy), hepatitis, glomerulonephritis, meningitis</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <!-- Latent Stage -->
                            <div class="stage-detail hidden" data-stage="latent">
                                <div class="info-box info">
                                    <span>üí°</span>
                                    <div>
                                        <strong>Latent Syphilis - Asymptomatic infection with positive serology</strong>
                                        Divided into early (<1 year) and late latent (>1 year) for treatment purposes.
                                    </div>
                                </div>
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>Type</th>
                                            <th>Definition</th>
                                            <th>Relapse Risk</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td><strong>Early Latent</strong></td>
                                            <td>Acquired <1 year (CDC) or <2 years (WHO)</td>
                                            <td>High - can relapse to secondary</td>
                                        </tr>
                                        <tr>
                                            <td><strong>Late Latent</strong></td>
                                            <td>Acquired >1 year (CDC) or >2 years (WHO)</td>
                                            <td>Low</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <!-- Tertiary Stage -->
                            <div class="stage-detail hidden" data-stage="tertiary">
                                <div class="alert-callout danger">
                                    <span class="alert-icon">‚ö†Ô∏è</span>
                                    <div class="alert-content danger">
                                        <h4>Tertiary Syphilis - 14-40% of untreated cases</h4>
                                        <p>Occurs years to decades after initial infection. Characterized by chronic end-organ complications.</p>
                                    </div>
                                </div>
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>Type</th>
                                            <th>Manifestations</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr class="urgent-row">
                                            <td><strong>Neurosyphilis</strong></td>
                                            <td>Meningitis, tabes dorsalis, general paresis, Argyll-Robertson pupils</td>
                                        </tr>
                                        <tr class="urgent-row">
                                            <td><strong>Cardiovascular</strong></td>
                                            <td>Aortitis, aortic regurgitation, coronary ostial stenosis, aneurysm</td>
                                        </tr>
                                        <tr>
                                            <td><strong>Gummatous</strong></td>
                                            <td>Granulomatous lesions on skin, bone, viscera (rare today)</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Diagnostic Approach -->
                <div class="card" data-category="diagnosis">
                    <div class="card-header info" onclick="toggleCard(this)">
                        <div class="card-title">
                            <span>üî¨</span>
                            Diagnostic Approach
                        </div>
                        <span class="card-toggle">‚ñº</span>
                    </div>
                    <div class="card-body">
                        <h4 style="margin-bottom: 1rem; color: var(--info-blue);">Serological Testing Algorithm</h4>

                        <div class="alert-callout success">
                            <span class="alert-icon">‚úÖ</span>
                            <div class="alert-content success">
                                <h4>Recommended: Reverse Sequence Screening</h4>
                                <p>Treponemal test first ‚Üí Non-treponemal test if positive. More efficient and cost-effective.</p>
                            </div>
                        </div>

                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Test Type</th>
                                    <th>Examples</th>
                                    <th>Use</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><span class="tooltip" data-tip="Detects antibodies to T. pallidum antigens">Treponemal Tests</span></td>
                                    <td>EIA, CLIA, TPPA, TPHA, FTA-ABS</td>
                                    <td>Screening & confirmation; lifelong positive</td>
                                </tr>
                                <tr>
                                    <td><span class="tooltip" data-tip="Detects antibodies to cardiolipin released during infection">Non-Treponemal Tests</span></td>
                                    <td>RPR, VDRL</td>
                                    <td>Disease activity & treatment monitoring</td>
                                </tr>
                            </tbody>
                        </table>

                        <h4 style="margin: 1.5rem 0 1rem; color: var(--info-blue);">Test Interpretation</h4>
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Scenario</th>
                                    <th>Treponemal</th>
                                    <th>Non-Treponemal</th>
                                    <th>Interpretation</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="positive-row">
                                    <td>Active infection</td>
                                    <td><span class="status-positive">Positive</span></td>
                                    <td><span class="status-positive">Positive</span></td>
                                    <td>Current infection - treat</td>
                                </tr>
                                <tr>
                                    <td>Treated past infection</td>
                                    <td><span class="status-positive">Positive</span></td>
                                    <td><span class="status-negative">Negative/Low</span></td>
                                    <td>Past infection - no treatment needed</td>
                                </tr>
                                <tr class="urgent-row">
                                    <td>Early primary</td>
                                    <td><span class="status-equivocal">May be neg</span></td>
                                    <td><span class="status-negative">Negative</span></td>
                                    <td>Repeat in 2-4 weeks if suspected</td>
                                </tr>
                            </tbody>
                        </table>

                        <div class="info-box urgent" style="margin-top: 1rem;">
                            <span>‚è±Ô∏è</span>
                            <div>
                                <strong>Incubation Periods for Seroconversion:</strong>
                                Treponemal tests: 3-6 weeks | Non-treponemal tests: 4 weeks
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Treatment Protocol -->
                <div class="card" data-category="treatment">
                    <div class="card-header safe" onclick="toggleCard(this)">
                        <div class="card-title">
                            <span>üíä</span>
                            Treatment Protocols
                            <span class="badge badge-action">First-Line: Penicillin</span>
                        </div>
                        <span class="card-toggle">‚ñº</span>
                    </div>
                    <div class="card-body">
                        <div class="quick-actions">
                            <button class="action-btn safe" onclick="showTreatment('early')">Early Syphilis</button>
                            <button class="action-btn safe" onclick="showTreatment('late')">Late Latent</button>
                            <button class="action-btn urgent" onclick="showTreatment('neuro')">Neurosyphilis</button>
                            <button class="action-btn info" onclick="showTreatment('pregnancy')">Pregnancy</button>
                        </div>

                        <div id="treatmentContent">
                            <!-- Early Syphilis -->
                            <div class="treatment-detail" data-treatment="early">
                                <div class="drug-card">
                                    <h4>üíâ Benzathine Penicillin G</h4>
                                    <p>Standard treatment for primary, secondary, or early latent syphilis</p>
                                    <div class="drug-dosage">
                                        <span class="dose">2.4 million units</span> IM single dose<br>
                                        <small>1.2 million units in each buttock</small>
                                    </div>
                                </div>
                            </div>

                            <!-- Late Latent -->
                            <div class="treatment-detail hidden" data-treatment="late">
                                <div class="drug-card">
                                    <h4>üíâ Benzathine Penicillin G</h4>
                                    <p>Treatment for late latent or tertiary syphilis (without neurosyphilis)</p>
                                    <div class="drug-dosage">
                                        <span class="dose">2.4 million units IM</span> weekly √ó 3 doses<br>
                                        <small>Week 1, Week 2, Week 3</small>
                                    </div>
                                </div>
                            </div>

                            <!-- Neurosyphilis -->
                            <div class="treatment-detail hidden" data-treatment="neuro">
                                <div class="alert-callout danger">
                                    <span class="alert-icon">üè•</span>
                                    <div class="alert-content danger">
                                        <h4>NEUROSYPHILIS - Requires IV Therapy</h4>
                                        <p>Indications: meningitis, cranial nerve involvement, ocular/oto syphilis, auditory symptoms</p>
                                    </div>
                                </div>
                                <div class="drug-card">
                                    <h4>üíâ Aqueous Crystalline Penicillin G</h4>
                                    <div class="drug-dosage">
                                        <span class="dose">18-24 million units/day</span><br>
                                        <small>3-4 million units IV every 4 hours OR continuous infusion</small><br>
                                        <strong>Duration: 10-14 days</strong>
                                    </div>
                                </div>
                                <div class="drug-card" style="background: linear-gradient(135deg, var(--info-blue-bg) 0%, #DBEAFE 100%); border-color: var(--info-blue);">
                                    <h4 style="color: var(--info-blue);">Alternative (Penicillin Allergy)</h4>
                                    <p style="color: var(--text-secondary);">Desensitization required - consult infectious disease</p>
                                </div>
                            </div>

                            <!-- Pregnancy -->
                            <div class="treatment-detail hidden" data-treatment="pregnancy">
                                <div class="alert-callout danger">
                                    <span class="alert-icon">ü§∞</span>
                                    <div class="alert-content danger">
                                        <h4>PREGNANT PATIENTS - Penicillin Only!</h4>
                                        <p>No alternatives proven safe and effective for preventing congenital syphilis. Desensitize if allergic.</p>
                                    </div>
                                </div>
                                <div class="drug-card">
                                    <h4>üíâ Benzathine Penicillin G (Pregnancy)</h4>
                                    <div class="drug-dosage">
                                        <strong>Early syphilis:</strong> 2.4 million units IM single dose<br>
                                        <strong>Late latent/tertiary:</strong> 2.4 million units IM weekly √ó 3 doses<br>
                                        <em>Treatment based on maternal disease stage</em>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="alert-callout warning" style="margin-top: 1rem;">
                            <span class="alert-icon">‚ö†Ô∏è</span>
                            <div class="alert-content warning">
                                <h4>Jarisch-Herxheimer Reaction Risk</h4>
                                <p>Fever, chills, headache, myalgia within 24 hours of treatment. More common in early syphilis and pregnancy. Pre-treat with antipyretics if needed. Counsel patient.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Special Populations -->
                <div class="card" data-category="special">
                    <div class="card-header info" onclick="toggleCard(this)">
                        <div class="card-title">
                            <span>üë•</span>
                            Special Populations
                        </div>
                        <span class="card-toggle">‚ñº</span>
                    </div>
                    <div class="card-body">
                        <div class="stage-tabs">
                            <button class="stage-tab urgent" onclick="showSpecial('hiv')">HIV Co-infection</button>
                            <button class="stage-tab urgent" onclick="showSpecial('pregnancy')">Pregnancy</button>
                            <button class="stage-tab urgent" onclick="showSpecial('congenital')">Congenital</button>
                        </div>

                        <div id="specialContent">
                            <!-- HIV Co-infection -->
                            <div class="special-detail" data-special="hiv">
                                <div class="alert-callout danger">
                                    <span class="alert-icon">‚ö†Ô∏è</span>
                                    <div class="alert-content danger">
                                        <h4>HIV Co-infection Considerations</h4>
                                        <p>MSM at particular risk. More rapid progression to neurosyphilis possible.</p>
                                    </div>
                                </div>
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>Feature</th>
                                            <th>Modification</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr class="urgent-row">
                                            <td><strong>Clinical</strong></td>
                                            <td>Larger, painful primary ulcers; higher RPR/VDRL titers</td>
                                        </tr>
                                        <tr class="urgent-row">
                                            <td><strong>Progression</strong></td>
                                            <td>More rapid progression to neurosyphilis</td>
                                        </tr>
                                        <tr>
                                            <td><strong>Serology</strong></td>
                                            <td>Atypical responses possible; higher serofast rates</td>
                                        </tr>
                                        <tr class="urgent-row">
                                            <td><strong>LP Indication</strong></td>
                                            <td>Lower threshold for lumbar puncture</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <!-- Pregnancy -->
                            <div class="special-detail hidden" data-special="pregnancy">
                                <div class="alert-callout danger">
                                    <span class="alert-icon">üö®</span>
                                    <div class="alert-content danger">
                                        <h4>CRITICAL: Screen ALL pregnant women!</h4>
                                        <p>Syphilis in pregnancy causes miscarriage, stillbirth, perinatal death, and congenital syndrome.</p>
                                    </div>
                                </div>
                                <ul class="checklist">
                                    <li class="checked">Screen at first prenatal visit</li>
                                    <li class="checked">Repeat screening at 28 weeks</li>
                                    <li class="checked">Screen again at delivery for high-risk women</li>
                                    <li class="checked">Never discharge mother/baby without documented serology</li>
                                    <li class="checked">Treat with penicillin only (no alternatives)</li>
                                </ul>
                            </div>

                            <!-- Congenital -->
                            <div class="special-detail hidden" data-special="congenital">
                                <div class="alert-callout danger">
                                    <span class="alert-icon">üë∂</span>
                                    <div class="alert-content danger">
                                        <h4>Congenital Syphilis Categories</h4>
                                        <p>Diagnosis based on maternal treatment, infant serology, and clinical findings.</p>
                                    </div>
                                </div>
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>Category</th>
                                            <th>Criteria</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr class="urgent-row">
                                            <td><strong>Proven/Highly Probable</strong></td>
                                            <td>Abnormal exam OR infant titer ‚â•4x maternal titer OR positive darkfield/PCR</td>
                                        </tr>
                                        <tr class="positive-row">
                                            <td><strong>Possible</strong></td>
                                            <td>Normal exam, low titer, but inadequate maternal treatment</td>
                                        </tr>
                                        <tr>
                                            <td><strong>Less Likely</strong></td>
                                            <td>Normal exam, low titer, adequate maternal treatment >30 days before delivery</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Column: Quick Reference -->
            <div class="right-column">
                <!-- Red Flags Card -->
                <div class="card" data-category="redflag">
                    <div class="card-header urgent" onclick="toggleCard(this)">
                        <div class="card-title">
                            <span>üö®</span>
                            Red Flags - Immediate Action
                            <span class="badge badge-emergency">URGENT</span>
                        </div>
                        <span class="card-toggle">‚ñº</span>
                    </div>
                    <div class="card-body">
                        <div class="timeline">
                            <div class="timeline-item urgent">
                                <h4>Ocular Symptoms</h4>
                                <p>Iritis, uveitis, chorioretinitis, visual changes ‚Üí <strong>LP + IV penicillin</strong></p>
                            </div>
                            <div class="timeline-item urgent">
                                <h4>Auditory Symptoms</h4>
                                <p>Hearing loss, tinnitus ‚Üí <strong>LP + IV penicillin</strong></p>
                            </div>
                            <div class="timeline-item urgent">
                                <h4>Meningeal Signs</h4>
                                <p>Headache, meningismus, cranial nerve palsies ‚Üí <strong>LP + IV penicillin</strong></p>
                            </div>
                            <div class="timeline-item urgent">
                                <h4>Cardiovascular Symptoms</h4>
                                <p>Aortic regurgitation, heart failure, chest pain ‚Üí <strong>Cardiology consult</strong></p>
                            </div>
                            <div class="timeline-item urgent">
                                <h4>Pregnancy</h4>
                                <p>Any syphilis in pregnancy ‚Üí <strong>Immediate penicillin treatment</strong></p>
                            </div>
                        </div>

                        <div class="alert-callout danger" style="margin-top: 1rem;">
                            <span class="alert-icon">üß†</span>
                            <div class="alert-content danger">
                                <h4>Neurosyphilis LP Criteria</h4>
                                <p>CSF WBC >5 cells/ŒºL (HIV-negative) or >20 cells/ŒºL (HIV-positive), OR CSF protein >45 mg/dL, OR positive CSF-VDRL</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quick Treatment Reference -->
                <div class="card" data-category="treatment">
                    <div class="card-header safe" onclick="toggleCard(this)">
                        <div class="card-title">
                            <span>üìã</span>
                            Quick Treatment Reference
                        </div>
                        <span class="card-toggle">‚ñº</span>
                    </div>
                    <div class="card-body">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Stage</th>
                                    <th>Treatment</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="positive-row">
                                    <td><strong>Primary/Secondary</strong></td>
                                    <td>Benzathine Pen G 2.4 MU IM √ó1</td>
                                </tr>
                                <tr class="positive-row">
                                    <td><strong>Early Latent</strong></td>
                                    <td>Benzathine Pen G 2.4 MU IM √ó1</td>
                                </tr>
                                <tr>
                                    <td><strong>Late Latent</strong></td>
                                    <td>Benzathine Pen G 2.4 MU IM weekly √ó3</td>
                                </tr>
                                <tr>
                                    <td><strong>Tertiary</strong></td>
                                    <td>Benzathine Pen G 2.4 MU IM weekly √ó3</td>
                                </tr>
                                <tr class="urgent-row">
                                    <td><strong>Neurosyphilis</strong></td>
                                    <td>Aqueous Pen G 18-24 MU/day IV √ó10-14d</td>
                                </tr>
                                <tr class="urgent-row">
                                    <td><strong>Pregnancy</strong></td>
                                    <td>Penicillin G per stage (no alternatives)</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Follow-up & Monitoring -->
                <div class="card" data-category="followup">
                    <div class="card-header info" onclick="toggleCard(this)">
                        <div class="card-title">
                            <span>üìä</span>
                            Follow-up & Monitoring
                        </div>
                        <span class="card-toggle">‚ñº</span>
                    </div>
                    <div class="card-body">
                        <div class="info-box safe">
                            <span>‚úÖ</span>
                            <div>
                                <strong>Treatment Success Criteria:</strong>
                                4-fold decrease in non-treponemal titer (e.g., 1:32 ‚Üí 1:8)
                            </div>
                        </div>

                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Timepoint</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>3 months</strong></td>
                                    <td>Clinical review; expect titer decline in early syphilis</td>
                                </tr>
                                <tr>
                                    <td><strong>6 months</strong></td>
                                    <td>RPR/VDRL; most early syphilis will be non-reactive</td>
                                </tr>
                                <tr>
                                    <td><strong>12 months</strong></td>
                                    <td>Final follow-up for early syphilis</td>
                                </tr>
                                <tr>
                                    <td><strong>24 months</strong></td>
                                    <td>Final follow-up for late syphilis</td>
                                </tr>
                            </tbody>
                        </table>

                        <div class="alert-callout warning">
                            <span class="alert-icon">‚ö†Ô∏è</span>
                            <div class="alert-content warning">
                                <h4>Treatment Failure Indicators</h4>
                                <p>Inadequate titer decline, persistent symptoms, or rising titers ‚Üí Re-evaluate for neurosyphilis, re-infection, or serofast state.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Partner Management -->
                <div class="card" data-category="prevention">
                    <div class="card-header safe" onclick="toggleCard(this)">
                        <div class="card-title">
                            <span>ü§ù</span>
                            Partner Management
                        </div>
                        <span class="card-toggle">‚ñº</span>
                    </div>
                    <div class="card-body">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Patient Stage</th>
                                    <th>Partner Notification Period</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Primary</strong></td>
                                    <td>3 months + duration of symptoms</td>
                                </tr>
                                <tr>
                                    <td><strong>Secondary</strong></td>
                                    <td>6 months + duration of symptoms</td>
                                </tr>
                                <tr>
                                    <td><strong>Early Latent</strong></td>
                                    <td>1 year</td>
                                </tr>
                                <tr>
                                    <td><strong>Late Latent</strong></td>
                                    <td>Based on most likely exposure date</td>
                                </tr>
                            </tbody>
                        </table>

                        <div class="alert-callout success" style="margin-top: 1rem;">
                            <span class="alert-icon">üíâ</span>
                            <div class="alert-content success">
                                <h4>Expedited Partner Therapy</h4>
                                <p>Partners within the notification window should receive presumptive treatment (Benzathine Pen G 2.4 MU IM) without waiting for test results.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Key Numbers -->
                <div class="card" data-category="reference">
                    <div class="card-header neutral" onclick="toggleCard(this)">
                        <div class="card-title">
                            <span>üìà</span>
                            Key Epidemiology
                        </div>
                        <span class="card-toggle">‚ñº</span>
                    </div>
                    <div class="card-body">
                        <div class="quick-actions" style="grid-template-columns: 1fr 1fr;">
                            <div style="text-align: center; padding: 1rem; background: var(--urgent-red-bg); border-radius: 8px;">
                                <div style="font-size: 1.75rem; font-weight: 700; color: var(--urgent-red);">8M</div>
                                <div style="font-size: 0.85rem; color: var(--text-secondary);">Global cases (2022)</div>
                            </div>
                            <div style="text-align: center; padding: 1rem; background: var(--safe-green-bg); border-radius: 8px;">
                                <div style="font-size: 1.75rem; font-weight: 700; color: var(--safe-green);">14-40%</div>
                                <div style="font-size: 0.85rem; color: var(--text-secondary);">Progress to tertiary</div>
                            </div>
                            <div style="text-align: center; padding: 1rem; background: var(--info-blue-bg); border-radius: 8px;">
                                <div style="font-size: 1.75rem; font-weight: 700; color: var(--info-blue);">30-60%</div>
                                <div style="font-size: 0.85rem; color: var(--text-secondary);">Transmission risk</div>
                            </div>
                            <div style="text-align: center; padding: 1rem; background: #FEF3C7; border-radius: 8px;">
                                <div style="font-size: 1.75rem; font-weight: 700; color: #D97706;">740%</div>
                                <div style="font-size: 0.85rem; color: var(--text-secondary);">Congenital rise since 2014</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="disclaimer">
                <strong>‚ö†Ô∏è Medical Disclaimer:</strong> This tool is for reference purposes only and does not replace clinical judgment. Always consult current guidelines (CDC, WHO) and local protocols. Last updated based on CDC 2024 guidelines.
            </div>
            <div class="source-info">
                Sources: CDC STD Treatment Guidelines 2021, WHO STI Guidelines 2023, BMJ Best Practice
            </div>
        </div>
    </footer>

    <script>
        // Card toggle functionality
        function toggleCard(header) {
            const card = header.closest('.card');
            card.classList.toggle('collapsed');
        }

        // Stage tabs functionality
        function showStage(stage) {
            // Update tab buttons
            document.querySelectorAll('.stage-tabs .stage-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');

            // Update stage content
            document.querySelectorAll('.stage-detail').forEach(detail => {
                detail.classList.add('hidden');
            });
            document.querySelector(`.stage-detail[data-stage="${stage}"]`).classList.remove('hidden');
        }

        // Treatment tabs functionality
        function showTreatment(treatment) {
            // Update button states
            document.querySelectorAll('.quick-actions .action-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            // Update treatment content
            document.querySelectorAll('.treatment-detail').forEach(detail => {
                detail.classList.add('hidden');
            });
            document.querySelector(`.treatment-detail[data-treatment="${treatment}"]`).classList.remove('hidden');
        }

        // Special populations tabs functionality
        function showSpecial(special) {
            // Update tab buttons
            document.querySelectorAll('.card-body .stage-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');

            // Update special content
            document.querySelectorAll('.special-detail').forEach(detail => {
                detail.classList.add('hidden');
            });
            document.querySelector(`.special-detail[data-special="${special}"]`).classList.remove('hidden');
        }

        // Search functionality
        const searchInput = document.getElementById('searchInput');
        searchInput.addEventListener('input', function(e) {
            const query = e.target.value.toLowerCase();
            const cards = document.querySelectorAll('.card');

            cards.forEach(card => {
                const text = card.textContent.toLowerCase();
                if (text.includes(query)) {
                    card.classList.remove('hidden');
                } else {
                    card.classList.add('hidden');
                }
            });
        });

        // Red flags toggle
        let redFlagsVisible = true;
        function toggleRedFlags() {
            const banner = document.getElementById('redFlagBanner');
            const btn = document.querySelector('.toggle-btn');
            redFlagsVisible = !redFlagsVisible;
            banner.style.display = redFlagsVisible ? 'flex' : 'none';
            btn.classList.toggle('active', redFlagsVisible);
        }

        // Dark mode toggle
        let darkMode = false;
        function toggleDarkMode() {
            darkMode = !darkMode;
            document.body.style.filter = darkMode ? 'invert(1) hue-rotate(180deg)' : 'none';
            document.querySelector('.toggle-btn:nth-child(3)').classList.toggle('active', darkMode);
        }

        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            // Press / for search
            if (e.key === '/' && document.activeElement !== searchInput) {
                e.preventDefault();
                searchInput.focus();
            }
            // Press Escape to blur search
            if (e.key === 'Escape') {
                searchInput.blur();
            }
        });

        // Initialize - expand all cards
        document.querySelectorAll('.card').forEach(card => {
            card.classList.remove('collapsed');
        });
    </script>
</body>
</html>
