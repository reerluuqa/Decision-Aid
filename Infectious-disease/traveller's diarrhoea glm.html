<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Travellers' Diarrhoea: Clinical Quick Reference</title>
    <style>
        :root {
            /* Color Palette */
            --primary: #0284c7;      /* Blue - General Info */
            --primary-light: #e0f2fe;
            --success: #059669;      /* Green - Safe/Positive */
            --success-light: #d1fae5;
            --danger: #dc2626;       /* Red - Flags/Emergency */
            --danger-light: #fee2e2;
            --warning: #d97706;      /* Amber - Caution */
            --warning-light: #fef3c7;
            --bg: #f3f4f6;
            --card-bg: #ffffff;
            --text-main: #1f2937;
            --text-muted: #6b7280;
            --border: #e5e7eb;
            --radius: 8px;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        }

        body {
            background-color: var(--bg);
            color: var(--text-main);
            line-height: 1.5;
            padding-bottom: 2rem;
        }

        /* --- Header --- */
        header {
            background-color: var(--primary);
            color: white;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-title h1 {
            font-size: 1.5rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .header-meta {
            font-size: 0.85rem;
            opacity: 0.9;
            text-align: right;
        }

        /* --- Layout --- */
        .container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 1rem;
            display: grid;
            grid-template-columns: 1fr;
            gap: 1.5rem;
        }

        /* --- Components --- */
        .card {
            background: var(--card-bg);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            padding: 1.5rem;
            border: 1px solid var(--border);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        .section-title {
            font-size: 1.1rem;
            font-weight: 700;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .badge {
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        /* --- Red Flags Section --- */
        .red-flags-banner {
            background-color: var(--danger-light);
            border-left: 5px solid var(--danger);
            border-radius: var(--radius);
            padding: 1rem;
            display: flex;
            gap: 1rem;
            align-items: flex-start;
            animation: pulse-red 2s infinite;
        }

        @keyframes pulse-red {
            0% { box-shadow: 0 0 0 0 rgba(220, 38, 38, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(220, 38, 38, 0); }
            100% { box-shadow: 0 0 0 0 rgba(220, 38, 38, 0); }
        }

        .red-flags-content ul {
            list-style: none;
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .red-flags-content li {
            background: white;
            color: var(--danger);
            padding: 0.5rem 1rem;
            border-radius: 50px;
            font-weight: 600;
            border: 1px solid rgba(220, 38, 38, 0.2);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* --- Triage / Risk Assessment --- */
        .risk-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .risk-btn {
            background: white;
            border: 2px solid var(--border);
            padding: 1.5rem;
            border-radius: var(--radius);
            cursor: pointer;
            text-align: left;
            transition: all 0.2s;
            position: relative;
            overflow: hidden;
        }

        .risk-btn h3 {
            margin-bottom: 0.5rem;
            color: var(--text-main);
        }

        .risk-btn p {
            font-size: 0.85rem;
            color: var(--text-muted);
        }

        .risk-btn.active {
            border-color: var(--primary);
            background-color: var(--primary-light);
        }

        .risk-btn.active h3 {
            color: var(--primary);
        }

        /* --- Dynamic Advice Panel --- */
        #advice-panel {
            background: var(--bg);
            padding: 1.5rem;
            border-radius: var(--radius);
            margin-top: 1rem;
            border-left: 4px solid var(--primary);
            display: none; /* Hidden by default */
        }
        
        #advice-panel.visible {
            display: block;
            animation: fadeIn 0.3s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-5px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* --- Two Column Layouts --- */
        .col-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
        }

        @media (max-width: 768px) {
            .col-2 { grid-template-columns: 1fr; }
        }

        /* --- Tables --- */
        .table-wrapper {
            overflow-x: auto;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
        }

        th, td {
            text-align: left;
            padding: 0.75rem;
            border-bottom: 1px solid var(--border);
        }

        th {
            background-color: var(--bg);
            font-weight: 600;
            color: var(--text-muted);
        }

        /* --- Specific Color Coding --- */
        .text-danger { color: var(--danger); font-weight: 700; }
        .text-success { color: var(--success); font-weight: 700; }
        .text-primary { color: var(--primary); font-weight: 700; }
        
        .bg-danger-light { background-color: var(--danger-light); color: var(--danger); }
        .bg-success-light { background-color: var(--success-light); color: var(--success); }

        .check-list li {
            margin-bottom: 0.5rem;
            display: flex;
            align-items: flex-start;
            gap: 0.5rem;
        }
        
        .check-list li svg {
            flex-shrink: 0;
            margin-top: 4px;
        }

        /* --- Footer --- */
        footer {
            text-align: center;
            padding: 2rem;
            color: var(--text-muted);
            font-size: 0.8rem;
            border-top: 1px solid var(--border);
            margin-top: 2rem;
        }

        /* Icons */
        .icon { width: 20px; height: 20px; }
    </style>
</head>
<body>

<header>
    <div class="header-title">
        <h1>
            <!-- Stethoscope Icon -->
            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3"/><path d="M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4"/><circle cx="20" cy="10" r="2"/></svg>
            Travellers' Diarrhoea
        </h1>
    </div>
    <div class="header-meta">
        CKS Topic<br>
        Last Revised: Sept 2023
    </div>
</header>

<div class="container">

    <!-- RED FLAGS SECTION -->
    <section class="card red-flags-banner">
        <div style="color: var(--danger);">
            <!-- Warning Triangle -->
            <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>
        </div>
        <div class="red-flags-content" style="width: 100%;">
            <h2 class="section-title" style="color: var(--danger); margin-bottom: 0.5rem;">Immediate Action Required (Red Flags)</h2>
            <ul>
                <li><strong>Blood in stool</strong> (Dysentery = Severe)</li>
                <li><strong>High/Persistent Fever</strong></li>
                <li><strong>Severe Abdominal Pain</strong></li>
                <li><strong>Signs of Dehydration:</strong> Restlessness, sunken eyes, tachycardia</li>
                <li><strong>Confusion or Altered State</strong></li>
            </ul>
        </div>
    </section>

    <!-- DEFINITION & CAUSES (Quick Info) -->
    <div class="col-2">
        <section class="card">
            <h2 class="section-title" style="color: var(--primary);">
                <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>
                Definition
            </h2>
            <p style="margin-bottom: 0.5rem;"><strong>Core Criteria:</strong> 3+ unformed stools in 24h <em>plus</em> one additional symptom:</p>
            <ul class="check-list">
                <li>Abdominal pain/cramps</li>
                <li>Nausea/Vomiting</li>
                <li>Fever</li>
                <li>Blood in stool</li>
            </ul>
            <p style="margin-top: 1rem; font-size: 0.85rem; color: var(--text-muted);">Onset must be during or within 10 days of travel.</p>
        </section>

        <section class="card">
            <h2 class="section-title" style="color: var(--primary);">
                <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
                Common Causes
            </h2>
            <div class="table-wrapper">
                <table>
                    <tr>
                        <td><strong>Bacteria (80-90%)</strong></td>
                        <td><em>E. coli</em> (most common), Campylobacter, Shigella, Salmonella.</td>
                    </tr>
                    <tr>
                        <td><strong>Viruses (5-15%)</strong></td>
                        <td>Norovirus (cruise ships), Rotavirus.</td>
                    </tr>
                    <tr>
                        <td><strong>Protozoa (~10%)</strong></td>
                        <td>Giardia, Cryptosporidium. (Note: Causes prolonged symptoms).</td>
                    </tr>
                </table>
            </div>
        </section>
    </div>

    <!-- TRIAGE & MANAGEMENT (Interactive) -->
    <section class="card">
        <h2 class="section-title" style="color: var(--primary);">
            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><line x1="3" y1="9" x2="21" y2="9"/><line x1="9" y1="21" x2="9" y2="9"/></svg>
            1. Assess Risk (Destination)
        </h2>
        <p style="margin-bottom: 1rem; color: var(--text-muted);">Select the destination risk category to see management strategy.</p>
        
        <div class="risk-grid">
            <button class="risk-btn" onclick="selectRisk('low', this)">
                <h3>Low Risk</h3>
                <p>< 7% of travellers</p>
                <hr style="border: 0; border-top: 1px solid #eee; margin: 0.5rem 0;">
                <small>Western Europe, USA, Canada, Japan, Aus, NZ</small>
            </button>
            
            <button class="risk-btn" onclick="selectRisk('intermediate', this)">
                <h3>Intermediate Risk</h3>
                <p>8â€“20% of travellers</p>
                <hr style="border: 0; border-top: 1px solid #eee; margin: 0.5rem 0;">
                <small>S. Europe, Israel, S. Africa, Caribbean/Pacific Islands</small>
            </button>
            
            <button class="risk-btn" onclick="selectRisk('high', this)">
                <h3 style="color: var(--danger);">High Risk</h3>
                <p>> 20% of travellers</p>
                <hr style="border: 0; border-top: 1px solid #eee; margin: 0.5rem 0;">
                <small>Africa, Latin America, Middle East, Asia</small>
            </button>
        </div>

        <!-- Dynamic Content Area -->
        <div id="advice-panel">
            <h3 id="advice-title" style="margin-bottom: 1rem;"></h3>
            <div id="advice-content"></div>
        </div>
    </section>

    <!-- PREVENTION -->
    <div class="col-2">
        <section class="card">
            <h2 class="section-title" style="color: var(--success);">
                <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 8h1a4 4 0 0 1 0 8h-1"></path><path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"></path><line x1="6" y1="1" x2="6" y2="4"></line><line x1="10" y1="1" x2="10" y2="4"></line><line x1="14" y1="1" x2="14" y2="4"></line></svg>
                Food Advice
            </h2>
            <ul class="check-list">
                <li><svg class="icon text-success" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg> Eat <strong>thoroughly cooked & steaming hot</strong> food only.</li>
                <li><svg class="icon text-danger" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg> <strong>Avoid</strong> raw fish/shellfish, salads, buffet food left out.</li>
                <li><svg class="icon text-success" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg> <strong>Peel it yourself</strong> (Fruits/Veg with damaged skin = avoid).</li>
                <li><svg class="icon text-danger" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg> <strong>Avoid</strong> unpasteurized milk/cheese.</li>
            </ul>
        </section>

        <section class="card">
            <h2 class="section-title" style="color: var(--primary);">
                <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2.69l5.74 5.88-5.74 5.88-5.74-5.88z"/><path d="M11 21.31h2"/></svg>
                Water Advice
            </h2>
            <ul class="check-list">
                <li><svg class="icon text-danger" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg> <strong>Avoid Tap Water</strong> (drinking, brushing teeth, ice).</li>
                <li><svg class="icon text-success" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg> Use <strong>sealed bottled water</strong> (check seal).</li>
                <li><svg class="icon text-success" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg> <strong>Boil</strong> (1 min) if unsure.</li>
                <li><svg class="icon text-success" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg> Factory-sealed carbonated drinks/pastuerized juices are safe.</li>
            </ul>
        </section>
    </div>

    <!-- TREATMENT PHARMACOLOGY -->
    <section class="card">
        <h2 class="section-title" style="color: var(--text-main);">
            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="6" width="20" height="12" rx="2"/><circle cx="12" cy="12" r="2"/><path d="M6 12h.01M18 12h.01"/></svg>
            Treatment: Pharmacological Options
        </h2>
        
        <div class="col-2">
            <!-- Rehydration -->
            <div style="background: var(--success-light); padding: 1rem; border-radius: var(--radius);">
                <h4 class="text-success">Rehydration (First Line)</h4>
                <p style="font-size: 0.9rem;"><strong>Adults:</strong> Eat/drink normally if possible. Avoid alcohol/sweet drinks.</p>
                <p style="font-size: 0.9rem; margin-top:0.5rem;"><strong>Children/Vulnerable:</strong> Use Oral Rehydration Salts (ORS). Seek immediate help if restless/irritable.</p>
            </div>

            <!-- Loperamide -->
            <div style="background: var(--bg); padding: 1rem; border-radius: var(--radius); border-left: 4px solid var(--warning);">
                <h4 style="color: var(--warning);">Loperamide (Symptomatic)</h4>
                <p style="font-size: 0.9rem;">Max 2 days for adults. Standard for rapid control when toilets limited.</p>
                <div style="margin-top: 0.5rem; font-size: 0.8rem;" class="text-danger">
                    <strong>DO NOT USE:</strong>
                    <ul>
                        <li>Blood/Mucus in stool</li>
                        <li>High fever</li>
                        <li>Children < 12 years</li>
                    </ul>
                </div>
            </div>

            <!-- Bismuth -->
            <div style="background: var(--bg); padding: 1rem; border-radius: var(--radius);">
                <h4 class="text-primary">Bismuth Subsalicylate</h4>
                <p style="font-size: 0.9rem;">Suitable for mild diarrhoea. Slower onset than Loperamide.</p>
                <div style="margin-top: 0.5rem; font-size: 0.8rem;" class="text-danger">
                    <strong>CONTRAINDICATED:</strong>
                    <ul>
                        <li>Children < 16 years (Reye's Syndrome)</li>
                        <li>Aspirin allergy</li>
                        <li>Pregnancy/Breastfeeding</li>
                        <li>Anticoagulants (Warfarin)</li>
                    </ul>
                </div>
            </div>

            <!-- Antibiotics -->
            <div style="background: var(--bg); padding: 1rem; border-radius: var(--radius); border-left: 4px solid var(--primary);">
                <h4 class="text-primary">Antibiotics</h4>
                <p style="font-size: 0.9rem;"><strong>Prophylaxis:</strong> Not routine. Consider only for specific high-risk travellers.</p>
                <p style="font-size: 0.9rem;"><strong>'Stand-by':</strong> Consider for high-risk destinations if prompt medical care unavailable. Avoid if history of cardiac issues (Azithromycin/Colchicine interaction).</p>
            </div>
        </div>
    </section>

</div>

<footer>
    <p>Reference: NICE CKS Diarrhoea - prevention and advice for travellers (Sept 2023).</p>
    <p>This tool is for clinical reference only. Use professional judgment.</p>
</footer>

<script>
    function selectRisk(level, btn) {
        // Reset all buttons
        document.querySelectorAll('.risk-btn').forEach(b => b.classList.remove('active'));
        
        // Set active button
        btn.classList.add('active');

        const panel = document.getElementById('advice-panel');
        const title = document.getElementById('advice-title');
        const content = document.getElementById('advice-content');

        panel.classList.remove('visible');

        // Simulate processing delay for smooth animation
        setTimeout(() => {
            if (level === 'low') {
                title.innerHTML = '<span class="badge bg-success-light">Low Risk Strategy</span>';
                content.innerHTML = `
                    <p><strong>Assessment:</strong> Standard of hygiene is high at destination.</p>
                    <ul class="check-list">
                        <li><svg class="icon text-success" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg> No special precautions needed other than basic hygiene.</li>
                        <li><svg class="icon text-success" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg> Reassure traveller.</li>
                        <li><svg class="icon text-primary" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg> Advise self-management of symptoms if they occur.</li>
                    </ul>
                `;
            } else if (level === 'intermediate') {
                title.innerHTML = '<span class="badge" style="background:#e0f2fe; color:#0284c7;">Intermediate Risk Strategy</span>';
                content.innerHTML = `
                    <p><strong>Assessment:</strong> Moderate risk of contamination.</p>
                    <ul class="check-list">
                        <li><svg class="icon text-warning" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg> Provide information on <strong>food hygiene & safe water</strong> (see below).</li>
                        <li><svg class="icon text-primary" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><line x1="3" y1="9" x2="21" y2="9"/><line x1="9" y1="21" x2="9" y2="9"/></svg> Advise self-management.</li>
                        <li><svg class="icon text-primary" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg> Prophylaxis generally not required.</li>
                    </ul>
                `;
            } else if (level === 'high') {
                title.innerHTML = '<span class="badge bg-danger-light">High Risk Strategy</span>';
                content.innerHTML = `
                    <p><strong>Assessment:</strong> High probability of exposure to pathogens.</p>
                    <ul class="check-list">
                        <li><svg class="icon text-danger" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg> <strong>Emphasize strict</strong> personal & food hygiene.</li>
                        <li><svg class="icon text-danger" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg> Warn about recreational water risks.</li>
                        <li><svg class="icon text-primary" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="6" width="20" height="12" rx="2"/><circle cx="12" cy="12" r="2"/><path d="M6 12h.01M18 12h.01"/></svg> <strong>Antibiotic Prophylaxis?</strong> Consider only for specific high-risk travellers (e.g., immunocompromised). Not routine.</li>
                        <li><svg class="icon text-primary" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="6" width="20" height="12" rx="2"/><circle cx="12" cy="12" r="2"/><path d="M6 12h.01M18 12h.01"/></svg> <strong>'Stand-by' Antibiotics?</strong> Consider if remote area & risk of complications.</li>
                    </ul>
                `;
            }
            panel.classList.add('visible');
        }, 100);
    }
</script>

</body>
</html>