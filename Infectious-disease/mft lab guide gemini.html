<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MMMP Quick Reference Guide</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary: #005eb8; /* NHS Blue */
            --secondary: #009639; /* NHS Green */
            --warning: #ffb81c; /* NHS Yellow/Orange */
            --danger: #d5281b; /* NHS Red */
            --dark: #333;
            --light: #f4f6f8;
            --white: #fff;
            --shadow: 0 4px 6px rgba(0,0,0,0.1);
            --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        }

        * { box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        
        body { background-color: var(--light); color: var(--dark); margin: 0; padding: 20px; }

        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: var(--white);
            border-radius: 12px;
            box-shadow: var(--shadow);
            border-top: 5px solid var(--primary);
        }

        h1 { color: var(--primary); margin: 0 0 10px 0; }
        p.subtitle { color: #666; font-size: 1.1em; }

        /* Search Bar */
        .search-container {
            max-width: 600px;
            margin: 20px auto 0;
            position: relative;
        }
        
        #searchInput {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 30px;
            font-size: 16px;
            transition: var(--transition);
            outline: none;
        }

        #searchInput:focus { border-color: var(--primary); box-shadow: 0 0 0 4px rgba(0, 94, 184, 0.1); }

        /* Grid Layout */
        .grid-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        /* Card Styles */
        .card {
            background: var(--white);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            cursor: pointer;
            border-left: 5px solid transparent;
            position: relative;
        }

        .card:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.15); }

        /* Color Themes for Cards */
        .card.blue { border-left-color: var(--primary); }
        .card.green { border-left-color: var(--secondary); }
        .card.red { border-left-color: var(--danger); }
        .card.orange { border-left-color: var(--warning); }

        .card-header {
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #fff;
        }

        .card-icon {
            font-size: 24px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
        }

        .blue .card-icon { background: rgba(0, 94, 184, 0.1); color: var(--primary); }
        .green .card-icon { background: rgba(0, 150, 57, 0.1); color: var(--secondary); }
        .red .card-icon { background: rgba(213, 40, 27, 0.1); color: var(--danger); }
        .orange .card-icon { background: rgba(255, 184, 28, 0.1); color: var(--warning); }

        .card-title { font-weight: 700; font-size: 1.2em; display: flex; align-items: center; }
        .expand-icon { transition: transform 0.3s ease; }
        .card.active .expand-icon { transform: rotate(180deg); }

        /* Expandable Content */
        .card-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease-out;
            background: #f9fafb;
            padding: 0 20px;
        }

        .card.active .card-content {
            padding: 20px;
            max-height: 1000px; /* Arbitrary large height */
            border-top: 1px solid #eee;
        }

        /* Content Styling */
        .badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8em;
            font-weight: bold;
            margin-left: 10px;
            color: white;
        }
        .bg-urgent { background: var(--danger); }
        .bg-info { background: var(--primary); }

        ul { padding-left: 20px; margin: 10px 0; }
        li { margin-bottom: 8px; color: #555; }
        strong { color: #333; }

        .note-box {
            background: #fff3cd;
            border-left: 4px solid var(--warning);
            padding: 10px;
            margin: 10px 0;
            font-size: 0.9em;
            border-radius: 4px;
        }

        .contact-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 10px;
        }
        
        .contact-item {
            background: white;
            padding: 10px;
            border-radius: 6px;
            border: 1px solid #eee;
            font-size: 0.9em;
        }

    </style>
</head>
<body>

<header>
    <h1><i class="fa-solid fa-microscope"></i> MMMP Laboratory Guide</h1>
    <p class="subtitle">Manchester Medical Microbiology Partnership - User Manual Algorithm</p>
    <div class="search-container">
        <input type="text" id="searchInput" placeholder="Search for tests, contacts, or requirements..." onkeyup="filterCards()">
    </div>
</header>

<div class="grid-container" id="cardGrid">

    <div class="card blue" onclick="toggleCard(this)">
        <div class="card-header">
            <div class="card-title">
                <div class="card-icon"><i class="fa-solid fa-phone"></i></div>
                <span>Key Contacts & Hours</span>
                <span class="badge bg-info">Mon-Fri 8-5</span>
            </div>
            <i class="fa-solid fa-chevron-down expand-icon"></i>
        </div>
        <div class="card-content">
            [cite_start]<p><strong>Routine Hours:</strong> Mon-Fri 8:00am - 5:00pm [cite: 172]</p>
            [cite_start]<p><strong>Microbiology Advice:</strong> 0161 276 8788 / 8854 [cite: 179]</p>
            [cite_start]<p><strong>Virology Advice:</strong> 0161 276 8854 (Ext 68854) [cite: 325]</p>
            <div class="note-box">
                [cite_start]<i class="fa-solid fa-triangle-exclamation"></i> <strong>Out of Hours:</strong> Contact duty BMS via Switchboard (0161 276 1234) for urgent requests only. [cite: 199-200]
            </div>
            <div class="contact-grid">
                <div class="contact-item"><strong>Microbiology Results:</strong><br>Option 1 (08:30-17:00)</div>
                <div class="contact-item"><strong>Virology Clinical:</strong><br>Option 2 (09:00-17:00)</div>
                <div class="contact-item"><strong>Wythenshawe Advice:</strong><br>0161 291 2885</div>
                <div class="contact-item"><strong>Infection Control:</strong><br>Ext 64042</div>
            </div>
        </div>
    </div>

    <div class="card red" onclick="toggleCard(this)">
        <div class="card-header">
            <div class="card-title">
                <div class="card-icon"><i class="fa-solid fa-tags"></i></div>
                <span>Labelling & Acceptance</span>
                <span class="badge bg-urgent">Strict Policy</span>
            </div>
            <i class="fa-solid fa-chevron-down expand-icon"></i>
        </div>
        <div class="card-content">
            [cite_start]<p><strong>MANDATORY:</strong> Samples must have 4 identifiers matching the form: [cite: 458]</p>
            <ul>
                <li><i class="fa-solid fa-check"></i> District/NHS Number</li>
                <li><i class="fa-solid fa-check"></i> Surname</li>
                <li><i class="fa-solid fa-check"></i> Forename</li>
                <li><i class="fa-solid fa-check"></i> Date of Birth</li>
            </ul>
            <p><strong>Rejection Criteria:</strong></p>
            <ul>
                [cite_start]<li>Unlabelled/Mismatched samples. [cite: 373]</li>
                <li>Leaking or hazardous samples.</li>
                [cite_start]<li>Samples &gt;3 days old (unless CF samples). [cite: 474]</li>
                [cite_start]<li>"Pre-labelling" tubes is prohibited. [cite: 369]</li>
            </ul>
            <div class="note-box">
                [cite_start]<strong>One Bag = One Patient.</strong> Do not mix samples from different patients or different departments (e.g., Blood Science + Micro) in one bag. [cite: 480-482]
            </div>
        </div>
    </div>

    <div class="card orange" onclick="toggleCard(this)">
        <div class="card-header">
            <div class="card-title">
                <div class="card-icon"><i class="fa-solid fa-truck-medical"></i></div>
                <span>Transport & High Risk</span>
            </div>
            <i class="fa-solid fa-chevron-down expand-icon"></i>
        </div>
        <div class="card-content">
            <p><strong>Routine:</strong> Use Pod system (ORC) or Portering. [cite_start]Refrigerate if delayed (Except Blood Cultures). [cite: 413]</p>
            [cite_start]<p><strong>High Risk Samples (HG3):</strong> [cite: 445-448]</p>
            <ul>
                <li>Must be labelled with "Danger of Infection" stickers.</li>
                <li>Includes: HIV, Hep B/C, TB, Typhoid, E.coli O157.</li>
                [cite_start]<li><strong>NEVER</strong> send HG3 samples via the Pneumatic Tube (Pod). [cite: 418]</li>
                <li>Must be double bagged.</li>
            </ul>
            [cite_start]<p><strong>Urgent Samples:</strong> [cite: 420]</p>
            <ul>
                <li>Must notify lab by telephone.</li>
                <li>Result will be phoned back; ensure contact details are on form.</li>
            </ul>
        </div>
    </div>

    <div class="card green" onclick="toggleCard(this)">
        <div class="card-header">
            <div class="card-title">
                <div class="card-icon"><i class="fa-solid fa-flask"></i></div>
                <span>Blood Cultures</span>
                <span class="badge bg-urgent">Sepsis</span>
            </div>
            <i class="fa-solid fa-chevron-down expand-icon"></i>
        </div>
        <div class="card-content">
            [cite_start]<p><strong>Collection:</strong> Take 2 sets from separate sites for each septic episode. [cite: 601]</p>
            <ul>
                <li><strong>Adults:</strong> Aerobic (Silver/Blue) + Anaerobic (Purple). [cite_start]8-10mL per bottle. [cite: 595, 608]</li>
                <li><strong>Paeds:</strong> Pink top bottle. [cite_start]1-3mL. [cite: 597, 609]</li>
            </ul>
            <p><strong>Transport:</strong></p>
            <ul>
                [cite_start]<li>Do <strong>NOT</strong> refrigerate. [cite: 616]</li>
                [cite_start]<li>Send to lab immediately (within 4 hours). [cite: 606]</li>
            </ul>
            [cite_start]<p><strong>Endocarditis:</strong> Take 3 sets over 24 hours. [cite: 603]</p>
        </div>
    </div>

    <div class="card green" onclick="toggleCard(this)">
        <div class="card-header">
            <div class="card-title">
                <div class="card-icon"><i class="fa-solid fa-brain"></i></div>
                <span>CSF (Meningitis)</span>
                <span class="badge bg-urgent">Urgent</span>
            </div>
            <i class="fa-solid fa-chevron-down expand-icon"></i>
        </div>
        <div class="card-content">
            [cite_start]<p><strong>Action:</strong> Always contact the laboratory when sending a CSF. [cite: 790]</p>
            <p><strong>Collection:</strong></p>
            <ul>
                [cite_start]<li>Collect sequentially into 3 numbered containers. [cite: 789]</li>
                [cite_start]<li>Send Sample #3 (or last sample) to Microbiology. [cite: 791]</li>
                [cite_start]<li>Minimum volume: 1mL (6mL if TB suspected). [cite: 787]</li>
            </ul>
            <p><strong>Transport:</strong> Do <strong>NOT</strong> use the Pod system. [cite_start]Transport immediately by porter. [cite: 786]</p>
            <div class="note-box">
                [cite_start]<strong>Note:</strong> TB investigations cannot be processed out of hours. [cite: 206]
            </div>
        </div>
    </div>

    <div class="card green" onclick="toggleCard(this)">
        <div class="card-header">
            <div class="card-title">
                <div class="card-icon"><i class="fa-solid fa-bacteria"></i></div>
                <span>Swabs (MRSA & Wounds)</span>
            </div>
            <i class="fa-solid fa-chevron-down expand-icon"></i>
        </div>
        <div class="card-content">
            [cite_start]<p><strong>MRSA Screening:</strong> [cite: 1243-1247]</p>
            <ul>
                <li><strong>Double eSwab:</strong> For Nose (White swab) & Groin (Pink swab).</li>
                <li>Discard Pink swab after putting it in liquid; keep White swab in tube.</li>
                <li><strong>Single eSwab:</strong> For wound sites.</li>
            </ul>
            [cite_start]<p><strong>Wounds/Pus:</strong> [cite: 531, 538]</p>
            <ul>
                <li>Pus is preferred over swabs. Aspirate if possible.</li>
                <li>If using eSwab, ensure 1mL liquid remains. Dry swabs are rejected.</li>
            </ul>
        </div>
    </div>

    <div class="card green" onclick="toggleCard(this)">
        <div class="card-header">
            <div class="card-title">
                <div class="card-icon"><i class="fa-solid fa-lungs-virus"></i></div>
                <span>Respiratory / Virology</span>
            </div>
            <i class="fa-solid fa-chevron-down expand-icon"></i>
        </div>
        <div class="card-content">
            [cite_start]<p><strong>Sample Type:</strong> Nose & Throat swab in Virus Transport Medium (VTM). [cite: 759]</p>
            <ul>
                [cite_start]<li><strong>COVID-19:</strong> Label package 'PRIORITY 10' (or 'PRIORITY 20' if known positive). [cite: 763]</li>
                <li><strong>Flu/RSV:</strong> Uses same VTM sample.</li>
            </ul>
            <p><strong>Urgent MERS:</strong> Requires discussion with Virologist. [cite_start]Label 'Urgent CL3'. [cite: 1211, 1215]</p>
            [cite_start]<p><strong>Turnaround:</strong> Routine COVID ~24hrs. [cite: 772]</p>
        </div>
    </div>

    <div class="card green" onclick="toggleCard(this)">
        <div class="card-header">
            <div class="card-title">
                <div class="card-icon"><i class="fa-solid fa-vial"></i></div>
                <span>Urine Culture</span>
            </div>
            <i class="fa-solid fa-chevron-down expand-icon"></i>
        </div>
        <div class="card-content">
            [cite_start]<p><strong>Container:</strong> Red Top 10ml Monovette with Boric Acid. [cite: 1538]</p>
            <ul>
                [cite_start]<li>White top universals are <strong>rejected</strong> (unless paediatric < 3 months). [cite: 1539]</li>
                <li>Fill to the line (10ml).</li>
            </ul>
            [cite_start]<p><strong>Microscopy:</strong> Only performed if requested urgently (call lab). [cite: 1555]</p>
            <p><strong>Screening:</strong> Dipstick first. [cite_start]Only send if Leukocytes/Nitrites positive (unless special group). [cite: 1544]</p>
        </div>
    </div>

</div>

<footer>
    <p style="text-align: center; margin-top: 40px; color: #888; font-size: 0.9em;">
        Based on MMMP User Manual Edition 21 (2024). <br>
        Always verify clinical decisions with the on-call Microbiologist if in doubt.
    </p>
</footer>

<script>
    function toggleCard(card) {
        // Toggle the active class
        card.classList.toggle('active');
        
        // Handle expand icon rotation via CSS class 'active'
        // Handle content height
        var content = card.querySelector('.card-content');
        if (card.classList.contains('active')) {
            content.style.maxHeight = content.scrollHeight + "px";
        } else {
            content.style.maxHeight = "0";
        }
    }

    function filterCards() {
        var input = document.getElementById('searchInput');
        var filter = input.value.toUpperCase();
        var grid = document.getElementById('cardGrid');
        var cards = grid.getElementsByClassName('card');

        for (var i = 0; i < cards.length; i++) {
            var txtValue = cards[i].textContent || cards[i].innerText;
            if (txtValue.toUpperCase().indexOf(filter) > -1) {
                cards[i].style.display = "";
            } else {
                cards[i].style.display = "none";
            }
        }
    }
</script>

</body>
</html>