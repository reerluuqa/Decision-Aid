<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Acute Cholecystitis - Interactive Clinical Algorithm</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --accent: #e74c3c;
            --text: #2c3e50;
            --text-light: #7f8c8d;
            --background: #f8f9fa;
            --card-bg: #ffffff;
            --border: #e0e7ee;
            --shadow: rgba(0,0,0,0.08);
            --success: #27ae60;
            --warning: #f39c12;
            --danger: #e74c3c;
            --info: #3498db;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #e4e7f1 100%);
            color: var(--text);
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            display: flex;
            max-width: 1400px;
            margin: 0 auto;
            min-height: 100vh;
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, var(--primary) 0%, #1a2530 100%);
            color: white;
            padding: 2rem;
            text-align: center;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--danger), var(--warning), var(--success));
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }

        .header p {
            opacity: 0.9;
            font-size: 1.1rem;
        }

        .header .update-info {
            background: rgba(255,255,255,0.1);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            display: inline-block;
            margin-top: 1rem;
            font-size: 0.9rem;
            backdrop-filter: blur(10px);
        }

        /* Progress Sidebar */
        .progress-sidebar {
            width: 280px;
            background: var(--card-bg);
            position: sticky;
            top: 0;
            height: 100vh;
            overflow-y: auto;
            border-right: 1px solid var(--border);
            z-index: 100;
            box-shadow: 2px 0 10px var(--shadow);
        }

        .progress-header {
            padding: 1.5rem;
            background: var(--primary);
            color: white;
            font-weight: 600;
            font-size: 1.1rem;
        }

        .progress-item {
            padding: 1rem 1.5rem;
            border-bottom: 1px solid var(--border);
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .progress-item:hover {
            background: #f8f9ff;
            padding-left: 1.75rem;
        }

        .progress-item.active {
            background: linear-gradient(90deg, #e3f2fd 0%, #fff 100%);
            border-left: 4px solid var(--secondary);
            font-weight: 600;
            color: var(--primary);
        }

        .progress-icon {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            color: white;
        }

        .progress-icon.assessment { background: var(--info); }
        .progress-icon.diagnosis { background: #9b59b6; }
        .progress-icon.treatment { background: var(--success); }
        .progress-icon.followup { background: var(--warning); }

        /* Main Content */
        .main-content {
            flex: 1;
            padding: 2rem;
        }

        .section {
            margin-bottom: 3rem;
            scroll-margin-top: 2rem;
        }

        .section-title {
            font-size: 2rem;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            color: var(--primary);
            font-weight: 600;
        }

        .section-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
        }

        .assessment-icon { background: linear-gradient(135deg, var(--info), #2980b9); }
        .diagnosis-icon { background: linear-gradient(135deg, #9b59b6, #8e44ad); }
        .treatment-icon { background: linear-gradient(135deg, var(--success), #229954); }
        .followup-icon { background: linear-gradient(135deg, var(--warning), #d35400); }

        /* Cards */
        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .card {
            background: var(--card-bg);
            border-radius: 12px;
            box-shadow: 0 4px 12px var(--shadow);
            overflow: hidden;
            transition: all 0.3s ease;
            border: 1px solid var(--border);
        }

        .card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(0,0,0,0.12);
        }

        .card-header {
            padding: 1.25rem;
            color: white;
            cursor: pointer;
            display: flex;
            justify-content: between;
            align-items: center;
            gap: 1rem;
            transition: all 0.3s ease;
        }

        .card-header:hover {
            filter: brightness(1.1);
        }

        .card-header.assessment { background: linear-gradient(135deg, var(--info), #2980b9); }
        .card-header.diagnosis { background: linear-gradient(135deg, #9b59b6, #8e44ad); }
        .card-header.treatment { background: linear-gradient(135deg, var(--success), #229954); }
        .card-header.followup { background: linear-gradient(135deg, var(--warning), #d35400); }

        .card-title {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-size: 1.2rem;
            font-weight: 600;
        }

        .card-icon {
            font-size: 1.3rem;
        }

        .expand-icon {
            margin-left: auto;
            transition: transform 0.3s ease;
        }

        .card.expanded .expand-icon {
            transform: rotate(180deg);
        }

        .card-content {
            padding: 0;
            max-height: 0;
            overflow: hidden;
            transition: all 0.4s ease;
        }

        .card.expanded .card-content {
            padding: 1.5rem;
            max-height: 1000px;
        }

        /* List Items */
        .card-list {
            list-style: none;
            margin: 0;
        }

        .card-list li {
            padding: 0.75rem 0;
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
        }

        .card-list li:last-child {
            border-bottom: none;
        }

        .card-list .item-icon {
            color: var(--secondary);
            font-size: 0.9rem;
            margin-top: 0.25rem;
        }

        /* Badges */
        .badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.4rem 0.8rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin: 0.25rem;
        }

        .badge-danger {
            background: linear-gradient(135deg, var(--danger), #c0392b);
            color: white;
        }

        .badge-warning {
            background: linear-gradient(135deg, var(--warning), #e67e22);
            color: white;
        }

        .badge-success {
            background: linear-gradient(135deg, var(--success), #219653);
            color: white;
        }

        .badge-info {
            background: linear-gradient(135deg, var(--info), #2980b9);
            color: white;
        }

        /* Risk Factors Grid */
        .risk-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }

        .risk-item {
            background: #f8f9ff;
            padding: 1rem;
            border-radius: 8px;
            border-left: 4px solid var(--info);
            transition: transform 0.2s ease;
        }

        .risk-item:hover {
            transform: translateX(4px);
        }

        .risk-item strong {
            color: var(--primary);
        }

        /* Alert Boxes */
        .alert {
            padding: 1rem 1.25rem;
            border-radius: 8px;
            margin: 1rem 0;
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
            border-left: 4px solid;
        }

        .alert-danger {
            background: #fdf2f2;
            border-color: var(--danger);
            color: #c81e1e;
        }

        .alert-warning {
            background: #fff9f0;
            border-color: var(--warning);
            color: #b35900;
        }

        .alert-info {
            background: #f0f8ff;
            border-color: var(--info);
            color: #1a5a8c;
        }

        .alert-icon {
            font-size: 1.1rem;
            margin-top: 0.1rem;
        }

        /* Differential Diagnosis */
        .diff-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 0.75rem;
        }

        .diff-item {
            background: #f9f9f9;
            padding: 0.75rem;
            border-radius: 6px;
            border: 1px solid var(--border);
            text-align: center;
            font-size: 0.9rem;
            transition: all 0.2s ease;
        }

        .diff-item:hover {
            background: #f0f8ff;
            border-color: var(--secondary);
        }

        /* Complications */
        .complications-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1rem;
        }

        .complication-card {
            background: #fff5f5;
            padding: 1rem;
            border-radius: 8px;
            border-left: 4px solid var(--danger);
        }

        .complication-card h4 {
            color: var(--danger);
            margin-bottom: 0.5rem;
            font-size: 1rem;
        }

        .complication-card p {
            font-size: 0.85rem;
            color: var(--text-light);
        }

        /* Management Steps */
        .management-step {
            background: #f0fff4;
            padding: 1rem;
            border-radius: 8px;
            margin: 0.75rem 0;
            border-left: 4px solid var(--success);
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .step-number {
            background: var(--success);
            color: white;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            flex-shrink: 0;
        }

        /* Search Bar */
        .search-container {
            position: sticky;
            top: 0;
            z-index: 50;
            background: var(--card-bg);
            padding: 1rem 2rem;
            border-bottom: 1px solid var(--border);
            box-shadow: 0 2px 8px var(--shadow);
        }

        .search-bar {
            width: 100%;
            max-width: 500px;
            padding: 0.75rem 1rem;
            border: 2px solid var(--border);
            border-radius: 25px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .search-bar:focus {
            outline: none;
            border-color: var(--secondary);
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
        }

        /* Highlight */
        .highlight {
            background: #ffeb3b;
            padding: 2px 4px;
            border-radius: 3px;
            font-weight: 600;
        }

        /* Utility Classes */
        .text-danger { color: var(--danger); }
        .text-warning { color: var(--warning); }
        .text-success { color: var(--success); }
        .text-info { color: var(--info); }

        .font-semibold { font-weight: 600; }
        .mb-2 { margin-bottom: 0.5rem; }
        .mb-3 { margin-bottom: 1rem; }

        /* Print Styles */
        @media print {
            .progress-sidebar, .search-container { display: none; }
            .card { page-break-inside: avoid; }
            .card-content { max-height: none !important; padding: 1rem !important; }
            body { background: white; }
        }

        /* Responsive */
        @media (max-width: 992px) {
            .container { flex-direction: column; }
            .progress-sidebar {
                width: 100%;
                height: auto;
                position: relative;
                border-right: none;
                border-bottom: 1px solid var(--border);
            }
            .main-content { padding: 1rem; }
            .cards-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1><i class="fas fa-clipboard-list"></i> Acute Cholecystitis</h1>
        <p>Interactive Clinical Decision Support Algorithm</p>
        <div class="update-info">
            <i class="fas fa-info-circle"></i> Based on NICE CKS Guidelines | Last revised: July 2021
        </div>
    </div>

    <div class="search-container">
        <input type="text" class="search-bar" placeholder="ðŸ” Search algorithm content..." id="searchBar">
    </div>

    <div class="container">
        <aside class="progress-sidebar">
            <div class="progress-header">
                <i class="fas fa-route"></i> Algorithm Progress
            </div>
            <div class="progress-item active" data-target="assessment">
                <div class="progress-icon assessment">1</div>
                <span>Assessment</span>
            </div>
            <div class="progress-item" data-target="diagnosis">
                <div class="progress-icon diagnosis">2</div>
                <span>Diagnosis</span>
            </div>
            <div class="progress-item" data-target="treatment">
                <div class="progress-icon treatment">3</div>
                <span>Treatment</span>
            </div>
            <div class="progress-item" data-target="followup">
                <div class="progress-icon followup">4</div>
                <span>Follow-up</span>
            </div>
        </aside>

        <main class="main-content">
            <!-- Assessment Section -->
            <section class="section" id="assessment">
                <h2 class="section-title">
                    <div class="section-icon assessment-icon">
                        <i class="fas fa-stethoscope"></i>
                    </div>
                    Assessment
                </h2>

                <div class="cards-grid">
                    <!-- History Taking -->
                    <div class="card">
                        <div class="card-header assessment" onclick="toggleCard(this)">
                            <div class="card-title">
                                <i class="fas fa-notes-medical card-icon"></i>
                                <span>History Taking</span>
                            </div>
                            <i class="fas fa-chevron-down expand-icon"></i>
                        </div>
                        <div class="card-content">
                            <ul class="card-list">
                                <li>
                                    <i class="fas fa-check item-icon"></i>
                                    <div>
                                        <strong>Pain Characteristics:</strong> Sudden-onset, constant, severe right upper quadrant pain lasting several hours
                                        <span class="badge badge-danger">Key Feature</span>
                                    </div>
                                </li>
                                <li>
                                    <i class="fas fa-check item-icon"></i>
                                    <div>
                                        <strong>Radiation:</strong> May radiate to back, right shoulder, or interscapular region
                                    </div>
                                </li>
                                <li>
                                    <i class="fas fa-check item-icon"></i>
                                    <div>
                                        <strong>Associated Symptoms:</strong>
                                        <ul style="margin-left: 1rem; margin-top: 0.5rem;">
                                            <li>Fever/chills (infection)</li>
                                            <li>Nausea/vomiting (common bile duct stone)</li>
                                            <li>Anorexia</li>
                                        </ul>
                                    </div>
                                </li>
                                <li>
                                    <i class="fas fa-check item-icon"></i>
                                    <div>
                                        <strong>Previous Episodes:</strong> Ask about gallstones or biliary colic (50% recurrence within 12 months)
                                        <span class="badge badge-info">Risk Factor</span>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>

                    <!-- Risk Factors -->
                    <div class="card">
                        <div class="card-header assessment" onclick="toggleCard(this)">
                            <div class="card-title">
                                <i class="fas fa-exclamation-triangle card-icon"></i>
                                <span>Risk Factors</span>
                            </div>
                            <i class="fas fa-chevron-down expand-icon"></i>
                        </div>
                        <div class="card-content">
                            <h4 class="mb-3">Gallstone-related (90-95% of cases):</h4>
                            <div class="risk-grid">
                                <div class="risk-item">
                                    <strong>Increasing age</strong>
                                </div>
                                <div class="risk-item">
                                    <strong>Female gender</strong>
                                </div>
                                <div class="risk-item">
                                    <strong>Obesity</strong>
                                </div>
                                <div class="risk-item">
                                    <strong>Low fiber diet</strong>
                                </div>
                            </div>

                            <h4 class="mb-3 mt-3">Acalculous Cholecystitis Risk:</h4>
                            <div class="alert alert-warning">
                                <i class="fas fa-info-circle alert-icon"></i>
                                Typically occurs in critically ill patients
                            </div>
                            <ul class="card-list">
                                <li><i class="fas fa-bed item-icon"></i>Prolonged fasting/starvation</li>
                                <li><i class="fas fa-iv-drip item-icon"></i>Prolonged total parenteral nutrition</li>
                                <li><i class="fas fa-burn item-icon"></i>Extensive trauma or burns</li>
                                <li><i class="fas fa-procedures item-icon"></i>Major surgery</li>
                                <li><i class="fas fa-virus item-icon"></i>Sepsis</li>
                                <li><i class="fas fa-pills item-icon"></i>Drugs: cyclosporin, ceftriaxone</li>
                                <li><i class="fas fa-heartbeat item-icon"></i>Diabetes, ESRD, heart failure</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Physical Examination -->
                    <div class="card">
                        <div class="card-header assessment" onclick="toggleCard(this)">
                            <div class="card-title">
                                <i class="fas fa-hand-paper card-icon"></i>
                                <span>Physical Examination</span>
                            </div>
                            <i class="fas fa-chevron-down expand-icon"></i>
                        </div>
                        <div class="card-content">
                            <div class="alert alert-danger">
                                <i class="fas fa-exclamation-circle alert-icon"></i>
                                <strong>First assess for sepsis!</strong> Look for extreme pain, mottled skin, fever/rigors, shortness of breath
                            </div>

                            <h4 class="mb-2">Abdominal Examination:</h4>
                            <ul class="card-list">
                                <li>
                                    <i class="fas fa-hand-pointer item-icon"></i>
                                    <div>
                                        <strong>Right Upper Quadrant Tenderness:</strong> Essential finding
                                        <span class="badge badge-danger">Required Sign</span>
                                    </div>
                                </li>
                                <li>
                                    <i class="fas fa-circle item-icon"></i>
                                    <div>
                                        <strong>Palpable Mass:</strong> Distended gallbladder in 30-40% of cases
                                    </div>
                                </li>
                                <li>
                                    <i class="fas fa-lungs item-icon"></i>
                                    <div>
                                        <strong>Murphy's Sign:</strong> Pain inhibits inspiration on palpation
                                        <span class="badge badge-warning">Unreliable in elderly/critically ill</span>
                                    </div>
                                </li>
                            </ul>

                            <h4 class="mb-2 mt-3">Signs of Complications:</h4>
                            <ul class="card-list">
                                <li>
                                    <i class="fas fa-eye text-warning item-icon"></i>
                                    <strong>Jaundice:</strong> Up to 10% of cases
                                </li>
                                <li>
                                    <i class="fas fa-thermometer-full text-danger item-icon"></i>
                                    <strong>Persistent Fever:</strong> Suggests abscess or perforation
                                </li>
                            </ul>
                        </div>
                    </div>

                    <!-- Red Flags & Complications -->
                    <div class="card">
                        <div class="card-header assessment" onclick="toggleCard(this)">
                            <div class="card-title">
                                <i class="fas fa-flag card-icon"></i>
                                <span>Red Flags & Complications</span>
                            </div>
                            <i class="fas fa-chevron-down expand-icon"></i>
                        </div>
                        <div class="card-content">
                            <div class="alert alert-danger">
                                <i class="fas fa-exclamation-triangle alert-icon"></i>
                                <strong>25-30% develop complications without treatment</strong>
                            </div>

                            <div class="complications-grid">
                                <div class="complication-card">
                                    <h4><i class="fas fa-biohazard"></i> Gangrenous Cholecystitis</h4>
                                    <p>Necrosis of gallbladder wall after 3-5 days of obstruction</p>
                                </div>
                                <div class="complication-card">
                                    <h4><i class="fas fa-radiation-alt"></i> Perforation</h4>
                                    <p>Occurs in ~10%; mortality up to 30%</p>
                                </div>
                                <div class="complication-card">
                                    <h4><i class="fas fa-fire"></i> Pericholecystic Abscess</h4>
                                    <p>Perforation covered by surrounding tissues</p>
                                </div>
                                <div class="complication-card">
                                    <h4><i class="fas fa-tint"></i> Biliary Peritonitis</h4>
                                    <p>Bile leakage into peritoneal cavity</p>
                                </div>
                                <div class="complication-card">
                                    <h4><i class="fas fa-link"></i> Fistula Formation</h4>
                                    <p>Usually gallbladder-duodenum; can cause gallstone ileus</p>
                                </div>
                                <div class="complication-card">
                                    <h4><i class="fas fa-heartbeat"></i> Sepsis</h4>
                                    <p>Bacterial infection complication</p>
                                </div>
                            </div>

                            <div class="alert alert-warning mt-3">
                                <i class="fas fa-info-circle alert-icon"></i>
                                <strong>Acalculous cholecystitis mortality:</strong> 10-50% (much higher than calculous)
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Diagnosis Section -->
            <section class="section" id="diagnosis">
                <h2 class="section-title">
                    <div class="section-icon diagnosis-icon">
                        <i class="fas fa-microscope"></i>
                    </div>
                    Diagnosis
                </h2>

                <div class="cards-grid">
                    <!-- Diagnostic Criteria -->
                    <div class="card">
                        <div class="card-header diagnosis" onclick="toggleCard(this)">
                            <div class="card-title">
                                <i class="fas fa-clipboard-check card-icon"></i>
                                <span>Diagnostic Criteria</span>
                            </div>
                            <i class="fas fa-chevron-down expand-icon"></i>
                        </div>
                        <div class="card-content">
                            <h4 class="mb-2">Suspect Acute Cholecystitis if:</h4>
                            <ul class="card-list">
                                <li>
                                    <i class="fas fa-asterisk item-icon text-danger"></i>
                                    <div>
                                        <strong>Sudden-onset, constant, severe RUQ pain</strong> lasting several hours
                                        <span class="badge badge-danger">Essential</span>
                                    </div>
                                </li>
                                <li>
                                    <i class="fas fa-asterisk item-icon text-danger"></i>
                                    <div>
                                        <strong>Right upper quadrant tenderness</strong> (Â± guarding)
                                        <span class="badge badge-danger">Essential</span>
                                    </div>
                                </li>
                            </ul>

                            <div class="alert alert-info mt-3">
                                <i class="fas fa-info-circle alert-icon"></i>
                                <strong>Assessment Goals:</strong> Identify symptoms/signs, risk factors, exclude differentials, identify complications
                            </div>
                        </div>
                    </div>

                    <!-- Differential Diagnosis -->
                    <div class="card">
                        <div class="card-header diagnosis" onclick="toggleCard(this)">
                            <div class="card-title">
                                <i class="fas fa-not-equal card-icon"></i>
                                <span>Differential Diagnosis</span>
                            </div>
                            <i class="fas fa-chevron-down expand-icon"></i>
                        </div>
                        <div class="card-content">
                            <h4 class="mb-2">Consider Alternative Diagnoses:</h4>
                            <div class="diff-grid">
                                <div class="diff-item">
                                    <i class="fas fa-viruses text-info"></i><br>
                                    <strong>Acute Cholangitis</strong>
                                </div>
                                <div class="diff-item">
                                    <i class="fas fa-heart text-danger"></i><br>
                                    <strong>Acute Coronary Syndrome</strong>
                                </div>
                                <div class="diff-item">
                                    <i class="fas fa-fire text-warning"></i><br>
                                    <strong>Acute Pancreatitis</strong>
                                </div>
                                <div class="diff-item">
                                    <i class="fas fa-plus text-danger"></i><br>
                                    <strong>Appendicitis</strong>
                                </div>
                                <div class="diff-item">
                                    <i class="fas fa-disease text-danger"></i><br>
                                    <strong>GI Cancer</strong>
                                </div>
                                <div class="diff-item">
                                    <i class="fas fa-heartburn text-info"></i><br>
                                    <strong>GORD</strong>
                                </div>
                                <div class="diff-item">
                                    <i class="fas fa-viruses text-warning"></i><br>
                                    <strong>Hepatitis</strong>
                                </div>
                                <div class="diff-item">
                                    <i class="fas fa-ulcer text-danger"></i><br>
                                    <strong>Peptic Ulcer Disease</strong>
                                </div>
                                <div class="diff-item">
                                    <i class="fas fa-lungs text-info"></i><br>
                                    <strong>RLQ Pneumonia</strong>
                                </div>
                                <div class="diff-item">
                                    <i class="fas fa-gem text-warning"></i><br>
                                    <strong>Symptomatic Gallstones</strong>
                                </div>
                            </div>

                            <div class="alert alert-warning mt-3">
                                <i class="fas fa-exclamation-circle alert-icon"></i>
                                <strong>Acalculous cholecystitis</strong> is a diagnosis of exclusion in critically ill patients
                            </div>
                        </div>
                    </div>

                    <!-- Severity Assessment -->
                    <div class="card">
                        <div class="card-header diagnosis" onclick="toggleCard(this)">
                            <div class="card-title">
                                <i class="fas fa-layer-group card-icon"></i>
                                <span>Severity Assessment</span>
                            </div>
                            <i class="fas fa-chevron-down expand-icon"></i>
                        </div>
                        <div class="card-content">
                            <h4 class="mb-2">Severity Indicators:</h4>
                            <ul class="card-list">
                                <li>
                                    <i class="fas fa-thermometer-full item-icon text-danger"></i>
                                    <div>
                                        <strong>Fever > 38.5Â°C</strong>
                                        <span class="badge badge-danger">Severe</span>
                                    </div>
                                </li>
                                <li>
                                    <i class="fas fa-heartbeat item-icon text-danger"></i>
                                    <div>
                                        <strong>Tachycardia > 120 bpm</strong>
                                        <span class="badge badge-danger">Severe</span>
                                    </div>
                                </li>
                                <li>
                                    <i class="fas fa-eye item-icon text-warning"></i>
                                    <div>
                                        <strong>Jaundice</strong> (up to 10% of cases)
                                        <span class="badge badge-warning">Moderate-Severe</span>
                                    </div>
                                </li>
                                <li>
                                    <i class="fas fa-biohazard item-icon text-danger"></i>
                                    <div>
                                        <strong signs of peritonitis</strong>
                                        <span class="badge badge-danger">Severe</span>
                                    </div>
                                </li>
                            </ul>

                            <div class="alert alert-info mt-3">
                                <i class="fas fa-info-circle alert-icon"></i>
                                <strong>Grading:</strong> Based on Tokyo Guidelines 2018 - assess for organ dysfunction and local inflammation
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Treatment Section -->
            <section class="section" id="treatment">
                <h2 class="section-title">
                    <div class="section-icon treatment-icon">
                        <i class="fas fa-procedures"></i>
                    </div>
                    Treatment
                </h2>

                <div class="cards-grid">
                    <!-- Immediate Management -->
                    <div class="card">
                        <div class="card-header treatment" onclick="toggleCard(this)">
                            <div class="card-title">
                                <i class="fas fa-ambulance card-icon"></i>
                                <span>Immediate Management</span>
                            </div>
                            <i class="fas fa-chevron-down expand-icon"></i>
                        </div>
                        <div class="card-content">
                            <div class="alert alert-danger">
                                <i class="fas fa-exclamation-triangle alert-icon"></i>
                                <strong>Primary Care Action:</strong> Immediate hospital admission required
                                <span class="badge badge-danger">URGENT REFERRAL</span>
                            </div>

                            <h4 class="mb-2">Pre-hospital Measures:</h4>
                            <ul class="card-list">
                                <li>
                                    <i class="fas fa-bed item-icon"></i>
                                    <strong>Bed rest</strong> and monitor vital signs
                                </li>
                                <li>
                                    <i class="fas fa-ban item-icon"></i>
                                    <strong>Nil by mouth</strong> if severe pain/vomiting
                                </li>
                                <li>
                                    <i class="fas fa-tint item-icon"></i>
                                    <strong>IV fluids</strong> if dehydrated
                                </li>
                                <li>
                                    <i class="fas fa-pills item-icon"></i>
                                    <strong>Analgesia:</strong> NSAID (e.g., naproxen) if no contraindications
                                </li>
                            </ul>

                            <div class="alert alert-info mt-3">
                                <i class="fas fa-info-circle alert-icon"></i>
                                <strong>Note:</strong> Primary care management is limited to initial assessment and urgent referral. Definitive treatment is surgical.
                            </div>
                        </div>
                    </div>

                    <!-- Hospital Management -->
                    <div class="card">
                        <div class="card-header treatment" onclick="toggleCard(this)">
                            <div class="card-title">
                                <i class="fas fa-hospital card-icon"></i>
                                <span>Hospital Management</span>
                            </div>
                            <i class="fas fa-chevron-down expand-icon"></i>
                        </div>
                        <div class="card-content">
                            <h4 class="mb-2">Secondary Care Provides:</h4>
                            
                            <div class="management-step">
                                <div class="step-number">1</div>
                                <div>
                                    <strong>Confirmation of Diagnosis:</strong>
                                    <ul style="margin-left: 1rem; margin-top: 0.5rem;">
                                        <li>Abdominal ultrasound (first-line)</li>
                                        <li>Blood tests: WBC, CRP, serum amylase, LFTs</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="management-step">
                                <div class="step-number">2</div>
                                <div>
                                    <strong>Monitoring:</strong> BP, pulse, urine output, temperature
                                </div>
                            </div>

                            <div class="management-step">
                                <div class="step-number">3</div>
                                <div>
                                    <strong>Medical Treatment:</strong>
                                    <ul style="margin-left: 1rem; margin-top: 0.5rem;">
                                        <li>IV fluids for hydration</li>
                                        <li>Antibiotics (broad-spectrum)</li>
                                        <li>Analgesia (NSAIDs, opioids if needed)</li>
                                        <li>Antiemetics</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="management-step">
                                <div class="step-number">4</div>
                                <div>
                                    <strong>Surgical Assessment:</strong> For laparoscopic cholecystectomy
                                    <span class="badge badge-danger">Definitive Treatment</span>
                                </div>
                            </div>

                            <div class="alert alert-success mt-3">
                                <i class="fas fa-clock alert-icon"></i>
                                <strong>Timing:</strong> NICE Quality Standard recommends laparoscopic cholecystectomy within 1 week of diagnosis
                            </div>
                        </div>
                    </div>

                    <!-- Antibiotic Guidance -->
                    <div class="card">
                        <div class="card-header treatment" onclick="toggleCard(this)">
                            <div class="card-title">
                                <i class="fas fa-syringe card-icon"></i>
                                <span>Empirical Antibiotic Therapy</span>
                            </div>
                            <i class="fas fa-chevron-down expand-icon"></i>
                        </div>
                        <div class="card-content">
                            <h4 class="mb-2">Common Pathogens:</h4>
                            <ul class="card-list">
                                <li><i class="fas fa-bacteria item-icon"></i> <strong>E. coli</strong> (most common)</li>
                                <li><i class="fas fa-bacteria item-icon"></i> <strong>Klebsiella</strong></li>
                                <li><i class="fas fa-bacteria item-icon"></i> <strong>Enterococcus</strong></li>
                                <li><i class="fas fa-bacteria item-icon"></i> <strong>Enterobacter</strong></li>
                            </ul>

                            <h4 class="mb-2 mt-3">Recommended Regimens:</h4>
                            <div class="alert alert-info">
                                <i class="fas fa-prescription-bottle-alt alert-icon"></i>
                                <strong>Hospital-initiated therapy examples:</strong>
                            </div>
                            <ul class="card-list">
                                <li>
                                    <i class="fas fa-pills item-icon"></i>
                                    <div>
                                        <strong>Co-amoxiclav</strong> alone
                                        <span class="badge badge-success">First-line</span>
                                    </div>
                                </li>
                                <li>
                                    <i class="fas fa-pills item-icon"></i>
                                    <div>
                                        <strong>Cefuroxime</strong> + <strong>Metronidazole</strong>
                                    </div>
                                </li>
                                <li>
                                    <i class="fas fa-pills item-icon"></i>
                                    <div>
                                        <strong>Piperacillin-tazobactam</strong> (severe/septic)
                                        <span class="badge badge-warning">Severe Cases</span>
                                    </div>
                                </li>
                                <li>
                                    <i class="fas fa-pills item-icon"></i>
                                    <div>
                                        <strong>Meropenem</strong> (life-threatening)
                                        <span class="badge badge-danger">Critical</span>
                                    </div>
                                </li>
                            </ul>

                            <p style="margin-top: 1rem; font-size: 0.9rem; color: var(--text-light);">
                                <i class="fas fa-info-circle"></i> Adjust based on local guidelines and culture results
                            </p>
                        </div>
                    </div>

                    <!-- Surgical Management -->
                    <div class="card">
                        <div class="card-header treatment" onclick="toggleCard(this)">
                            <div class="card-title">
                                <i class="fas fa-cut card-icon"></i>
                                <span>Surgical Management</span>
                            </div>
                            <i class="fas fa-chevron-down expand-icon"></i>
                        </div>
                        <div class="card-content">
                            <h4 class="mb-2">Definitive Treatment:</h4>
                            <ul class="card-list">
                                <li>
                                    <i class="fas fa-laptop-medical item-icon"></i>
                                    <div>
                                        <strong>Laparoscopic Cholecystectomy:</strong> Gold standard
                                        <span class="badge badge-success">Preferred</span>
                                    </div>
                                </li>
                                <li>
                                    <i class="fas fa-calendar-check item-icon"></i>
                                    <div>
                                        <strong>Timing:</strong> Within 1 week of diagnosis (NICE QS)
                                        <span class="badge badge-danger">Quality Standard</span>
                                    </div>
                                </li>
                            </ul>

                            <h4 class="mb-2 mt-3">Alternative Approaches:</h4>
                            <ul class="card-list">
                                <li>
                                    <i class="fas fa-procedures item-icon"></i>
                                    <div>
                                        <strong>Delayed Surgery:</strong> After 6-8 weeks if immediate surgery not possible
                                        <span class="badge badge-warning">Higher Complication Risk</span>
                                    </div>
                                </li>
                                <li>
                                    <i class="fas fa-drain-paragraph item-icon"></i>
                                    <div>
                                        <strong>Percutaneous Cholecystostomy:</strong> For high-risk surgical candidates
                                        <span class="badge badge-info">Temporizing Measure</span>
                                    </div>
                                </li>
                                <li>
                                    <i class="fas fa-cut item-icon"></i>
                                    <div>
                                        <strong>Open Cholecystectomy:</strong> If laparoscopic not feasible
                                    </div>
                                </li>
                            </ul>

                            <div class="alert alert-info mt-3">
                                <i class="fas fa-info-circle alert-icon"></i>
                                Early laparoscopic cholecystectomy reduces hospital stay and complications compared to delayed surgery
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Follow-up Section -->
            <section class="section" id="followup">
                <h2 class="section-title">
                    <div class="section-icon followup-icon">
                        <i class="fas fa-user-check"></i>
                    </div>
                    Follow-up
                </h2>

                <div class="cards-grid">
                    <!-- Post-Operative Care -->
                    <div class="card">
                        <div class="card-header followup" onclick="toggleCard(this)">
                            <div class="card-title">
                                <i class="fas fa-bed card-icon"></i>
                                <span>Post-Operative Follow-up</span>
                            </div>
                            <i class="fas fa-chevron-down expand-icon"></i>
                        </div>
                        <div class="card-content">
                            <h4 class="mb-2">After Laparoscopic Cholecystectomy:</h4>
                            <div class="management-step">
                                <div class="step-number">1</div>
                                <div>
                                    <strong>Immediate Post-op:</strong> Pain management, wound care
                                    <span class="badge badge-success">Day Surgery Common</span>
                                </div>
                            </div>

                            <div class="management-step">
                                <div class="step-number">2</div>
                                <div>
                                    <strong>1-2 Week Review:</strong> Wound check, recovery assessment
                                    <span class="badge badge-info">GP Follow-up</span>
                                </div>
                            </div>

                            <div class="management-step">
                                <div class="step-number">3</div>
                                <div>
                                    <strong>4-6 Week Review:</strong> Return to normal activities, dietary advice
                                    <span class="badge badge-success">Full Recovery Expected</span>
                                </div>
                            </div>

                            <h4 class="mb-2 mt-3">Complications to Monitor:</h4>
                            <ul class="card-list">
                                <li>
                                    <i class="fas fa-exclamation-triangle item-icon text-warning"></i>
                                    <strong>Bile Leak:</strong> Fever, abdominal pain, jaundice
                                    <span class="badge badge-danger">Urgent Review</span>
                                </li>
                                <li>
                                    <i class="fas fa-wrench item-icon text-warning"></i>
                                    <strong>Bile Duct Injury:</strong> Biliary obstruction symptoms
                                    <span class="badge badge-danger">Urgent Review</span>
                                </li>
                                <li>
                                    <i class="fas fa-wind item-icon text-info"></i>
                                    <strong>Post-cholecystectomy Syndrome:</strong> Persistent dyspepsia
                                    <span class="badge badge-info">Investigate if persists</span>
                                </li>
                            </ul>
                        </div>
                    </div>

                    <!-- Prevention & Lifestyle -->
                    <div class="card">
                        <div class="card-header followup" onclick="toggleCard(this)">
                            <div class="card-title">
                                <i class="fas fa-apple-alt card-icon"></i>
                                <span>Prevention & Lifestyle</span>
                            </div>
                            <i class="fas fa-chevron-down expand-icon"></i>
                        </div>
                        <div class="card-content">
                            <h4 class="mb-2">For Patients with Gallstones (Conservative Management):</h4>
                            <div class="alert alert-info">
                                <i class="fas fa-info-circle alert-icon"></i>
                                <strong>NICE Quality Standard:</strong> Advise avoidance of trigger foods/drinks
                            </div>

                            <h5 class="mb-2 mt-3"><i class="fas fa-utensils"></i> Dietary Advice:</h5>
                            <ul class="card-list">
                                <li>
                                    <i class="fas fa-times item-icon text-danger"></i>
                                    <strong>Avoid:</strong> High-fat meals, fried foods, dairy, chocolate
                                </li>
                                <li>
                                    <i class="fas fa-times item-icon text-danger"></i>
                                    <strong>Limit:</strong> Spicy foods, caffeine, alcohol
                                </li>
                                <li>
                                    <i class="fas fa-check item-icon text-success"></i>
                                    <strong>Encourage:</strong> Low-fat, high-fiber diet
                                </li>
                                <li>
                                    <i class="fas fa-weight item-icon text-info"></i>
                                    <strong>Weight Management:</strong> Gradual weight loss if overweight
                                </li>
                            </ul>

                            <h5 class="mb-2 mt-3"><i class="fas fa-exclamation-circle"></i> When to Seek Urgent Care:</h5>
                            <ul class="card-list">
                                <li>
                                    <i class="fas fa-fire item-icon text-danger"></i>
                                    <strong>Severe RUQ pain</strong> lasting >6 hours
                                </li>
                                <li>
                                    <i class="fas fa-thermometer-full item-icon text-danger"></i>
                                    <strong>Fever or chills</strong> with abdominal pain
                                </li>
                                <li>
                                    <i class="fas fa-eye item-icon text-warning"></i>
                                    <strong>Jaundice</strong> (yellow skin/eyes)
                                </li>
                                <li>
                                    <i class="fas fa-vial item-icon text-warning"></i>
                                    <strong>Pale stools/dark urine</strong>
                                </li>
                                <li>
                                    <i class="fas fa-vomit item-icon text-warning"></i>
                                    <strong>Persistent vomiting</strong>
                                </li>
                            </ul>
                        </div>
                    </div>

                    <!-- Monitoring -->
                    <div class="card">
                        <div class="card-header followup" onclick="toggleCard(this)">
                            <div class="card-title">
                                <i class="fas fa-chart-line card-icon"></i>
                                <span>Long-term Monitoring</span>
                            </div>
                            <i class="fas fa-chevron-down expand-icon"></i>
                        </div>
                        <div class="card-content">
                            <h4 class="mb-2">For Asymptomatic Gallstones:</h4>
                            <div class="alert alert-success">
                                <i class="fas fa-info-circle alert-icon"></i>
                                <strong>Natural History:</strong> Only 1-3% become symptomatic per year
                            </div>

                            <h5 class="mb-2 mt-3"><i class="fas fa-calendar-alt"></i> Follow-up Strategy:</h5>
                            <ul class="card-list">
                                <li>
                                    <i class="fas fa-stethoscope item-icon text-info"></i>
                                    <div>
                                        <strong>Annual Review:</strong> Check for symptoms
                                        <span class="badge badge-success">Routine</span>
                                    </div>
                                </li>
                                <li>
                                    <i class="fas fa-gem item-icon text-warning"></i>
                                    <div>
                                        <strong>If Symptoms Develop:</strong> Consider prophylactic cholecystectomy
                                        <span class="badge badge-warning">Individualized Decision</span>
                                    </div>
                                </li>
                                <li>
                                    <i class="fas fa-users item-icon text-info"></i>
                                    <div>
                                        <strong>High-Risk Groups:</strong> Diabetes, immunocompromised - consider elective surgery
                                        <span class="badge badge-warning">Lower Threshold</span>
                                    </div>
                                </li>
                                <li>
                                    <i class="fas fa-x-ray item-icon text-info"></i>
                                    <div>
                                        <strong>Imaging:</strong> Repeat ultrasound if symptoms change
                                    </div>
                                </li>
                            </ul>

                            <div class="alert alert-info mt-3">
                                <i class="fas fa-info-circle alert-icon"></i>
                                <strong>Special Populations:</strong> In diabetic patients, acute cholecystitis has higher complication rates - lower threshold for elective surgery
                            </div>
                        </div>
                    </div>

                    <!-- Quality Improvement -->
                    <div class="card">
                        <div class="card-header followup" onclick="toggleCard(this)">
                            <div class="card-title">
                                <i class="fas fa-award card-icon"></i>
                                <span>Quality Indicators</span>
                            </div>
                            <i class="fas fa-chevron-down expand-icon"></i>
                        </div>
                        <div class="card-content">
                            <h4 class="mb-2">Audit Criteria:</h4>
                            <div class="alert alert-info">
                                <i class="fas fa-info-circle alert-icon"></i>
                                <strong>NICE Quality Standard:</strong> Gallstone Disease (2015)
                            </div>

                            <h5 class="mb-2 mt-3">Key Performance Indicators:</h5>
                            <ul class="card-list">
                                <li>
                                    <i class="fas fa-clock item-icon text-danger"></i>
                                    <div>
                                        <strong>Time to surgery:</strong> Laparoscopic cholecystectomy within 1 week of diagnosis
                                        <span class="badge badge-danger">Standard</span>
                                    </div>
                                </li>
                                <li>
                                    <i class="fas fa-clipboard-check item-icon text-warning"></i>
                                    <div>
                                        <strong>Diagnosis confirmation:</strong> Ultrasound performed within 24 hours of admission
                                        <span class="badge badge-warning">Process Measure</span>
                                    </div>
                                </li>
                                <li>
                                    <i class="fas fa-ambulance item-icon text-success"></i>
                                    <div>
                                        <strong>Referral time:</strong> Primary care to admission within appropriate timeframe
                                        <span class="badge badge-success">Safety Measure</span>
                                    </div>
                                </li>
                                <li>
                                    <i class="fas fa-users item-icon text-info"></i>
                                    <div>
                                        <strong>Patient education:</strong> Documentation of dietary/lifestyle advice
                                        <span class="badge badge-info">Quality Measure</span>
                                    </div>
                                </li>
                            </ul>

                            <div class="alert alert-success mt-3">
                                <i class="fas fa-trophy alert-icon"></i>
                                <strong>Best Practice:</strong> Early recognition and urgent referral improve outcomes and reduce complications
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script>
        // Card toggle functionality
        function toggleCard(header) {
            const card = header.parentElement;
            card.classList.toggle('expanded');
            
            // Save state to localStorage
            const cardId = card.querySelector('.card-title span').textContent;
            const isExpanded = card.classList.contains('expanded');
            const expandedCards = JSON.parse(localStorage.getItem('expandedCards') || '[]');
            
            if (isExpanded) {
                if (!expandedCards.includes(cardId)) {
                    expandedCards.push(cardId);
                }
            } else {
                const index = expandedCards.indexOf(cardId);
                if (index > -1) {
                    expandedCards.splice(index, 1);
                }
            }
            localStorage.setItem('expandedCards', JSON.stringify(expandedCards));
        }

        // Progress sidebar navigation
        document.querySelectorAll('.progress-item').forEach(item => {
            item.addEventListener('click', () => {
                const target = item.dataset.target;
                const section = document.getElementById(target);
                
                // Update active state
                document.querySelectorAll('.progress-item').forEach(p => p.classList.remove('active'));
                item.classList.add('active');
                
                // Smooth scroll to section
                section.scrollIntoView({ behavior: 'smooth', block: 'start' });
            });
        });

        // Search functionality
        const searchBar = document.getElementById('searchBar');
        let searchTimeout;

        searchBar.addEventListener('input', (e) => {
            clearTimeout(searchTimeout);
            searchTimeout = setTimeout(() => {
                const searchTerm = e.target.value.toLowerCase();
                const sections = document.querySelectorAll('.section');
                
                if (!searchTerm) {
                    // Clear highlights
                    document.querySelectorAll('.highlight').forEach(h => {
                        const parent = h.parentNode;
                        parent.replaceChild(document.createTextNode(h.textContent), h);
                        parent.normalize();
                    });
                    return;
                }

                // Search and highlight
                sections.forEach(section => {
                    const text = section.textContent.toLowerCase();
                    if (text.includes(searchTerm)) {
                        // Highlight matching text
                        highlightText(section, searchTerm);
                    }
                });
            }, 300);
        });

        function highlightText(element, searchTerm) {
            const walker = document.createTreeWalker(
                element,
                NodeFilter.SHOW_TEXT,
                null,
                false
            );

            const textNodes = [];
            let node;
            while (node = walker.nextNode()) {
                if (node.nodeValue.toLowerCase().includes(searchTerm)) {
                    textNodes.push(node);
                }
            }

            textNodes.forEach(node => {
                const span = document.createElement('span');
                const regex = new RegExp(`(${escapeRegExp(searchTerm)})`, 'gi');
                span.innerHTML = node.nodeValue.replace(regex, '<span class="highlight">$1</span>');
                node.parentNode.replaceChild(span, node);
            });
        }

        function escapeRegExp(string) {
            return string.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
        }

        // Scroll spy for active progress item
        let scrollTimeout;
        window.addEventListener('scroll', () => {
            clearTimeout(scrollTimeout);
            scrollTimeout = setTimeout(() => {
                const sections = document.querySelectorAll('.section');
                const scrollPos = window.scrollY + 100;

                sections.forEach(section => {
                    const top = section.offsetTop;
                    const height = section.offsetHeight;
                    const id = section.id;

                    if (scrollPos >= top && scrollPos < top + height) {
                        document.querySelectorAll('.progress-item').forEach(p => {
                            p.classList.remove('active');
                            if (p.dataset.target === id) {
                                p.classList.add('active');
                            }
                        });
                    }
                });
            }, 50);
        });

        // Restore expanded cards from localStorage
        document.addEventListener('DOMContentLoaded', () => {
            const expandedCards = JSON.parse(localStorage.getItem('expandedCards') || '[]');
            document.querySelectorAll('.card').forEach(card => {
                const cardId = card.querySelector('.card-title span').textContent;
                if (expandedCards.includes(cardId)) {
                    card.classList.add('expanded');
                }
            });
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            if (e.ctrlKey || e.metaKey) {
                switch(e.key) {
                    case 'f':
                        e.preventDefault();
                        searchBar.focus();
                        break;
                    case 'p':
                        e.preventDefault();
                        window.print();
                        break;
                }
            }
        });

        // Print button (optional - can be added to header)
        function addPrintButton() {
            const printBtn = document.createElement('button');
            printBtn.innerHTML = '<i class="fas fa-print"></i> Print Algorithm';
            printBtn.style.cssText = `
                position: fixed;
                bottom: 20px;
                right: 20px;
                background: var(--primary);
                color: white;
                border: none;
                padding: 12px 20px;
                border-radius: 25px;
                cursor: pointer;
                box-shadow: 0 4px 12px var(--shadow);
                z-index: 1000;
                transition: all 0.3s ease;
            `;
            
            printBtn.addEventListener('click', () => window.print());
            printBtn.addEventListener('mouseenter', () => {
                printBtn.style.transform = 'scale(1.05)';
                printBtn.style.boxShadow = '0 6px 16px rgba(0,0,0,0.2)';
            });
            printBtn.addEventListener('mouseleave', () => {
                printBtn.style.transform = 'scale(1)';
                printBtn.style.boxShadow = '0 4px 12px var(--shadow)';
            });
            
            document.body.appendChild(printBtn);
        }

        // Initialize print button
        addPrintButton();

        // Add smooth scrolling for all internal links
        document.querySelectorAll('a[href^="#"]').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const target = document.querySelector(link.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth' });
                }
            });
        });

        // Responsive handling for mobile
        function handleResize() {
            const sidebar = document.querySelector('.progress-sidebar');
            const isMobile = window.innerWidth <= 992;
            
            if (isMobile) {
                // Collapse all cards on mobile for better UX
                document.querySelectorAll('.card').forEach(card => {
                    card.classList.remove('expanded');
                });
            }
        }

        window.addEventListener('resize', handleResize);
        handleResize(); // Initial call

        // Add loading animation
        document.body.style.opacity = '0';
        window.addEventListener('load', () => {
            setTimeout(() => {
                document.body.style.transition = 'opacity 0.5s ease';
                document.body.style.opacity = '1';
            }, 100);
        });
    </script>
</body>
</html>