<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gastroenteritis Clinical Reference | CKS Quick Scan</title>
    <style>
        :root {
            /* Color Palette */
            --color-danger: #d32f2f;      /* Red Flags / Emergency */
            --color-danger-bg: #ffebee;
            --color-success: #2e7d32;    /* Safe / Positive */
            --color-success-bg: #e8f5e9;
            --color-info: #0288d1;       /* General Info */
            --color-info-bg: #e1f5fe;
            --color-neutral: #455a64;
            --color-bg: #f4f6f8;
            --color-card: #ffffff;
            --color-text: #263238;
            
            /* Spacing & Layout */
            --spacing-xs: 4px;
            --spacing-sm: 8px;
            --spacing-md: 16px;
            --spacing-lg: 24px;
            --radius: 8px;
            --shadow: 0 2px 8px rgba(0,0,0,0.08);
            --shadow-hover: 0 4px 12px rgba(0,0,0,0.12);
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--color-bg);
            color: var(--color-text);
            margin: 0;
            padding: 0;
            line-height: 1.6;
        }

        /* Utility Classes */
        .hidden { display: none !important; }
        .flex { display: flex; }
        .grid { display: grid; }
        .bold { font-weight: 700; }
        .uppercase { text-transform: uppercase; letter-spacing: 0.5px; }

        /* Header */
        header {
            background: var(--color-card);
            border-bottom: 1px solid #ddd;
            padding: var(--spacing-md) var(--spacing-lg);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .brand {
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
        }

        .brand h1 {
            font-size: 1.25rem;
            margin: 0;
            color: var(--color-neutral);
        }

        .status-badge {
            background: var(--color-info);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        /* Layout Container */
        main {
            max-width: 1200px;
            margin: 0 auto;
            padding: var(--spacing-lg);
            display: grid;
            gap: var(--spacing-lg);
            grid-template-columns: 1fr;
        }

        /* Cards */
        .card {
            background: var(--color-card);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            padding: var(--spacing-lg);
            transition: transform 0.2s, box-shadow 0.2s;
            border-left: 4px solid transparent;
        }

        .card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-hover);
        }

        /* Emergency Section */
        .emergency-section {
            background-color: var(--color-danger-bg);
            border: 2px solid var(--color-danger);
            border-radius: var(--radius);
            padding: var(--spacing-lg);
            display: grid;
            grid-template-columns: 1fr;
            gap: var(--spacing-md);
        }
        
        @media (min-width: 768px) {
            .emergency-section { grid-template-columns: 1fr 1fr; }
        }

        .alert-header {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            color: var(--color-danger);
            font-weight: 800;
            font-size: 1.2rem;
            margin-bottom: var(--spacing-sm);
        }

        .alert-pulse {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.6; }
            100% { opacity: 1; }
        }

        .action-item {
            background: white;
            padding: var(--spacing-md);
            border-radius: var(--radius);
            border-left: 4px solid var(--color-danger);
            margin-bottom: var(--spacing-sm);
        }

        /* Two Column Layout */
        .split-view {
            display: grid;
            grid-template-columns: 1fr;
            gap: var(--spacing-lg);
        }
        
        @media (min-width: 900px) {
            .split-view { grid-template-columns: 1fr 1fr; }
        }

        /* Section Headers */
        h2 {
            font-size: 1.5rem;
            color: var(--color-neutral);
            border-bottom: 2px solid #eee;
            padding-bottom: var(--spacing-xs);
            margin-top: 0;
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
        }

        h3 {
            color: var(--color-info);
            font-size: 1.1rem;
            margin-top: 0;
        }

        /* Lists & Checks */
        ul.check-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        ul.check-list li {
            padding: 6px 0;
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }

        ul.check-list li::before {
            content: "•";
            color: var(--color-info);
            font-weight: bold;
            font-size: 1.2em;
            line-height: 1;
        }

        /* Tabs System for Causes */
        .tabs {
            display: flex;
            gap: var(--spacing-sm);
            margin-bottom: var(--spacing-md);
            border-bottom: 1px solid #ddd;
        }

        .tab-btn {
            background: none;
            border: none;
            padding: 10px 20px;
            font-size: 1rem;
            color: var(--color-neutral);
            cursor: pointer;
            border-bottom: 3px solid transparent;
            font-weight: 600;
            transition: all 0.3s;
        }

        .tab-btn:hover {
            color: var(--color-info);
            background-color: rgba(2, 136, 209, 0.05);
        }

        .tab-btn.active {
            color: var(--color-info);
            border-bottom: 3px solid var(--color-info);
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.4s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Tables/Grids for Complications */
        .complication-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: var(--spacing-md);
        }

        .comp-card {
            background: #fff;
            border: 1px solid #eee;
            padding: var(--spacing-md);
            border-radius: var(--radius);
        }

        .comp-title {
            font-weight: bold;
            color: var(--color-danger);
            display: block;
            margin-bottom: 4px;
        }

        .comp-source {
            font-size: 0.85rem;
            color: #666;
        }

        /* Updates Accordion */
        details {
            background: #fff;
            border: 1px solid #eee;
            border-radius: var(--radius);
            padding: var(--spacing-md);
        }

        summary {
            cursor: pointer;
            font-weight: 600;
            color: var(--color-neutral);
            outline: none;
        }

        .update-tag {
            background: var(--color-info-bg);
            color: var(--color-info);
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.75rem;
            margin-left: 8px;
            text-transform: uppercase;
        }

        /* Footer */
        footer {
            text-align: center;
            padding: var(--spacing-lg);
            color: #888;
            font-size: 0.85rem;
            border-top: 1px solid #ddd;
            margin-top: var(--spacing-lg);
        }

        /* Icon Helper */
        .icon {
            width: 24px;
            height: 24px;
            fill: currentColor;
        }

        /* Responsive Text */
        .large-text {
            font-size: 1.1rem;
        }

        /* Specific visual cues */
        .safe-action {
            color: var(--color-success);
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 5px;
        }

    </style>
</head>
<body>

    <!-- Header -->
    <header>
        <div class="brand">
            <!-- Medical Cross Icon -->
            <svg class="icon" viewBox="0 0 24 24" style="color: var(--color-danger); width: 32px; height: 32px;">
                <path d="M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3M10 17V13H6V11H10V7H12V11H16V13H12V17H10Z" />
            </svg>
            <div>
                <h1>Gastroenteritis Reference</h1>
                <div style="font-size: 0.8rem; color: #666;">NICE CKS Topic (Last Revised: May 2024)</div>
            </div>
        </div>
        <div class="status-badge">Quick Scan View</div>
    </header>

    <main>

        <!-- EMERGENCY SECTION (RED ZONE) -->
        <section class="emergency-section" id="red-flags">
            <div style="grid-column: 1 / -1;">
                <div class="alert-header">
                    <svg class="icon alert-pulse" viewBox="0 0 24 24">
                        <path d="M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z" />
                    </svg>
                    IMMEDIATE ACTIONS & RED FLAGS
                </div>
                <p>Assess for risk of dehydration, progression to shock, and complications.</p>
            </div>

            <div class="action-item">
                <h4 class="uppercase" style="color: var(--color-danger); margin-top:0;">Emergency Admission</h4>
                <p style="margin-bottom: 0;">Arrange if signs of shock, severe dehydration, or complications are present.</p>
                <div style="margin-top: 8px; font-size: 0.9rem;">
                    <strong>Children with bloody diarrhoea:</strong> Admit to confirm diagnosis & prevent spread (VTEC/E. Coli 0157 risk).
                </div>
            </div>

            <div class="action-item">
                <h4 class="uppercase" style="color: var(--color-danger); margin-top:0;">Notifiable Diseases</h4>
                <p style="margin-bottom: 0;">Notify the local health protection team if a notifiable organism is suspected (e.g., Cholera, Dysentery, Typhoid/Paratyphoid).</p>
            </div>
        </section>

        <!-- SCOPE & DEFINITION (BLUE/NEUTRAL) -->
        <section class="card" style="border-left-color: var(--color-info);">
            <h2>
                <svg class="icon" viewBox="0 0 24 24"><path d="M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z" /></svg>
                Scope & Definition
            </h2>
            <div class="grid" style="grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                <div>
                    <h3>Target Group</h3>
                    <p><strong>Age:</strong> 1 month onwards.</p>
                    <p><strong>Excludes:</strong> Neonates, <em>C. difficile</em> (see separate topic), Shellfish/Histamine poisoning.</p>
                </div>
                <div>
                    <h3>Diagnostic Criteria</h3>
                    <p>Sudden-onset diarrhoea (≥3 loose/liquid stools in 24hrs) lasting < 14 days, <strong>with or without</strong> vomiting, fever, or abdominal pain.</p>
                </div>
            </div>
        </section>

        <!-- ASSESSMENT (TWO COLUMN) -->
        <div class="split-view">
            
            <!-- History -->
            <section class="card" style="border-left-color: var(--color-neutral);">
                <h2>
                    <svg class="icon" viewBox="0 0 24 24"><path d="M14,10H19.5L14,4.5V10M5,3H15L21,9V19A2,2 0 0,1 19,21H5C3.89,21 3,20.1 3,19V5C3,3.89 3.89,3 5,3M5,5V19H19V12H12V5H5Z" /></svg>
                    History (Ask About)
                </h2>
                <ul class="check-list">
                    <li><strong>Symptoms:</strong> Blood, mucus, pus, nausea, vomiting, fever, malaise.</li>
                    <li><strong>Onset & Duration:</strong> Frequency and severity.</li>
                    <li><strong>Dehydration Risk:</strong> Fluid intake, urinary output, breastfeeding status.</li>
                    <li><strong>Comorbidities:</strong> Immunosuppression.</li>
                    <li><strong>Occupation:</strong> Food handler, healthcare worker.</li>
                    <li><strong>Recent Exposure:</strong> Food history, untreated water, sick contacts, outbreaks.</li>
                    <li><strong>Travel:</strong> Recent foreign travel (Country/Region).</li>
                    <li><strong>Meds:</strong> Recent antibiotics/PPIs (<em>C. diff</em> risk). Diuretics/ACEi (consider stopping).</li>
                    <li><strong>Sexual History:</strong> <span class="bold" style="color: var(--color-info);">NEW:</span> Ask about MSM (sexually transmitted enteric infections).</li>
                </ul>
            </section>

            <!-- Examination -->
            <section class="card" style="border-left-color: var(--color-neutral);">
                <h2>
                    <svg class="icon" viewBox="0 0 24 24"><path d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z" /></svg>
                    Examination (Assess)
                </h2>
                <div style="background: var(--color-info-bg); padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                    <strong style="color: var(--color-info);">Focus: Dehydration & Shock Status</strong>
                </div>
                <ul class="check-list">
                    <li><strong>General Appearance:</strong> Lethargy, level of consciousness.</li>
                    <li><strong>Skin Turgor:</strong> Tenting (check in children/elderly).</li>
                    <li><strong>Mucous Membranes:</strong> Dry mouth, tongue.</li>
                    <li><strong>Eyes:</strong> Sunken eyes, absence of tears.</li>
                    <li><strong>Cardiovascular:</strong> Heart rate (tachycardia), capillary refill time (>2s), blood pressure (hypotension in late shock).</li>
                    <li><strong>Abdomen:</strong> Tenderness, distension, bowel sounds.</li>
                </ul>
            </section>
        </div>

        <!-- CAUSES (TABS) -->
        <section class="card">
            <h2>
                <svg class="icon" viewBox="0 0 24 24"><path d="M16,17H5V7H16L19.55,12L16,17M17.63,5.84C17.27,5.33 16.67,5 16,5H5A2,2 0 0,0 3,7V17A2,2 0 0,0 5,19H16C16.67,19 17.27,18.66 17.63,18.15L22,12L17.63,5.84Z" /></svg>
                Common Causes
            </h2>
            
            <div class="tabs">
                <button class="tab-btn active" onclick="switchTab(event, 'viral')">Viruses</button>
                <button class="tab-btn" onclick="switchTab(event, 'bacterial')">Bacteria</button>
                <button class="tab-btn" onclick="switchTab(event, 'parasitic')">Parasites</button>
            </div>

            <!-- Viral Content -->
            <div id="viral" class="tab-content active">
                <div class="grid" style="grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 15px;">
                    <div class="comp-card" style="border-left: 3px solid #9c27b0;">
                        <span class="comp-title">Rotavirus</span>
                        <p>Common in children. Reduced prevalence due to vaccine.</p>
                        <p><em>Symptoms:</em> Watery diarrhoea, vomiting. Lasts 5-7 days.</p>
                    </div>
                    <div class="comp-card" style="border-left: 3px solid #9c27b0;">
                        <span class="comp-title">Norovirus</span>
                        <p>Commonest cause in England/Wales. Winter peak.</p>
                        <p><em>Symptoms:</em> Sudden nausea, projectile vomiting. Lasts 12-60 hrs.</p>
                        <span class="comp-source">Outbreaks common in closed settings.</span>
                    </div>
                    <div class="comp-card" style="border-left: 3px solid #9c27b0;">
                        <span class="comp-title">Adenoviruses</span>
                        <p>Respiratory/GI overlap. Particularly in children.</p>
                    </div>
                </div>
            </div>

            <!-- Bacterial Content -->
            <div id="bacterial" class="tab-content">
                <div class="grid" style="grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 15px;">
                    <div class="comp-card" style="border-left: 3px solid #f44336;">
                        <span class="comp-title">Campylobacter (jejuni/coli)</span>
                        <p>Most reported bacterial cause. Often bloody diarrhoea.</p>
                        <span class="comp-source">Source: Poultry, unpasteurised milk.</span>
                    </div>
                    <div class="comp-card" style="border-left: 3px solid #f44336;">
                        <span class="comp-title">E. Coli (STEC/VTEC)</span>
                        <p>O157 is common. Risk of <strong>HUS</strong> (Haemolytic Uraemic Syndrome).</p>
                        <span class="comp-source">Source: Meat, salad, water, contact with cattle.</span>
                    </div>
                    <div class="comp-card" style="border-left: 3px solid #f44336;">
                        <span class="comp-title">Salmonella</span>
                        <p>Watery/bloody diarrhoea, fever, cramps.</p>
                        <span class="comp-source">Source: Eggs, poultry, dairy.</span>
                    </div>
                    <div class="comp-card" style="border-left: 3px solid #f44336;">
                        <span class="comp-title">Shigella</span>
                        <p>Dysentery (blood/mucus). MSM transmission risk.</p>
                        <span class="comp-source">Faecal-oral, sexually transmitted.</span>
                    </div>
                </div>
            </div>

            <!-- Parasitic Content -->
            <div id="parasitic" class="tab-content">
                <div class="grid" style="grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 15px;">
                    <div class="comp-card" style="border-left: 3px solid #ff9800;">
                        <span class="comp-title">Cryptosporidium</span>
                        <p>Profuse watery diarrhoea. 20% linked to travel.</p>
                        <p><strong>Action:</strong> Do not swim for 2 weeks after diarrhoea stops.</p>
                    </div>
                    <div class="comp-card" style="border-left: 3px solid #ff9800;">
                        <span class="comp-title">Giardia</span>
                        <p>Common cause of prolonged travellers' diarrhoea. Malabsorption.</p>
                        <p><strong>Action:</strong> Metronidazole treatment. Do not swim for 2 weeks.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- COMPLICATIONS (GRID) -->
        <section class="card">
            <h2>
                <svg class="icon" viewBox="0 0 24 24"><path d="M12,2L1,21H23M12,6L19.53,19H4.47M11,10V14H13V10M11,16V18H13V16" /></svg>
                Complications
            </h2>
            <div class="complication-grid">
                <div class="comp-card">
                    <span class="comp-title">Dehydration / Shock</span>
                    <span class="comp-source">Hypovolaemia, AKI.</span>
                </div>
                <div class="comp-card">
                    <span class="comp-title">HUS</span>
                    <span class="comp-source">STEC (E. Coli) infection. AKI, thrombocytopenia.</span>
                </div>
                <div class="comp-card">
                    <span class="comp-title">Reactive Arthritis</span>
                    <span class="comp-source">Campylobacter, Shigella, Yersinia.</span>
                </div>
                <div class="comp-card">
                    <span class="comp-title">Guillain-Barré</span>
                    <span class="comp-source">Campylobacter (rare).</span>
                </div>
                <div class="comp-card">
                    <span class="comp-title">IBS / IBD</span>
                    <span class="comp-source">Post-infectious risks.</span>
                </div>
            </div>
        </section>

        <!-- WHAT'S NEW (UPDATES) -->
        <details>
            <summary>Recent Updates <span class="update-tag">May 2024</span></summary>
            <div style="margin-top: 15px; font-size: 0.9rem; color: #555;">
                <ul class="check-list">
                    <li><strong>Contra-indication:</strong> Clarithromycin + Ivabradine (Do not co-prescribe).</li>
                    <li><strong>Caution:</strong> Clarithromycin + Edoxaban.</li>
                    <li><strong>March 2024:</strong> Cryptosporidium/Giardia: Do not swim for 2 weeks after last episode.</li>
                    <li><strong>June 2023:</strong> Ask about sexual history (MSM).</li>
                </ul>
            </div>
        </details>

    </main>

    <footer>
        <p>Based on NICE Clinical Knowledge Summaries (CKS) - Gastroenteritis.<br>
        Copyright Clarity Informatics Limited (trading as Agilio Software Primary Care).<br>
        <em>This tool is a local reference aid and not a substitute for full clinical judgment.</em></p>
    </footer>

    <script>
        function switchTab(evt, tabName) {
            // Hide all tab content
            var i, tabcontent, tablinks;
            tabcontent = document.getElementsByClassName("tab-content");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].classList.remove("active");
            }

            // Remove active class from buttons
            tablinks = document.getElementsByClassName("tab-btn");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].classList.remove("active");
            }

            // Show the current tab and add active class to button
            document.getElementById(tabName).classList.add("active");
            evt.currentTarget.classList.add("active");
        }
    </script>
</body>
</html>