<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Acute Prostatitis - Clinical Quick Reference</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f0f4f8 0%, #e6eef7 100%);
            color: #2d3748;
            line-height: 1.4;
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: linear-gradient(90deg, #1e3a8a 0%, #2c5282 100%);
            color: white;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }

        h1 {
            font-size: 2.2rem;
            font-weight: 700;
            letter-spacing: -0.5px;
        }

        .meta-info {
            display: flex;
            gap: 20px;
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .urgent-banner {
            background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
            color: white;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 25px;
            box-shadow: 0 4px 15px rgba(220, 38, 38, 0.3);
            animation: pulse 2s infinite;
            border-left: 8px solid #fca5a5;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.01); }
        }

        .urgent-banner h2 {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.5rem;
            margin-bottom: 10px;
        }

        .urgent-icon {
            font-size: 2rem;
            filter: drop-shadow(0 0 8px rgba(255,255,255,0.5));
        }

        .urgent-list {
            list-style: none;
            padding-left: 0;
        }

        .urgent-list li {
            padding: 8px 0;
            padding-left: 30px;
            position: relative;
            font-weight: 500;
            font-size: 1.1rem;
        }

        .urgent-list li:before {
            content: "‚ö†Ô∏è";
            position: absolute;
            left: 0;
            font-size: 1.2rem;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(600px, 1fr));
            gap: 25px;
            margin-bottom: 25px;
        }

        .card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border-left: 6px solid #3b82f6;
            position: relative;
            overflow: hidden;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #3b82f6, #60a5fa);
            opacity: 0.3;
        }

        .card.red {
            border-left-color: #dc2626;
            background: linear-gradient(135deg, #fef2f2 0%, #ffffff 100%);
        }

        .card.red::before {
            background: linear-gradient(90deg, #dc2626, #f87171);
        }

        .card.green {
            border-left-color: #16a34a;
            background: linear-gradient(135deg, #f0fdf4 0%, #ffffff 100%);
        }

        .card.green::before {
            background: linear-gradient(90deg, #16a34a, #4ade80);
        }

        .card.blue {
            border-left-color: #3b82f6;
            background: linear-gradient(135deg, #eff6ff 0%, #ffffff 100%);
        }

        .card.blue::before {
            background: linear-gradient(90deg, #3b82f6, #93c5fd);
        }

        .card h2 {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.4rem;
            margin-bottom: 18px;
            color: #1e293b;
            font-weight: 600;
        }

        .card h3 {
            font-size: 1.1rem;
            margin: 15px 0 10px 0;
            color: #334155;
            font-weight: 600;
        }

        .icon {
            font-size: 1.6rem;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));
        }

        .two-col {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        ul {
            list-style: none;
            padding-left: 0;
        }

        ul li {
            padding: 6px 0;
            padding-left: 25px;
            position: relative;
        }

        ul li:before {
            content: "‚Ä¢";
            position: absolute;
            left: 10px;
            color: #3b82f6;
            font-weight: bold;
            font-size: 1.2rem;
        }

        .red ul li:before {
            color: #dc2626;
        }

        .green ul li:before {
            color: #16a34a;
        }

        .action-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .action-item {
            background: rgba(255,255,255,0.7);
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #16a34a;
            transition: all 0.2s;
            backdrop-filter: blur(4px);
        }

        .action-item:hover {
            background: rgba(255,255,255,0.9);
            transform: translateX(5px);
        }

        .action-item.red {
            border-left-color: #dc2626;
            background: rgba(254, 226, 226, 0.6);
        }

        .action-item.red:hover {
            background: rgba(254, 226, 226, 0.8);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #e2e8f0;
        }

        th {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            color: white;
            font-weight: 600;
            position: sticky;
            top: 0;
        }

        tr {
            transition: background 0.2s;
        }

        tr:hover {
            background: #f8fafc;
        }

        .red-flag {
            background: linear-gradient(135deg, #fee2e2 0%, #ffffff 100%);
            border: 2px solid #fecaca;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .red-flag-icon {
            font-size: 1.8rem;
            flex-shrink: 0;
        }

        .pill {
            display: inline-block;
            background: linear-gradient(135deg, #3b82f6 0%, #60a5fa 100%);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            margin: 2px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .pill.green {
            background: linear-gradient(135deg, #16a34a 0%, #4ade80 100%);
        }

        .pill.red {
            background: linear-gradient(135deg, #dc2626 0%, #f87171 100%);
        }

        .pill.amber {
            background: linear-gradient(135deg, #d97706 0%, #fbbf24 100%);
        }

        .differential-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 12px;
        }

        .differential-item {
            background: rgba(255,255,255,0.7);
            padding: 12px;
            border-radius: 8px;
            border-left: 4px solid #3b82f6;
            font-size: 0.95rem;
            transition: all 0.2s;
            backdrop-filter: blur(4px);
        }

        .differential-item:hover {
            background: rgba(255,255,255,0.9);
            transform: translateY(-3px);
        }

        .key-points {
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            border: 2px solid #0ea5e9;
            border-radius: 12px;
            padding: 20px;
            margin-top: 25px;
        }

        .key-points h2 {
            color: #0369a1;
            margin-bottom: 15px;
        }

        .key-points-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
        }

        .key-point-item {
            background: rgba(255,255,255,0.8);
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #0ea5e9;
            transition: all 0.2s;
            backdrop-filter: blur(4px);
        }

        .key-point-item:hover {
            background: rgba(255,255,255,1);
            transform: translateY(-3px);
        }

        .print-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.4);
            transition: all 0.3s;
            z-index: 99;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .print-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(59, 130, 246, 0.6);
        }

        .section-toggle {
            cursor: pointer;
            user-select: none;
            display: flex;
            align-items: center;
            justify-content: space-between;
            transition: color 0.2s;
        }

        .section-toggle:hover {
            color: #1d4ed8;
        }

        .toggle-icon {
            transition: transform 0.3s;
            font-size: 1.2rem;
        }

        .section-toggle.collapsed .toggle-icon {
            transform: rotate(-90deg);
        }

        .collapsible-content {
            max-height: 1000px;
            overflow: hidden;
            transition: max-height 0.4s ease-out, opacity 0.3s;
            opacity: 1;
        }

        .collapsible-content.collapsed {
            max-height: 0;
            opacity: 0;
        }

        @media print {
            body { background: white; }
            .print-btn, .urgent-banner { display: none; }
            .card { box-shadow: none; border: 1px solid #ddd; }
            .card:hover { transform: none; }
        }

        @media (max-width: 768px) {
            .grid { grid-template-columns: 1fr; }
            .two-col { grid-template-columns: 1fr; }
            h1 { font-size: 1.8rem; }
            .meta-info { flex-direction: column; gap: 5px; }
        }

        .fade-in {
            animation: fadeIn 0.6s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .highlight-on-hover {
            transition: all 0.3s;
        }

        .highlight-on-hover:hover {
            background: rgba(59, 130, 246, 0.1);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.3);
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <h1>üî¥ Acute Prostatitis</h1>
                <div class="meta-info">
                    <span class="meta-item">üìÖ Last revised: June 2024</span>
                    <span class="meta-item">üë®‚Äç‚öïÔ∏è Men ‚â•18 years</span>
                    <span class="meta-item">üè• Primary Care</span>
                </div>
            </div>
        </header>

        <div class="urgent-banner fade-in">
            <h2><span class="urgent-icon">üö®</span> EMERGENCY ADMISSION CRITERIA</h2>
            <ul class="urgent-list">
                <li>Unable to take oral antibiotics</li>
                <li>Severe systemic symptoms or signs of sepsis</li>
                <li>Acute urinary retention</li>
                <li>Suspected prostatic abscess</li>
                <li>Immunocompromised or diabetes mellitus (consider urgent referral)</li>
                <li>Pre-existing urological condition (consider urgent referral)</li>
            </ul>
        </div>

        <div class="grid">
            <div class="card blue fade-in">
                <h2 class="section-toggle" onclick="toggleSection(this)">
                    <span class="icon">üîç</span> Diagnosis
                    <span class="toggle-icon">‚ñº</span>
                </h2>
                <div class="collapsible-content">
                    <div class="two-col">
                        <div>
                            <h3>Suspect when:</h3>
                            <ul>
                                <li>Dysuria, frequency, urgency</li>
                                <li>Perineal, penile, or rectal pain</li>
                                <li>Acute urinary retention</li>
                                <li>Low back pain</li>
                                <li>Pain on ejaculation</li>
                                <li>Fever, rigors, tachycardia</li>
                                <li>Arthralgia, myalgia</li>
                            </ul>
                        </div>
                        <div>
                            <h3>Examination & Tests</h3>
                            <ul>
                                <li><strong>DRE:</strong> Tender, enlarged, boggy prostate</li>
                                <li><strong>MSU:</strong> Dipstick, culture & sensitivity</li>
                                <li><strong>Blood:</strong> Cultures, FBC</li>
                                <li><strong>‚ö†Ô∏è CRITICAL:</strong> NO prostatic massage</li>
                                <li>Consider STI screening if at risk</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card blue fade-in">
                <h2 class="section-toggle" onclick="toggleSection(this)">
                    <span class="icon">üéØ</span> Differential Diagnosis
                    <span class="toggle-icon">‚ñº</span>
                </h2>
                <div class="collapsible-content">
                    <div class="differential-grid">
                        <div class="differential-item highlight-on-hover">Benign Prostatic Hyperplasia (BPH)</div>
                        <div class="differential-item highlight-on-hover">Chronic Prostatitis</div>
                        <div class="differential-item highlight-on-hover">UTI / Pyelonephritis</div>
                        <div class="differential-item highlight-on-hover">Epididymo-orchitis</div>
                        <div class="differential-item highlight-on-hover">Prostate Cancer</div>
                        <div class="differential-item highlight-on-hover">Bladder Cancer</div>
                        <div class="differential-item highlight-on-hover">Colorectal Cancer</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="grid">
            <div class="card green fade-in">
                <h2><span class="icon">üíä</span> Management</h2>
                
                <div class="action-grid">
                    <div class="action-item">
                        <h3>Antibiotics (14 days)</h3>
                        <strong>1st Line:</strong><br>
                        <span class="pill">Ciprofloxacin 500mg BD</span><br>
                        <span class="pill">Ofloxacin 200mg BD</span>
                    </div>
                    <div class="action-item">
                        <h3>Alternative</h3>
                        <strong>If fluoroquinolone unsuitable:</strong><br>
                        <span class="pill green">Trimethoprim 200mg BD</span>
                    </div>
                    <div class="action-item">
                        <h3>2nd Line</h3>
                        <strong>After specialist advice:</strong><br>
                        <span class="pill amber">Levofloxacin 500mg OD</span><br>
                        <span class="pill amber">Co-trimoxazole 960mg BD</span>
                    </div>
                    <div class="action-item">
                        <h3>Supportive</h3>
                        <span class="pill green">Paracetamol ¬± Codeine</span><br>
                        <span class="pill green">Ibuprofen (if suitable)</span><br>
                        <span class="pill green">Adequate hydration</span>
                    </div>
                </div>

                <div class="red-flag" style="margin-top: 20px;">
                    <span class="red-flag-icon">‚ö†Ô∏è</span>
                    <div>
                        <strong>Fluoroquinolone Warning:</strong> Risk of disabling, potentially irreversible side effects (1-10/10,000). Stop immediately if tendonitis, neuropathy, or CNS effects occur.
                    </div>
                </div>
            </div>

            <div class="card red fade-in">
                <h2><span class="icon">‚ö†Ô∏è</span> Red Flags & Complications</h2>
                <ul>
                    <li><strong>Acute urinary retention</strong> (common)</li>
                    <li><strong>Bacteraemia / Sepsis</strong></li>
                    <li><strong>Prostatic abscess</strong> (rare, may need surgery)</li>
                    <li>Chronic prostatitis (10% develop)</li>
                    <li>Epididymitis</li>
                    <li>Pyelonephritis</li>
                </ul>
                
                <h3>Risk Factors for Abscess</h3>
                <ul>
                    <li>Long-term catheterization</li>
                    <li>Recent urethral manipulation</li>
                    <li>Immunocompromised state</li>
                </ul>
            </div>
        </div>

        <div class="grid">
            <div class="card blue fade-in">
                <h2 class="section-toggle" onclick="toggleSection(this)">
                    <span class="icon">üìã</span> Follow-up & Monitoring
                    <span class="toggle-icon">‚ñº</span>
                </h2>
                <div class="collapsible-content">
                    <div class="two-col">
                        <div>
                            <h3>48-Hour Review</h3>
                            <ul>
                                <li>Check response to treatment</li>
                                <li>Review urine culture</li>
                                <li>Change antibiotic if resistant</li>
                                <li>Admit if no improvement</li>
                            </ul>
                        </div>
                        <div>
                            <h3>Patient Advice</h3>
                            <ul>
                                <li>Course may last several weeks</li>
                                <li>Seek help if worsening</li>
                                <li>No improvement in 48hrs ‚Üí review</li>
                                <li>Stop fluoroquinolone if adverse effects</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div style="margin-top: 20px;">
                        <h3>Total Treatment Duration</h3>
                        <ul>
                            <li>Review at 14 days</li>
                            <li>May need additional 14 days (total up to 6 weeks)</li>
                            <li>Post-recovery: Refer to exclude structural abnormality</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="card blue fade-in">
                <h2 class="section-toggle" onclick="toggleSection(this)">
                    <span class="icon">ü¶†</span> Microbiology
                    <span class="toggle-icon">‚ñº</span>
                </h2>
                <div class="collapsible-content">
                    <h3>Common Pathogens</h3>
                    <div class="action-grid">
                        <div class="action-item">
                            <strong>Gram-negative rods:</strong><br>
                            <span class="pill">E. coli (50%)</span><br>
                            <span class="pill">Pseudomonas</span><br>
                            <span class="pill">Klebsiella</span>
                        </div>
                        <div class="action-item">
                            <strong>Other:</strong><br>
                            <span class="pill">Enterococcus</span><br>
                            <span class="pill">Enterobacter</span><br>
                            <span class="pill">Proteus</span>
                        </div>
                        <div class="action-item">
                            <strong>Rare:</strong><br>
                            <span class="pill amber">Chlamydia</span><br>
                            <span class="pill amber">Neisseria gonorrhoea</span>
                        </div>
                        <div class="action-item">
                            <strong>Post-instrumentation:</strong><br>
                            <span class="pill red">Multiple pathogens</span><br>
                            <span class="pill red">Higher abscess risk</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="key-points fade-in">
            <h2><span class="icon">üí°</span> Key Clinical Points</h2>
            <div class="key-points-grid">
                <div class="key-point-item">
                    <strong>Diagnosis:</strong> Clinical + MSU. NO prostatic massage.
                </div>
                <div class="key-point-item">
                    <strong>Antibiotics:</strong> 14 days minimum, may need 6 weeks.
                </div>
                <div class="key-point-item">
                    <strong>Fluoroquinolones:</strong> MHRA restrictions ‚Äì use only when appropriate.
                </div>
                <div class="key-point-item">
                    <strong>Admission:</strong> Sepsis, retention, unable to take oral medication.
                </div>
                <div class="key-point-item">
                    <strong>Follow-up:</strong> 48 hours, then review at 14 days.
                </div>
                <div class="key-point-item">
                    <strong>Complications:</strong> Retention most common; abscess rare but serious.
                </div>
            </div>
        </div>

        <div style="text-align: center; margin-top: 30px; color: #64748b; font-size: 0.9rem;">
            <p>Based on NICE CKS (June 2024) | Target: Primary Care | Men ‚â•18 years</p>
            <p style="margin-top: 5px;">Always check latest guidance and local antimicrobial policy</p>
        </div>
    </div>

    <button class="print-btn" onclick="window.print()">
        <span>üñ®Ô∏è</span> Print
    </button>

    <script>
        // Add fade-in animation on scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        // Observe all cards
        document.querySelectorAll('.card, .urgent-banner, .key-points').forEach(el => {
            el.style.opacity = '0';
            el.style.transform = 'translateY(20px)';
            el.style.transition = 'opacity 0.6s ease-out, transform 0.6s ease-out';
            observer.observe(el);
        });

        // Toggle collapsible sections
        function toggleSection(header) {
            const content = header.nextElementSibling;
            const icon = header.querySelector('.toggle-icon');
            
            content.classList.toggle('collapsed');
            header.classList.toggle('collapsed');
            
            // Add a subtle animation to the icon
            icon.style.transform = content.classList.contains('collapsed') ? 'rotate(-90deg)' : 'rotate(0deg)';
        }

        // Add hover effect to table rows for better interactivity
        document.querySelectorAll('tr').forEach(row => {
            row.addEventListener('mouseenter', function() {
                this.style.backgroundColor = '#f1f5f9';
            });
            row.addEventListener('mouseleave', function() {
                this.style.backgroundColor = '';
            });
        });

        // Add tooltip functionality for abbreviations
        const abbreviations = {
            'MSU': 'Mid-stream Urine',
            'FBC': 'Full Blood Count',
            'DRE': 'Digital Rectal Examination',
            'STI': 'Sexually Transmitted Infection',
            'BPH': 'Benign Prostatic Hyperplasia',
            'UTI': 'Urinary Tract Infection',
            'MHRA': 'Medicines & Healthcare products Regulatory Agency',
            'BD': 'Twice Daily',
            'OD': 'Once Daily'
        };

        // Create tooltip element
        const tooltip = document.createElement('div');
        tooltip.style.cssText = `
            position: absolute;
            background: rgba(30, 41, 59, 0.95);
            color: white;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 0.85rem;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 1000;
            backdrop-filter: blur(4px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        `;
        document.body.appendChild(tooltip);

        // Add tooltip event listeners
        document.querySelectorAll('p, li, td, th, .pill').forEach(element => {
            element.addEventListener('mouseover', function(e) {
                const text = this.textContent;
                for (const [abbr, meaning] of Object.entries(abbreviations)) {
                    if (text.includes(abbr)) {
                        tooltip.textContent = meaning;
                        tooltip.style.opacity = '1';
                        tooltip.style.left = e.pageX + 10 + 'px';
                        tooltip.style.top = e.pageY - 30 + 'px';
                        break;
                    }
                }
            });

            element.addEventListener('mouseout', function() {
                tooltip.style.opacity = '0';
            });
        });

        // Add keyboard navigation
        document.addEventListener('keydown', function(e) {
            if (e.key === 'p' && e.ctrlKey) {
                e.preventDefault();
                window.print();
            }
        });

        console.log('Acute Prostatitis Quick Reference loaded successfully');
    </script>
</body>
</html>