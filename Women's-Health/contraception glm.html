<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contraception Quick-Scan Clinical Reference</title>
    <style>
        /* --- CSS VARIABLES & RESET --- */
        :root {
            --color-bg: #f4f7fa;
            --color-text: #2c3e50;
            --color-text-light: #607d8b;
            --color-card-bg: #ffffff;
            
            /* Status Colors */
            --color-danger-bg: #ffebee;
            --color-danger-text: #c62828;
            --color-danger-border: #ef9a9a;
            
            --color-success-bg: #e8f5e9;
            --color-success-text: #2e7d32;
            --color-success-border: #a5d6a7;
            
            --color-info-bg: #e3f2fd;
            --color-info-text: #1565c0;
            --color-info-border: #90caf9;
            
            --shadow-sm: 0 2px 4px rgba(0,0,0,0.05);
            --shadow-md: 0 4px 12px rgba(0,0,0,0.08);
            --shadow-lg: 0 8px 24px rgba(0,0,0,0.12);
            
            --radius: 8px;
            --transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        
        body {
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            background-color: var(--color-bg);
            color: var(--color-text);
            line-height: 1.5;
            padding-bottom: 40px;
        }

        /* --- TYPOGRAPHY --- */
        h1, h2, h3 { font-weight: 600; letter-spacing: -0.02em; }
        h1 { font-size: 1.75rem; color: var(--color-text); }
        h2 { font-size: 1.25rem; margin-bottom: 0.5rem; }
        h3 { font-size: 1rem; margin-bottom: 0.25rem; }
        p { margin-bottom: 0.75rem; font-size: 0.95rem; }
        small { font-size: 0.85rem; color: var(--color-text-light); }

        /* --- LAYOUT UTILITIES --- */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 16px;
        }

        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        @media (max-width: 768px) {
            .grid-2 { grid-template-columns: 1fr; }
        }

        .flex-center { display: flex; align-items: center; justify-content: center; }
        .flex-between { display: flex; align-items: center; justify-content: space-between; }
        .flex-col { display: flex; flex-direction: column; gap: 8px; }

        /* --- HEADER & SEARCH --- */
        header {
            background: #fff;
            padding: 1rem 0;
            box-shadow: var(--shadow-sm);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .search-bar {
            width: 100%;
            max-width: 400px;
            padding: 10px 16px;
            border: 1px solid #ddd;
            border-radius: 50px;
            font-size: 1rem;
            background: var(--color-bg);
            transition: var(--transition);
        }
        
        .search-bar:focus {
            outline: none;
            border-color: var(--color-info-border);
            background: #fff;
            box-shadow: 0 0 0 3px rgba(21, 101, 192, 0.1);
        }

        /* --- VISUAL CUES --- */
        .badge {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
        }
        .badge-red { background: var(--color-danger-bg); color: var(--color-danger-text); }
        .badge-green { background: var(--color-success-bg); color: var(--color-success-text); }
        .badge-blue { background: var(--color-info-bg); color: var(--color-info-text); }

        .alert-banner {
            background: var(--color-danger-bg);
            border-left: 4px solid var(--color-danger-text);
            padding: 1rem;
            border-radius: var(--radius);
            margin-bottom: 1.5rem;
            display: flex;
            gap: 12px;
            align-items: start;
        }

        /* --- CARD COMPONENTS --- */
        .card {
            background: var(--color-card-bg);
            border-radius: var(--radius);
            padding: 1.5rem;
            box-shadow: var(--shadow-sm);
            transition: var(--transition);
            border: 1px solid transparent;
            position: relative;
            overflow: hidden;
        }

        .card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
            border-color: var(--color-info-border);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid #eee;
        }

        /* --- Efficacy Bars --- */
        .efficacy-bar {
            height: 6px;
            background: #eee;
            border-radius: 3px;
            margin: 8px 0 16px 0;
            overflow: hidden;
        }
        .efficacy-fill {
            height: 100%;
            border-radius: 3px;
        }
        .eff-high { width: 99%; background: var(--color-success-text); }
        .eff-med { width: 93%; background: #ffa726; }

        /* --- DATA TABLES --- */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
            margin-top: 10px;
        }
        .data-table th, .data-table td {
            text-align: left;
            padding: 8px;
            border-bottom: 1px solid #eee;
        }
        .data-table th { color: var(--color-text-light); font-weight: 600; }
        .data-table tr:last-child td { border-bottom: none; }
        
        .table-red-row { background: #fff5f5; }
        .table-green-row { background: #f1f8f1; }

        /* --- INTERACTIVE TOOL: QUICK START --- */
        .checker-tool {
            background: #fff;
            padding: 1.5rem;
            border-radius: var(--radius);
            box-shadow: var(--shadow-sm);
            border-top: 4px solid var(--color-info-text);
        }
        
        .checkbox-group label {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px;
            cursor: pointer;
            border-radius: 4px;
            transition: background 0.2s;
        }
        .checkbox-group label:hover { background: #f5f5f5; }
        
        #quickStartResult {
            margin-top: 1rem;
            padding: 1rem;
            border-radius: var(--radius);
            font-weight: bold;
            text-align: center;
            display: none;
        }

        /* --- MODAL --- */
        dialog {
            margin: auto;
            border: none;
            border-radius: var(--radius);
            box-shadow: var(--shadow-lg);
            max-width: 600px;
            width: 90%;
            padding: 0;
            animation: fadeIn 0.3s ease-out;
        }
        
        dialog::backdrop {
            background: rgba(0,0,0,0.4);
            backdrop-filter: blur(2px);
        }

        .modal-content {
            padding: 2rem;
        }
        
        .close-btn {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
        }

        /* --- ANIMATIONS --- */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* --- ICONS (SVG Classes) --- */
        .icon { width: 20px; height: 20px; fill: currentColor; }
        .icon-lg { width: 24px; height: 24px; }
        
    </style>
</head>
<body>

<header>
    <div class="container flex-between">
        <div class="flex-center" style="gap: 10px;">
            <!-- Simple Medical Cross Icon -->
            <svg class="icon icon-lg" style="color: var(--color-info-text);" viewBox="0 0 24 24">
                <path d="M19 3H5c-1.1 0-1.99.9-1.99 2L3 19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-1 11h-4v4h-4v-4H6v-4h4V6h4v4h4v4z"/>
            </svg>
            <h1>Contraception <small>Quick-Scan</small></h1>
        </div>
        <input type="text" id="searchInput" class="search-bar" placeholder="Search methods, risks, or actions...">
    </div>
</header>

<main class="container" style="margin-top: 2rem;">

    <!-- SECTION: CRITICAL ALERTS (RED) -->
    <section class="alert-banner">
        <svg class="icon icon-lg" style="color: var(--color-danger-text); flex-shrink: 0;" viewBox="0 0 24 24">
            <path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/>
        </svg>
        <div>
            <h3 style="color: var(--color-danger-text); margin-bottom: 5px;">CRITICAL CONTRAINDICATIONS (Oestrogen-Containing)</h3>
            <p style="margin-bottom: 0;"><strong>DO NOT PRESCRIBE</strong> Combined Hormonal Contraceptives (Pill, Patch, Ring) if patient has:</p>
            <ul style="list-style: none; padding-left: 0; display: flex; flex-wrap: wrap; gap: 10px; margin-top: 5px;">
                <li class="badge badge-red">Migraine with Aura</li>
                <li class="badge badge-red">Smoker ≥35 yrs (≥15 cigs)</li>
                <li class="badge badge-red">History of DVT/PE</li>
                <li class="badge badge-red">Ischaemic Heart Disease</li>
                <li class="badge badge-red">Stroke</li>
                <li class="badge badge-red">Severe Cirrhosis/Liver Tumor</li>
                <li class="badge badge-red">Major Surgery w/ Immobility</li>
                <li class="badge badge-red">Breast Cancer (<5 yrs)</li>
                <li class="badge badge-red">Uncontrolled HTN (>160/100)</li>
            </ul>
        </div>
    </section>

    <div class="grid-2">
        
        <!-- LEFT COLUMN: TOOLS & SUMMARY -->
        
        <!-- Tool: Quick Start Checker -->
        <div class="checker-tool">
            <div class="flex-between" style="margin-bottom: 1rem;">
                <h2>Quick Start Checker</h2>
                <svg class="icon" style="color: var(--color-info-text);" viewBox="0 0 24 24">
                    <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
                </svg>
            </div>
            <p>Can you be reasonably certain she is <strong>not</strong> pregnant?</p>
            <div class="checkbox-group" id="quickStartChecks">
                <label><input type="checkbox" data-val="true"> ≤7 days after start of normal menses</label>
                <label><input type="checkbox" data-val="true"> No intercourse since last normal menses</label>
                <label><input type="checkbox" data-val="true"> Correct & consistent use of reliable method</label>
                <label><input type="checkbox" data-val="true"> ≤7 days post-abortion</label>
                <label><input type="checkbox" data-val="true"> Within 4 weeks postnatal</label>
                <label><input type="checkbox" data-val="true"> Fully breastfeeding, amenorrhoeic, <6 months postnatal</label>
            </div>
            <div id="quickStartResult"></div>
        </div>

        <!-- Card: Emergency Contraception -->
        <div class="card" style="border-top: 4px solid var(--color-danger-text);">
            <div class="card-header">
                <h3>Emergency Contraception</h3>
                <span class="badge badge-red">Urgent</span>
            </div>
            <table class="data-table">
                <tr>
                    <th>Method</th>
                    <th>Time Frame</th>
                    <th>Note</th>
                </tr>
                <tr class="table-red-row">
                    <td><strong>Copper IUD</strong></td>
                    <td>Up to 5 days</td>
                    <td>Most effective (>99%)</td>
                </tr>
                <tr>
                    <td><strong>Ulipristal Acetate</strong></td>
                    <td>Up to 5 days (120h)</td>
                    <td>Prescription only</td>
                </tr>
                <tr>
                    <td><strong>LNG Pill</strong></td>
                    <td>Up to 3 days (72h)</td>
                    <td>OTC (in US)</td>
                </tr>
            </table>
            <p style="margin-top: 10px; font-size: 0.85rem;">*Pregnancy test if >3 weeks since unprotected intercourse.</p>
        </div>

    </div>

    <!-- RIGHT COLUMN: METHOD GRID (Scrollable Area) -->
    <h2 style="margin: 2rem 0 1rem 0;">Method Comparison</h2>
    <div class="grid-2" id="methodsGrid">
        
        <!-- Pill Combined -->
        <article class="card searchable" data-keywords="pill combined oral estrogen">
            <div class="card-header">
                <h3>Combined Pill</h3>
                <div class="flex-center" style="gap: 5px;">
                    <span class="badge badge-blue">Daily</span>
                    <span class="badge badge-red">Check VTE</span>
                </div>
            </div>
            <div class="efficacy-bar"><div class="efficacy-fill eff-med"></div></div>
            <small>93-99% effective</small>
            <table class="data-table">
                <tr class="table-green-row"><td><strong>Pros:</strong></td><td>Regulates cycle, reduces acne, improves dysmenorrhoea.</td></tr>
                <tr class="table-red-row"><td><strong>Risks:</strong></td><td>VTE, MI, Stroke (esp. smokers >35). Interaction with enzyme-inducers.</td></tr>
            </table>
            <button class="details-btn" style="margin-top: 10px; background: none; border: 1px solid #ccc; padding: 5px 10px; border-radius: 4px; cursor: pointer; width: 100%;">View Details</button>
            <div class="detail-content hidden" style="display: none; margin-top: 10px; border-top: 1px dashed #ccc; padding-top: 10px; font-size: 0.85rem;">
                <p><strong>Quick Start:</strong> Start anytime if reasonably certain not pregnant. Use backup for 7 days if starting >5 days of cycle.</p>
                <p><strong>Missed Pill:</strong> If <24h late: take immediately. If >24h late: take immediately, use backup for 7 days. Consider EC if unprotected sex in missed pill window.</p>
            </div>
        </article>

        <!-- Patch -->
        <article class="card searchable" data-keywords="patch estrogen transdermal">
            <div class="card-header">
                <h3>Combined Patch</h3>
                <span class="badge badge-blue">Weekly</span>
            </div>
            <div class="efficacy-bar"><div class="efficacy-fill eff-med"></div></div>
            <small>93-99% effective</small>
            <table class="data-table">
                <tr class="table-green-row"><td><strong>Pros:</strong></td><td>Applied weekly, discreet, non-oral.</td></tr>
                <tr class="table-red-row"><td><strong>Risks:</strong></td><td>VTE risk potentially higher than pill. Reduced efficacy >90kg.</td></tr>
            </table>
             <button class="details-btn" style="margin-top: 10px; background: none; border: 1px solid #ccc; padding: 5px 10px; border-radius: 4px; cursor: pointer; width: 100%;">View Details</button>
             <div class="detail-content hidden" style="display: none; margin-top: 10px; border-top: 1px dashed #ccc; padding-top: 10px; font-size: 0.85rem;">
                <p>Apply clean, dry skin (buttock, abdomen, upper outer arm, upper torso). Change weekly x3 weeks, then week off.</p>
                <p>Contraindications same as Combined Pill.</p>
            </div>
        </article>

        <!-- Ring -->
        <article class="card searchable" data-keywords="ring vaginal estrogen">
            <div class="card-header">
                <h3>Vaginal Ring</h3>
                <span class="badge badge-blue">Monthly</span>
            </div>
            <div class="efficacy-bar"><div class="efficacy-fill eff-med"></div></div>
            <small>93-99% effective</small>
            <table class="data-table">
                <tr class="table-green-row"><td><strong>Pros:</strong></td><td>Low systemic estrogen vs pill? (controversial). Extended cycling possible.</td></tr>
                <tr class="table-red-row"><td><strong>Risks:</strong></td><td>Vaginal discharge/irritation. Expulsion risk (4%).</td></tr>
            </table>
            <button class="details-btn" style="margin-top: 10px; background: none; border: 1px solid #ccc; padding: 5px 10px; border-radius: 4px; cursor: pointer; width: 100%;">View Details</button>
            <div class="detail-content hidden" style="display: none; margin-top: 10px; border-top: 1px dashed #ccc; padding-top: 10px; font-size: 0.85rem;">
                <p>Self-insertion. Can be removed for up to 3 hours during sex. 3 weeks in, 1 week out.</p>
            </div>
        </article>

        <!-- POP -->
        <article class="card searchable" data-keywords="pop mini pill progestin only">
            <div class="card-header">
                <h3>Progestogen-Only Pill</h3>
                <span class="badge badge-green">Safe for Smokers >35</span>
            </div>
            <div class="efficacy-bar"><div class="efficacy-fill eff-med"></div></div>
            <small>93-99% effective</small>
            <table class="data-table">
                <tr class="table-green-row"><td><strong>Pros:</strong></td><td>Safe for breastfeeding, smokers, migraine. No estrogen risks.</td></tr>
                <tr class="table-red-row"><td><strong>Risks:</strong></td><td>Must take same time daily (±3h for norethisterone, ±24h for drospirenone). Irregular bleeding.</td></tr>
            </table>
            <button class="details-btn" style="margin-top: 10px; background: none; border: 1px solid #ccc; padding: 5px 10px; border-radius: 4px; cursor: pointer; width: 100%;">View Details</button>
            <div class="detail-content hidden" style="display: none; margin-top: 10px; border-top: 1px dashed #ccc; padding-top: 10px; font-size: 0.85rem;">
                <p><strong>Cerazette (Desogestrel):</strong> 12h window.</p>
                <p><strong>Norethisterone:</strong> 3h window.</p>
                <p><strong>Drospirenone:</strong> 24h window.</p>
            </div>
        </article>

        <!-- Implant -->
        <article class="card searchable" data-keywords="implant larc rod subdermal">
            <div class="card-header">
                <h3>Implant</h3>
                <span class="badge badge-green">LARC (3 yrs)</span>
            </div>
            <div class="efficacy-bar"><div class="efficacy-fill eff-high"></div></div>
            <small>99% effective</small>
            <table class="data-table">
                <tr class="table-green-row"><td><strong>Pros:</strong></td><td>Set and forget. Highest efficacy. Reversible.</td></tr>
                <tr class="table-red-row"><td><strong>Risks:</strong></td><td>Irregular bleeding (common reason for discontinuation). Insertion pain/rare nerve injury.</td></tr>
            </table>
        </article>

        <!-- Injection -->
        <article class="card searchable" data-keywords="injection depo dmpa progestin">
            <div class="card-header">
                <h3>Injection (DMPA)</h3>
                <span class="badge badge-green">LARC (3 mo)</span>
            </div>
            <div class="efficacy-bar"><div class="efficacy-fill eff-high"></div></div>
            <small>96-99% effective</small>
            <table class="data-table">
                <tr class="table-green-row"><td><strong>Pros:</strong></td><td>Private, decreases dysmenorrhoea, lower endometrial/ovarian cancer risk.</td></tr>
                <tr class="table-red-row"><td><strong>Risks:</strong></td><td>Bone mineral density loss (reversible). Delayed return of fertility (up to 1 yr). Weight gain.</td></tr>
            </table>
        </article>

        <!-- Copper IUD -->
        <article class="card searchable" data-keywords="iud copper coil non-hormonal">
            <div class="card-header">
                <h3>Copper IUD</h3>
                <span class="badge badge-green">LARC (5-10 yrs)</span>
            </div>
            <div class="efficacy-bar"><div class="efficacy-fill eff-high"></div></div>
            <small>99% effective</small>
            <table class="data-table">
                <tr class="table-green-row"><td><strong>Pros:</strong></td><td>Hormone free. Emergency contraception (5 days). Longest duration.</td></tr>
                <tr class="table-red-row"><td><strong>Risks:</strong></td><td>Heavier, painful periods. Perforation risk (rare). Expulsion risk (5%).</td></tr>
            </table>
        </article>

        <!-- LNG IUD -->
        <article class="card searchable" data-keywords="ius hormonal mirena levonorgestrel">
            <div class="card-header">
                <h3>Hormonal IUD (LNG-IUS)</h3>
                <span class="badge badge-green">LARC (3-6 yrs)</span>
            </div>
            <div class="efficacy-bar"><div class="efficacy-fill eff-high"></div></div>
            <small>99% effective</small>
            <table class="data-table">
                <tr class="table-green-row"><td><strong>Pros:</strong></td><td>Reduces bleeding (often amenorrhoea). Treats heavy menstrual bleeding/fibroids.</td></tr>
                <tr class="table-red-row"><td><strong>Risks:</strong></td><td>Irregular bleeding initially. Hormonal side effects (acne, breast tenderness).</td></tr>
            </table>
        </article>
        
    </div>

</main>

<footer>
    <div class="container" style="text-align: center; color: var(--color-text-light); margin-top: 2rem;">
        <p>Based on BMJ Best Practice & CDC Guidelines. Updated Oct 2025.</p>
        <p><small>For educational/reference purposes only. Always consult local protocols.</small></p>
    </div>
</footer>

<!-- JAVASCRIPT LOGIC -->
<script>
    document.addEventListener('DOMContentLoaded', () => {
        
        /* --- 1. SEARCH FUNCTIONALITY --- */
        const searchInput = document.getElementById('searchInput');
        const cards = document.querySelectorAll('.searchable');

        searchInput.addEventListener('input', (e) => {
            const term = e.target.value.toLowerCase();
            
            cards.forEach(card => {
                const text = card.innerText.toLowerCase();
                const keywords = card.getAttribute('data-keywords').toLowerCase();
                
                if (text.includes(term) || keywords.includes(term)) {
                    card.style.display = 'block';
                    // Add highlight animation
                    card.style.animation = 'fadeIn 0.3s ease-out';
                } else {
                    card.style.display = 'none';
                }
            });
        });

        /* --- 2. QUICK START CHECKER TOOL --- */
        const checkboxes = document.querySelectorAll('#quickStartChecks input[type="checkbox"]');
        const resultBox = document.getElementById('quickStartResult');

        checkboxes.forEach(box => {
            box.addEventListener('change', () => {
                const isChecked = Array.from(checkboxes).some(cb => cb.checked);
                
                resultBox.style.display = 'block';
                
                if (isChecked) {
                    resultBox.style.backgroundColor = 'var(--color-success-bg)';
                    resultBox.style.color = 'var(--color-success-text)';
                    resultBox.innerHTML = `
                        <div class="flex-center" style="gap:8px; flex-direction:column;">
                            <svg class="icon icon-lg" viewBox="0 0 24 24"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/></svg>
                            <span>Reasonably certain NOT pregnant.</span>
                            <span style="font-weight:400; font-size:0.9rem;">You can Quick Start most methods today.</span>
                        </div>
                    `;
                } else {
                    resultBox.style.backgroundColor = 'var(--color-danger-bg)';
                    resultBox.style.color = 'var(--color-danger-text)';
                    resultBox.innerHTML = `
                        <div class="flex-center" style="gap:8px; flex-direction:column;">
                            <svg class="icon icon-lg" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/></svg>
                            <span>Pregnancy cannot be excluded.</span>
                            <span style="font-weight:400; font-size:0.9rem;">Pregnancy test required before starting.</span>
                        </div>
                    `;
                }
            });
        });

        /* --- 3. CARD DETAILS TOGGLE --- */
        const detailBtns = document.querySelectorAll('.details-btn');
        
        detailBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                const content = btn.nextElementSibling;
                
                if (content.style.display === 'none') {
                    content.style.display = 'block';
                    btn.innerText = 'Hide Details';
                } else {
                    content.style.display = 'none';
                    btn.innerText = 'View Details';
                }
            });
        });
        
        /* --- 4. SIMPLE INTERACTIVITY: SCROLL REVEAL --- */
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = 1;
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, { threshold: 0.1 });

        document.querySelectorAll('.card, .checker-tool').forEach(el => {
            el.style.opacity = 0;
            el.style.transform = 'translateY(20px)';
            el.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
            observer.observe(el);
        });
    });
</script>

</body>
</html>