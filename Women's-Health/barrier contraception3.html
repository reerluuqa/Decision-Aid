<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Barrier Contraception ‚Äî One‚ÄëPage Quick Algorithm (NICE CKS)</title>
  <style>
    :root {
      --bg: #0b1020;
      --panel: #11162a;
      --panel-2: #0e1326;
      --text: #e7ecff;
      --muted: #a7b0d6;
      --primary: #7c9aff;
      --accent: #6ee7ff;
      --success: #9affb0;
      --danger: #ff9aa9;
      --warning: #ffd27c;
      --ring: rgba(124,154,255,.45);
      --shadow: 0 10px 30px rgba(0,0,0,.35);
    }

    @media (prefers-color-scheme: light) {
      :root {
        --bg: #f7f8fc;
        --panel: #ffffff;
        --panel-2: #f3f5fb;
        --text: #0e1222;
        --muted: #5c627a;
        --primary: #3b62ff;
        --accent: #00bcd4;
        --success: #0b9f5a;
        --danger: #d72638;
        --warning: #b66a00;
        --ring: rgba(59,98,255,.22);
        --shadow: 0 10px 30px rgba(16, 24, 40, .12);
      }
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0; background: radial-gradient(1200px 600px at 10% -10%, rgba(108,122,255,.22), transparent 60%),
                                radial-gradient(800px 400px at 90% 10%, rgba(0,188,212,.2), transparent 60%),
                                var(--bg);
      color: var(--text);
      font: 500 16px/1.5 ui-sans-serif, -apple-system, system-ui, Segoe UI, Roboto, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
      -webkit-font-smoothing: antialiased; text-rendering: optimizeLegibility;
    }

    .wrap { max-width: 1100px; margin: 0 auto; padding: 28px 20px 72px; }

    .hero {
      position: relative; overflow: hidden; border-radius: 24px; background: linear-gradient(135deg, rgba(59,98,255,.18), rgba(0,188,212,.18));
      box-shadow: var(--shadow); border: 1px solid rgba(255,255,255,.07);
      padding: 28px; margin-bottom: 28px;
    }
    .hero h1 { margin: 0 0 10px; font-size: clamp(22px, 4vw, 34px); letter-spacing: .2px; }
    .hero p { margin: 2px 0 16px; color: var(--muted); }
    .badges { display:flex; gap:8px; flex-wrap: wrap; }
    .badge { background: rgba(255,255,255,.06); border: 1px solid rgba(255,255,255,.1); color: var(--text); padding: 6px 10px; border-radius: 999px; font-size: 12px; }

    .toolbar { display:flex; gap:10px; flex-wrap: wrap; margin-top: 14px; }
    .btn {
      appearance: none; border: 1px solid rgba(255,255,255,.12); background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.02));
      color: var(--text); padding: 10px 14px; border-radius: 12px; cursor: pointer; font-weight: 600; letter-spacing: .2px;
      backdrop-filter: blur(6px); transition: transform .06s ease, box-shadow .2s ease, background .2s ease;
      box-shadow: var(--shadow);
    }
    .btn:hover { transform: translateY(-1px); box-shadow: 0 10px 28px rgba(0,0,0,.25); }
    .btn:active { transform: translateY(0); }

    .grid { display: grid; gap: 18px; }
    .cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
    .cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
    @media (max-width: 980px) { .cols-3 { grid-template-columns: 1fr 1fr; } }
    @media (max-width: 680px) { .cols-3, .cols-2 { grid-template-columns: 1fr; } }

    .card {
      background: linear-gradient(180deg, var(--panel), var(--panel-2)); border: 1px solid rgba(255,255,255,.06);
      border-radius: 18px; padding: 18px 18px 16px; box-shadow: var(--shadow);
    }
    .card h3 { margin: 0 0 8px; font-size: 18px; }
    .eyebrow { color: var(--muted); text-transform: uppercase; letter-spacing: .14em; font-size: 12px; display:block; margin-bottom: 4px; }

    .kpi { display:flex; gap:10px; align-items:center; margin: 6px 0 10px; color: var(--muted); }
    .kpi svg { width: 18px; height: 18px; opacity:.9; }

    ul.clean, ol.clean { margin: 8px 0 0; padding-left: 18px; }
    ul.clean li { margin: 8px 0; }

    .method {
      display:flex; gap: 14px; align-items:flex-start;
    }
    .icon {
      flex: 0 0 44px; width: 44px; height: 44px; display:grid; place-items:center; border-radius: 12px; background: rgba(124,154,255,.14); border: 1px solid rgba(124,154,255,.26);
    }
    .icon svg { width: 24px; height: 24px; }

    .pro { color: var(--success); }
    .con { color: var(--danger); }
    .warn { color: var(--warning); }

    .table {
      width: 100%; border-collapse: collapse; overflow: hidden; border-radius: 14px; box-shadow: var(--shadow);
    }
    .table th, .table td { padding: 12px 14px; text-align: left; vertical-align: top; }
    .table thead th {
      backdrop-filter: blur(8px); background: linear-gradient(180deg, rgba(124,154,255,.14), rgba(124,154,255,.06)); border-bottom: 1px solid rgba(255,255,255,.1);
    }
    .table tbody td { border-bottom: 1px dashed rgba(255,255,255,.08); color: var(--muted); }

    .callout { border-left: 3px solid var(--warning); padding: 10px 14px; border-radius: 10px; background: linear-gradient(90deg, rgba(255,210,124,.12), transparent); }

    .footer { margin-top: 26px; color: var(--muted); font-size: 13px; display:flex; justify-content: space-between; align-items:center; gap: 10px; flex-wrap: wrap; }

    /* Print styles: keep it one page where possible */
    @media print {
      body { background: #fff; color: #111; }
      .hero { background: #fff; border: none; box-shadow: none; }
      .btn, .toolbar { display: none !important; }
      .card, .table { box-shadow: none; }
      a { color: #111 !important; text-decoration: none; }
      .wrap { padding: 0; }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header class="hero" role="banner" aria-label="Page header">
      <h1>Barrier Contraception ‚Äî One‚ÄëPage Quick Algorithm</h1>
      <p>Designed for rapid reference in consultation. Content reflects NICE CKS (May¬†2021) barrier methods guidance.</p>
      <div class="badges">
        <span class="badge">Non‚Äëhormonal options</span>
        <span class="badge">STI risk reduction</span>
        <span class="badge">EC triggers included</span>
      </div>
      <div class="toolbar" role="group" aria-label="Tools">
        <button class="btn" onclick="window.print()" title="Print or save as PDF">üñ®Ô∏è¬†Print / Save PDF</button>
        <button class="btn" id="themeBtn" title="Toggle light/dark">üåì¬†Theme</button>
      </div>
    </header>

    <!-- Initial Assessment -->
    <section class="card" aria-labelledby="assess-h">
      <span class="eyebrow">Step¬†1</span>
      <h2 id="assess-h">Initial Assessment</h2>
      <ul class="clean">
        <li>Apply <strong>WHO MEC</strong> for safety/eligibility; check comorbidities and medications.</li>
        <li>Discuss all methods (incl. <strong>LARC</strong>), then narrow to barrier options per patient preference.</li>
        <li>Clarify priorities: <em>STI prevention</em>, <em>hormone‚Äëfree</em>, <em>partner control</em>, <em>ease of use</em>.</li>
      </ul>
    </section>

    <!-- Method selection cards -->
    <section class="grid cols-3" aria-label="Method selection">

      <!-- Male Condoms -->
      <article class="card" aria-labelledby="male-h">
        <div class="method">
          <div class="icon" aria-hidden="true">
            <!-- condom icon -->
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M8 9a4 4 0 1 1 8 0v7a3 3 0 0 1 2 2.8V20a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2v-1.2A3 3 0 0 1 8 16V9z"/><path d="M6 20h12"/></svg>
          </div>
          <div>
            <span class="eyebrow">A</span>
            <h3 id="male-h">Male Condoms</h3>
            <div class="kpi"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.7"><path d="M20 6L9 17l-5-5"/></svg><span>Best for: <strong>STI protection</strong>, ubiquitous, hormone‚Äëfree.</span></div>
          </div>
        </div>
        <ul class="clean">
          <li><strong>How:</strong> Use a new condom for each act. Apply to erect penis <em>before</em> any genital contact; withdraw before loss of erection.</li>
          <li><strong>Key points:</strong> Don‚Äôt use oil‚Äëbased lubes with <em>latex/polyisoprene</em>; polyurethane is unaffected. Don‚Äôt double up or combine with female condom. <em>Spermicidal‚Äëlubricated condoms not recommended.</em></li>
          <li><span class="warn">If break/slip/split ‚Üí consider EC and STI testing.</span></li>
        </ul>
      </article>

      <!-- Female Condoms -->
      <article class="card" aria-labelledby="female-h">
        <div class="method">
          <div class="icon" aria-hidden="true">
            <!-- female condom icon -->
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round"><ellipse cx="12" cy="7" rx="5.5" ry="3.5"/><path d="M6.5 7v6a5.5 5.5 0 0 0 11 0V7"/><path d="M9 20h6"/></svg>
          </div>
          <div>
            <span class="eyebrow">B</span>
            <h3 id="female-h">Female Condoms</h3>
            <div class="kpi"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.7"><path d="M20 6L9 17l-5-5"/></svg><span>Best for: user‚Äëcontrolled, <strong>latex allergy</strong>, oil‚Äëlube compatible.</span></div>
          </div>
        </div>
        <ul class="clean">
          <li><strong>How:</strong> Insert before genital contact; guide penis into sheath; twist outer ring to remove and contain semen.</li>
          <li><strong>Key points:</strong> One per act; don‚Äôt combine with male condom. May slip or cause ring discomfort.</li>
          <li><span class="warn">If break/slip/leak ‚Üí EC and consider STI testing.</span></li>
        </ul>
      </article>

      <!-- Diaphragm / Cap -->
      <article class="card" aria-labelledby="cap-h">
        <div class="method">
          <div class="icon" aria-hidden="true">
            <!-- diaphragm/cap icon -->
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round"><path d="M3 15a9 6 0 0 1 18 0"/><path d="M3 15h18"/><path d="M5 19h14"/></svg>
          </div>
          <div>
            <span class="eyebrow">C</span>
            <h3 id="cap-h">Diaphragm / Cervical Cap</h3>
            <div class="kpi"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.7"><path d="M20 6L9 17l-5-5"/></svg><span>Best for: motivated, <strong>non‚Äëhormonal</strong>, woman‚Äëcontrolled.</span></div>
          </div>
        </div>
        <ul class="clean">
          <li><strong>Fit & use:</strong> Initial fitting by trained HCP. <strong>Always with spermicide.</strong> Insert ‚â§3h pre‚Äësex; leave ‚â•6h post‚Äësex. Remove: diaphragm ‚â§30h, cap ‚â§48h. Add spermicide if >3h pre‚Äësex or repeated intercourse.</li>
          <li><strong>Key points:</strong> Avoid oil‚Äëbased products with latex devices. Re‚Äëcheck fit after childbirth/miscarriage/termination or ‚â•3¬†kg weight change. <em>Not before 6¬†weeks postpartum</em> or 6¬†weeks after 2nd‚Äëtrimester termination. Possible ‚ÜëUTI risk/irritation.</li>
          <li><span class="warn">If damaged/dislodged/removed early ‚Üí EC may be indicated.</span></li>
        </ul>
      </article>
    </section>

    <!-- Pros & Cons table -->
    <section class="card" aria-labelledby="proscons-h">
      <span class="eyebrow">Step¬†3</span>
      <h2 id="proscons-h">Advantages & Disadvantages ‚Äî Quick Scan</h2>
      <div class="tablewrap" style="overflow:auto">
        <table class="table" role="table" aria-label="Advantages and disadvantages">
          <thead>
            <tr><th>Method</th><th>Advantages</th><th>Disadvantages</th></tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>Male condom</strong></td>
              <td>
                <div class="pro">‚Ä¢ STI protection, widely available</div>
                <div>‚Ä¢ Non‚Äëhormonal, drug‚Äëinteraction‚Äëfree</div>
              </td>
              <td>
                <div class="con">‚Ä¢ Breakage/slippage; may affect sensitivity</div>
                <div>‚Ä¢ Less effective than LARC</div>
              </td>
            </tr>
            <tr>
              <td><strong>Female condom</strong></td>
              <td>
                <div class="pro">‚Ä¢ STI protection, latex‚Äëfree; oil‚Äëlubricant safe</div>
                <div>‚Ä¢ Insert up to 8¬†h before sex</div>
              </td>
              <td>
                <div class="con">‚Ä¢ Possible slippage/noise/ring discomfort</div>
                <div>‚Ä¢ Less effective than LARC</div>
              </td>
            </tr>
            <tr>
              <td><strong>Diaphragm / Cap</strong></td>
              <td>
                <div class="pro">‚Ä¢ Woman‚Äëcontrolled, non‚Äëhormonal, reusable</div>
              </td>
              <td>
                <div class="con">‚Ä¢ Must use spermicide; planning required</div>
                <div>‚Ä¢ Lower efficacy (esp. caps in parous women); possible ‚ÜëUTIs; <em>limited STI protection</em></div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <p class="callout" role="note"><strong>STI note:</strong> Consistent, correct use of male and female condoms reduces transmission of common STIs; there is little evidence diaphragms/caps reduce STI/HIV transmission.</p>
    </section>

    <!-- Emergency contraception triggers -->
    <section class="grid cols-2" aria-label="Emergency contraception triggers">
      <div class="card">
        <span class="eyebrow">Step¬†4</span>
        <h2>Emergency Contraception ‚Äî When to Offer</h2>
        <ul class="clean">
          <li>Condom <strong>breaks/slips/splits</strong> or leaks.</li>
          <li>Diaphragm/cap <strong>damaged, dislodged, removed &lt;6¬†h post‚Äësex</strong>, or inserted &gt;3¬†h pre‚Äësex without extra spermicide.</li>
          <li>Any <strong>incorrect/incomplete use</strong> (starting/switching methods without advised condom use, enzyme‚Äëinducing drug interactions with hormones when condoms not used).</li>
        </ul>
        <p class="callout"><strong>Plus:</strong> consider STI testing as indicated.</p>
      </div>

      <div class="card">
        <span class="eyebrow">Step¬†5</span>
        <h2>Bottom Line for Fast Decisions</h2>
        <ul class="clean">
          <li><strong>STI risk present?</strong> ‚Üí Recommend <strong>male condom</strong> first‚Äëline; female condom if latex allergy/oil‚Äëlube needed.</li>
          <li><strong>Wants non‚Äëhormonal & user control, low STI risk?</strong> ‚Üí Consider <strong>diaphragm/cap</strong> with training and follow‚Äëup.</li>
          <li>Always teach <strong>correct use</strong> and EC back‚Äëup; arrange <strong>re‚Äëfit</strong> when clinical status changes.</li>
        </ul>
      </div>
    </section>

    <footer class="footer">
      <div>¬© This quick reference condenses barrier contraception guidance (NICE CKS, May¬†2021). For full context, consult local policies and the complete guideline.</div>
      <div>
        <a href="#assess-h" style="color:var(--primary); font-weight:600">Back to top ‚Üë</a>
      </div>
    </footer>
  </div>

  <script>
    // Simple light/dark toggle by swapping a data attribute
    const btn = document.getElementById('themeBtn');
    let dark = true;
    btn?.addEventListener('click', () => {
      dark = !dark;
      if (dark) document.documentElement.removeAttribute('data-theme');
      else document.documentElement.setAttribute('data-theme', 'light');
    });

    // Respect system preference at load
    if (window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches) {
      document.documentElement.setAttribute('data-theme', 'light');
    }

    // Map data-theme to CSS variables
    const observer = new MutationObserver(() => {
      if (document.documentElement.getAttribute('data-theme') === 'light') {
        document.documentElement.style.setProperty('--bg', '#f7f8fc');
        document.documentElement.style.setProperty('--panel', '#ffffff');
        document.documentElement.style.setProperty('--panel-2', '#f3f5fb');
        document.documentElement.style.setProperty('--text', '#0e1222');
        document.documentElement.style.setProperty('--muted', '#5c627a');
        document.documentElement.style.setProperty('--primary', '#3b62ff');
        document.documentElement.style.setProperty('--accent', '#00bcd4');
        document.documentElement.style.setProperty('--success', '#0b9f5a');
        document.documentElement.style.setProperty('--danger', '#d72638');
        document.documentElement.style.setProperty('--warning', '#b66a00');
        document.documentElement.style.setProperty('--ring', 'rgba(59,98,255,.22)');
        document.documentElement.style.setProperty('--shadow', '0 10px 30px rgba(16, 24, 40, .12)');
      } else {
        document.documentElement.style.setProperty('--bg', '#0b1020');
        document.documentElement.style.setProperty('--panel', '#11162a');
        document.documentElement.style.setProperty('--panel-2', '#0e1326');
        document.documentElement.style.setProperty('--text', '#e7ecff');
        document.documentElement.style.setProperty('--muted', '#a7b0d6');
        document.documentElement.style.setProperty('--primary', '#7c9aff');
        document.documentElement.style.setProperty('--accent', '#6ee7ff');
        document.documentElement.style.setProperty('--success', '#9affb0');
        document.documentElement.style.setProperty('--danger', '#ff9aa9');
        document.documentElement.style.setProperty('--warning', '#ffd27c');
        document.documentElement.style.setProperty('--ring', 'rgba(124,154,255,.45)');
        document.documentElement.style.setProperty('--shadow', '0 10px 30px rgba(0,0,0,.35)');
      }
    });
    observer.observe(document.documentElement, { attributes: true, attributeFilter: ['data-theme'] });
  </script>
</body>
</html>
