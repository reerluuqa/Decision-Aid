<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HRT Initial Consultation | Clinical Quick-Scan</title>
    <style>
        :root {
            /* Clinical Color Palette */
            --color-danger-bg: #ffebee;
            --color-danger-border: #ef5350;
            --color-danger-text: #c62828;
            
            --color-warning-bg: #fff3e0;
            --color-warning-border: #ffa726;
            --color-warning-text: #ef6c00;
            
            --color-success-bg: #e8f5e9;
            --color-success-border: #66bb6a;
            --color-success-text: #2e7d32;
            
            --color-info-bg: #e3f2fd;
            --color-info-border: #42a5f5;
            --color-info-text: #1565c0;

            --color-neutral-bg: #f5f5f5;
            --color-neutral-text: #424242;
            --color-text-main: #212121;

            --shadow-sm: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);
            --shadow-md: 0 4px 6px rgba(0,0,0,0.1);
            --shadow-hover: 0 10px 20px rgba(0,0,0,0.15);
            
            --radius: 8px;
            --font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: var(--font-family);
            background-color: #f8f9fa;
            color: var(--color-text-main);
            line-height: 1.5;
            -webkit-font-smoothing: antialiased;
        }

        /* --- Header & Search --- */
        header {
            background: white;
            padding: 1rem 2rem;
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid #e0e0e0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: var(--shadow-sm);
            flex-wrap: wrap;
            gap: 1rem;
        }

        .brand h1 {
            font-size: 1.25rem;
            font-weight: 700;
            color: #2c3e50;
        }
        
        .brand span {
            color: var(--color-info-border);
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            display: block;
        }

        .search-container {
            position: relative;
            flex-grow: 1;
            max-width: 400px;
        }

        .search-input {
            width: 100%;
            padding: 0.75rem 1rem 0.75rem 2.5rem;
            border: 1px solid #ccc;
            border-radius: 20px;
            font-size: 0.95rem;
            transition: all 0.3s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--color-info-border);
            box-shadow: 0 0 0 3px rgba(66, 165, 245, 0.2);
        }

        .search-icon {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: #999;
        }

        /* --- Urgent Alert Banner --- */
        .alert-banner {
            background-color: var(--color-danger-bg);
            border-bottom: 1px solid var(--color-danger-border);
            padding: 0.75rem 2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--color-danger-text);
            font-weight: 600;
            font-size: 0.9rem;
            gap: 10px;
        }

        /* --- Main Layout --- */
        main {
            padding: 2rem;
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 1.5rem;
            align-items: start;
        }

        /* --- Card Styles --- */
        .card {
            background: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow-sm);
            padding: 1.5rem;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            border-left: 5px solid transparent;
            display: flex;
            flex-direction: column;
        }

        .card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-hover);
        }

        .card-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid #eee;
        }

        .card-title {
            font-size: 1.1rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .card-content {
            font-size: 0.95rem;
        }

        .card-content ul {
            list-style: none;
        }

        .card-content li {
            margin-bottom: 0.6rem;
            padding-left: 1.2rem;
            position: relative;
        }

        .card-content li::before {
            content: "‚Ä¢";
            position: absolute;
            left: 0;
            color: #888;
            font-weight: bold;
        }

        /* --- Color Coding --- */
        .card.danger {
            border-left-color: var(--color-danger-border);
        }
        .card.danger .card-title { color: var(--color-danger-text); }
        .card.danger li::before { color: var(--color-danger-border); }

        .card.warning {
            border-left-color: var(--color-warning-border);
        }
        .card.warning .card-title { color: var(--color-warning-text); }

        .card.success {
            border-left-color: var(--color-success-border);
        }
        .card.success .card-title { color: var(--color-success-text); }

        .card.info {
            border-left-color: var(--color-info-border);
        }
        .card.info .card-title { color: var(--color-info-text); }

        /* --- Badges & Tags --- */
        .badge {
            font-size: 0.75rem;
            padding: 0.25rem 0.6rem;
            border-radius: 12px;
            font-weight: 600;
            text-transform: uppercase;
        }
        .badge.danger { background: var(--color-danger-bg); color: var(--color-danger-text); }
        .badge.warning { background: var(--color-warning-bg); color: var(--color-warning-text); }
        .badge.info { background: var(--color-info-bg); color: var(--color-info-text); }

        /* --- Specific Tables/Components --- */
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
        }
        .comparison-table th, .comparison-table td {
            padding: 0.5rem;
            text-align: left;
            border-bottom: 1px solid #eee;
        }
        .comparison-table th {
            color: #666;
            font-weight: 600;
        }
        .status-check {
            font-weight: bold;
        }
        .status-yes { color: var(--color-success-text); }
        .status-no { color: var(--color-danger-text); }

        .flow-step {
            background: #f1f3f4;
            padding: 0.8rem;
            border-radius: 6px;
            margin-bottom: 0.5rem;
            border-left: 3px solid #ccc;
        }
        .flow-step.active {
            background: #e3f2fd;
            border-left-color: var(--color-info-border);
        }

        /* --- Icons (SVG) --- */
        .icon {
            width: 20px;
            height: 20px;
            fill: currentColor;
        }

        /* --- Footer --- */
        footer {
            text-align: center;
            padding: 2rem;
            color: #888;
            font-size: 0.8rem;
            border-top: 1px solid #eee;
            margin-top: 2rem;
        }

        /* Responsive */
        @media (max-width: 768px) {
            header { flex-direction: column; align-items: stretch; }
            .search-container { max-width: 100%; }
            main { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

    <!-- Urgent Alert Banner -->
    <div class="alert-banner">
        <svg class="icon" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/></svg>
        <span>POSTMENOPAUSAL BLEEDING? URGENT REFERRAL REQUIRED (2-week wait)</span>
    </div>

    <header>
        <div class="brand">
            <span>Quick Reference</span>
            <h1>HRT Initial Consultation</h1>
        </div>
        <div class="search-container">
            <span class="search-icon">üîç</span>
            <input type="text" id="searchInput" class="search-input" placeholder="Filter (e.g., VTE, bleeding, diabetes...)">
        </div>
    </header>

    <main id="cardGrid">

        <!-- RED: CONTRAINDICATIONS -->
        <article class="card danger" data-keywords="stop contra-indication cancer bleeding liver pregnancy vte">
            <div class="card-header">
                <div class="card-title">
                    <svg class="icon" viewBox="0 0 24 24"><path d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"/></svg>
                    DO NOT PRESCRIBE
                </div>
                <span class="badge danger">Absolute</span>
            </div>
            <div class="card-content">
                <p style="margin-bottom:0.5rem; font-weight:600;">Check these before initiating:</p>
                <ul>
                    <li><strong>Pregnancy</strong></li>
                    <li><strong>Undiagnosed vaginal bleeding</strong></li>
                    <li><strong>Untreated endometrial hyperplasia</strong></li>
                    <li><strong>Current/past/suspected breast cancer</strong></li>
                    <li><strong>Oestrogen-dependent cancer</strong></li>
                    <li><strong>Active/Recent Arterial Thromboembolic Disease</strong> (e.g., MI, Angina)</li>
                    <li><strong>Active Liver Disease</strong> (abnormal LFTs)</li>
                    <li><strong>Previous Idiopathic/Current VTE</strong> (unless anticoagulated)</li>
                    <li><strong>Porphyria cutanea tarda</strong></li>
                </ul>
            </div>
        </article>

        <!-- RED: URGENT REFERRAL -->
        <article class="card danger" data-keywords="urgent referral cancer bleeding pattern">
            <div class="card-header">
                <div class="card-title">
                    <svg class="icon" viewBox="0 0 24 24"><path d="M14.4 6L14 4H5v17h2v-7h5.6l.4 2h7V6z"/></svg>
                    URGENT ACTION
                </div>
                <span class="badge danger">2-Week Wait</span>
            </div>
            <div class="card-content">
                <p style="margin-bottom:0.5rem">Refer immediately if gynecological cancer suspected:</p>
                <ul>
                    <li><strong>Postmenopausal bleeding</strong> (after 12 months amenorrhoea)</li>
                    <li><strong>Postcoital bleeding</strong></li>
                    <li>Sudden change in menstrual pattern</li>
                    <li>Intermenstrual bleeding</li>
                </ul>
            </div>
        </article>

        <!-- INFO: ASSESSMENT & HISTORY -->
        <article class="card info" data-keywords="assessment history exam bp bmi smear lifestyle">
            <div class="card-header">
                <div class="card-title">
                    <svg class="icon" viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 3c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm7 13H5v-.23c0-.62.28-1.2.76-1.58C7.47 15.82 9.64 15 12 15s4.53.82 6.24 2.19c.48.38.76.97.76 1.58V19z"/></svg>
                    Assessment Basics
                </div>
                <span class="badge info">Routine</span>
            </div>
            <div class="card-content">
                <ul>
                    <li><strong>Confirm Menopause:</strong> Clinical diagnosis usually sufficient if >45.</li>
                    <li><strong>Symptoms:</strong> Impact on life? Vasomotor, urogenital?</li>
                    <li><strong>Examination:</strong> BP, Height/Weight (BMI). Routine vaginal exam not required.</li>
                    <li><strong>Smear Status:</strong> Ensure up to date.</li>
                    <li><strong>Risk Factors:</strong> Discuss smoking, alcohol, CV risk, osteoporosis.</li>
                </ul>
            </div>
        </article>

        <!-- INFO: INVESTIGATIONS (FSH) -->
        <article class="card info" data-keywords="blood test fsh lab investigation diagnosis">
            <div class="card-header">
                <div class="card-title">
                    <svg class="icon" viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 3c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm7 13H5v-.23c0-.62.28-1.2.76-1.58C7.47 15.82 9.64 15 12 15s4.53.82 6.24 2.19c.48.38.76.97.76 1.58V19z"/></svg>
                    Blood Tests (FSH)
                </div>
                <span class="badge info">Logic</span>
            </div>
            <div class="card-content">
                <div class="flow-step active">
                    <strong>Aged > 45:</strong> Not routinely needed (clinical diagnosis).
                </div>
                <div class="flow-step">
                    <strong>Aged 40-45:</strong> Consider FSH if symptoms + cycle change.
                </div>
                <div class="flow-step">
                    <strong>Aged < 40 (POI):</strong> Check FSH on 2 samples, 4-6 weeks apart.
                </div>
                <p style="margin-top:0.5rem; font-size:0.85rem; color:#666;">*FSH suppressed if on combined hormonal contraception.</p>
            </div>
        </article>

        <!-- GREEN: ROUTE DECISION -->
        <article class="card success" data-keywords="prescribing route transdermal oral">
            <div class="card-header">
                <div class="card-title">
                    <svg class="icon" viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>
                    Which Route?
                </div>
                <span class="badge success">Preferred</span>
            </div>
            <div class="card-content">
                <p style="margin-bottom:0.5rem;"><strong>Prefer Transdermal (Patch/Gel) if:</strong></p>
                <table class="comparison-table">
                    <tr>
                        <td>Increased VTE Risk</td>
                        <td class="status-check status-yes">‚úî Use Transdermal</td>
                    </tr>
                    <tr>
                        <td>BMI > 30</td>
                        <td class="status-check status-yes">‚úî Use Transdermal</td>
                    </tr>
                    <tr>
                        <td>Migraine (with or w/o aura)</td>
                        <td class="status-check status-yes">‚úî Use Transdermal</td>
                    </tr>
                    <tr>
                        <td>Diabetes</td>
                        <td class="status-check status-yes">‚úî Use Transdermal</td>
                    </tr>
                    <tr>
                        <td>Gallbladder disease</td>
                        <td class="status-check status-yes">‚úî Use Transdermal</td>
                    </tr>
                </table>
            </div>
        </article>

        <!-- BLUE: PRESCRIBING REGIMENS -->
        <article class="card info" data-keywords="regimen cyclical continuous period bleed uterus">
            <div class="card-header">
                <div class="card-title">
                    <svg class="icon" viewBox="0 0 24 24"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11z"/></svg>
                    Regimen Choice
                </div>
            </div>
            <div class="card-content">
                <div class="flow-step active">
                    <strong>Within 12 months of last period:</strong><br>
                    <span style="color:var(--color-info-text)">Cyclical HRT (Bleed expected)</span>
                </div>
                <div class="flow-step">
                    <strong>>12 months amenorrhoea:</strong><br>
                    <span style="color:var(--color-success-text)">Continuous Combined (No bleed goal)</span>
                </div>
                <div style="margin-top:0.5rem; padding-top:0.5rem; border-top:1px dashed #ccc;">
                    <strong>Intact Uterus?</strong> Must add progestogen to prevent cancer.<br>
                    <strong>No Uterus?</strong> Oestrogen-only.
                </div>
            </div>
        </article>

        <!-- ORANGE: COMORBIDITY SPECIFICS -->
        <article class="card warning" data-keywords="comorbidities specific breast cancer vte diabetes thyroid">
            <div class="card-header">
                <div class="card-title">
                    <svg class="icon" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/></svg>
                    Special Populations
                </div>
                <span class="badge warning">Caution</span>
            </div>
            <div class="card-content">
                <ul>
                    <li><strong>Breast Cancer:</strong> Usually non-hormonal options. If severe, refer specialist. Vaginal oestrogen may be possible (consult specialist/2024 NICE guidance).</li>
                    <li><strong>VTE Risk:</strong> Transdermal preferred. Refer haematologist if strong family history/thrombophilia.</li>
                    <li><strong>Hypothyroidism:</strong> Monitor TSH 6-12 weeks after starting oral HRT. Levothyroxine dose may need increase.</li>
                    <li><strong>Diabetes:</strong> HRT does not adversely affect glucose control.</li>
                </ul>
            </div>
        </article>

        <!-- ORANGE: SIDE EFFECTS -->
        <article class="card warning" data-keywords="side effects adverse reactions bloating breast headache">
            <div class="card-header">
                <div class="card-title">
                    <svg class="icon" viewBox="0 0 24 24"><path d="M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/></svg>
                    Troubleshooting
                </div>
                <span class="badge warning">Common Issues</span>
            </div>
            <div class="card-content">
                <div style="margin-bottom:0.8rem;">
                    <strong style="color:var(--color-info-text)">Oestrogen Side Effects:</strong><br>
                    Breast tenderness, fluid retention, headaches, leg cramps.
                </div>
                <div style="margin-bottom:0.8rem;">
                    <strong style="color:var(--color-warning-text)">Progestogen Side Effects:</strong><br>
                    Bloating, mood swings, PMS-like, acne, depression (cyclical pattern).
                </div>
                <div style="margin-bottom:0.8rem;">
                    <strong>Bleeding:</strong><br>
                    Unscheduled bleeding common in first 3 months. See follow-up guidelines.
                </div>
            </div>
        </article>

        <!-- GREEN: PROGESTOGEN CHOICE -->
        <article class="card success" data-keywords="progestogen micronised dydrogesterone mirena iud">
            <div class="card-header">
                <div class="card-title">
                    <svg class="icon" viewBox="0 0 24 24"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm-2 16l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"/></svg>
                    Best Progestogen?
                </div>
                <span class="badge success">Lower Risk</span>
            </div>
            <div class="card-content">
                <p><strong>Micronised Progesterone</strong> or <strong>Dydrogesterone</strong> may be preferred (observational studies suggest lower risk of VTE/Stroke/Breast Cancer compared to synthetic versions).</p>
                <hr style="margin: 0.5rem 0; border: 0; border-top: 1px solid #eee;">
                <p><strong>LNG-IUD (Mirena/Levosert/Benilexa):</strong><br>
                Great for endometrial protection. Useful if contraception needed or if troublesome systemic progestogen side effects. Use for up to 5 years.</p>
            </div>
        </article>

    </main>

    <footer>
        <p>Based on Patient.info HRT Initial Consultation (Jan 2025) & NICE Guidelines.</p>
        <p>For educational reference only. Always use professional clinical judgement.</p>
    </footer>

    <script>
        // Simple client-side search filter
        document.addEventListener('DOMContentLoaded', () => {
            const searchInput = document.getElementById('searchInput');
            const cards = document.querySelectorAll('.card');

            searchInput.addEventListener('input', (e) => {
                const term = e.target.value.toLowerCase().trim();

                cards.forEach(card => {
                    const keywords = card.getAttribute('data-keywords').toLowerCase();
                    const textContent = card.textContent.toLowerCase();
                    
                    if (keywords.includes(term) || textContent.includes(term)) {
                        card.style.display = 'flex';
                        // Slight highlight animation
                        card.style.animation = 'none';
                        card.offsetHeight; /* trigger reflow */
                        card.style.animation = 'fadeIn 0.5s ease';
                    } else {
                        card.style.display = 'none';
                    }
                });
            });
        });

        // Add fade-in keyframes dynamically
        const styleSheet = document.createElement("style");
        styleSheet.innerText = `
            @keyframes fadeIn {
                from { opacity: 0; transform: translateY(10px); }
                to { opacity: 1; transform: translateY(0); }
            }
        `;
        document.head.appendChild(styleSheet);
    </script>
</body>
</html>