<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bartholin's Cyst & Abscess - Interactive Algorithm</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #e4edf5 100%);
            color: #2c3e50;
            line-height: 1.6;
            min-height: 100vh;
        }

        .header {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: white;
            padding: 30px 0;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            pointer-events: none;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            position: relative;
            text-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
            position: relative;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 30px 20px;
            display: grid;
            grid-template-columns: 1fr 300px;
            gap: 30px;
        }

        .main-content {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .step-card {
            background: white;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.08);
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border-left: 6px solid;
            position: relative;
            transform: translateY(0);
        }

        .step-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 30px rgba(0,0,0,0.15);
        }

        .step-card.assessment {
            border-left-color: #3498db;
        }

        .step-card.diagnosis {
            border-left-color: #9b59b6;
        }

        .step-card.treatment {
            border-left-color: #27ae60;
        }

        .step-card.followup {
            border-left-color: #f39c12;
        }

        .card-header {
            background: linear-gradient(to right, #f8f9fa, #ffffff);
            padding: 25px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
            transition: all 0.3s ease;
            position: relative;
        }

        .card-header:hover {
            background: linear-gradient(to right, #f0f7ff, #ffffff);
        }

        .card-title-section {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .card-icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: white;
            flex-shrink: 0;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .step-card:hover .card-icon {
            transform: scale(1.05);
        }

        .assessment .card-icon {
            background: linear-gradient(135deg, #3498db, #2c80c5);
        }

        .diagnosis .card-icon {
            background: linear-gradient(135deg, #9b59b6, #8e44ad);
        }

        .treatment .card-icon {
            background: linear-gradient(135deg, #27ae60, #219653);
        }

        .followup .card-icon {
            background: linear-gradient(135deg, #f39c12, #e67e22);
        }

        .card-title h2 {
            font-size: 1.8em;
            margin-bottom: 5px;
            color: #2c3e50;
            font-weight: 600;
        }

        .card-subtitle {
            color: #7f8c8d;
            font-size: 0.95em;
            font-style: italic;
        }

        .expand-icon {
            font-size: 1.5em;
            color: #95a5a6;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: rgba(0,0,0,0.05);
        }

        .step-card.expanded .expand-icon {
            transform: rotate(180deg);
            color: white;
            background: rgba(0,0,0,0.2);
        }

        .card-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out, padding 0.5s ease-in-out;
        }

        .step-card.expanded .card-content {
            max-height: 3000px;
            padding: 0 25px 25px;
        }

        .content-section {
            margin: 25px 0;
            padding: 20px;
            background: #f8fafd;
            border-radius: 10px;
            border-left: 4px solid #e3f2fd;
            transition: all 0.3s ease;
        }

        .content-section:hover {
            background: #f0f7ff;
            transform: translateX(5px);
        }

        .section-title {
            font-size: 1.3em;
            font-weight: 600;
            margin-bottom: 15px;
            color: #2c3e50;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-title i {
            color: #3498db;
            font-size: 1.1em;
        }

        .subsection {
            margin: 15px 0;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            transition: all 0.3s ease;
        }

        .subsection:hover {
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        }

        .subsection h4 {
            color: #34495e;
            margin-bottom: 10px;
            font-size: 1.1em;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .subsection h4 i {
            color: #6a11cb;
            font-size: 0.9em;
        }

        .subsection ul {
            margin-left: 20px;
            color: #555;
        }

        .subsection li {
            margin: 8px 0;
            padding-left: 10px;
            position: relative;
        }

        .subsection li::before {
            content: '•';
            color: #6a11cb;
            font-weight: bold;
            position: absolute;
            left: 0;
        }

        .severity-badge {
            display: inline-block;
            padding: 6px 15px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
            margin: 5px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            transition: all 0.2s ease;
        }

        .severity-badge:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }

        .badge-red {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: white;
        }

        .badge-amber {
            background: linear-gradient(135deg, #f59e0b, #d97706);
            color: white;
        }

        .badge-green {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
        }

        .key-points {
            background: linear-gradient(to right, #fff9db, #fff3bf);
            border: 1px solid #ffe066;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            position: relative;
            overflow: hidden;
        }

        .key-points::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 5px;
            height: 100%;
            background: #ffd43b;
        }

        .key-points h4 {
            color: #e67700;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .key-points h4 i {
            font-size: 1.2em;
        }

        .key-points ul {
            margin-left: 20px;
            color: #5c3d00;
        }

        .key-points li {
            margin: 8px 0;
            padding-left: 10px;
            position: relative;
        }

        .key-points li::before {
            content: '•';
            color: #e67700;
            font-weight: bold;
            position: absolute;
            left: 0;
        }

        .procedure-box {
            background: linear-gradient(to right, #f0f9ff, #e0f2fe);
            border: 1px solid #0ea5e9;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            position: relative;
            overflow: hidden;
        }

        .procedure-box::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 5px;
            height: 100%;
            background: #0ea5e9;
        }

        .procedure-box h4 {
            color: #0369a1;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .procedure-box h4 i {
            font-size: 1.2em;
        }

        .procedure-box ol {
            margin-left: 20px;
            color: #0c4a6e;
        }

        .procedure-box li {
            margin: 8px 0;
            padding-left: 10px;
        }

        .procedure-box li strong {
            color: #075985;
        }

        .progress-sidebar {
            position: sticky;
            top: 30px;
            height: fit-content;
            background: white;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.08);
            padding: 25px;
            border: 1px solid rgba(0,0,0,0.05);
        }

        .progress-title {
            font-size: 1.3em;
            font-weight: 600;
            margin-bottom: 25px;
            color: #2c3e50;
            display: flex;
            align-items: center;
            gap: 10px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f1f5f9;
        }

        .progress-title i {
            color: #6a11cb;
        }

        .progress-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 12px;
            margin: 10px 0;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            background: transparent;
        }

        .progress-item:hover {
            background: #f8fafd;
            transform: translateX(5px);
        }

        .progress-item.active {
            background: linear-gradient(to right, #f0f7ff, #e3f2fd);
            color: #2c80c5;
            font-weight: 600;
            box-shadow: 0 4px 10px rgba(52, 152, 219, 0.15);
        }

        .progress-item.active .progress-icon {
            background: #3498db;
            color: white;
            transform: scale(1.1);
        }

        .progress-item.active .progress-icon.diagnosis {
            background: #9b59b6;
        }

        .progress-item.active .progress-icon.treatment {
            background: #27ae60;
        }

        .progress-item.active .progress-icon.followup {
            background: #f39c12;
        }

        .progress-icon {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: #e2e8f0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            flex-shrink: 0;
            transition: all 0.3s ease;
        }

        .progress-text {
            font-size: 0.95em;
        }

        .progress-indicator {
            width: 3px;
            height: 30px;
            background: #e2e8f0;
            margin: 5px 0 5px 16px;
            transition: all 0.3s ease;
        }

        .progress-indicator.active {
            background: linear-gradient(to bottom, #3498db, #2c80c5);
            width: 4px;
        }

        .progress-indicator.diagnosis.active {
            background: linear-gradient(to bottom, #9b59b6, #8e44ad);
        }

        .progress-indicator.treatment.active {
            background: linear-gradient(to bottom, #27ae60, #219653);
        }

        .progress-indicator.followup.active {
            background: linear-gradient(to bottom, #f39c12, #e67e22);
        }

        .footer {
            background: linear-gradient(135deg, #2c3e50, #1a2530);
            color: white;
            text-align: center;
            padding: 25px;
            margin-top: 50px;
            font-size: 0.9em;
            position: relative;
            overflow: hidden;
        }

        .footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(to right, #6a11cb, #2575fc);
        }

        .footer p {
            position: relative;
            margin: 5px 0;
        }

        .footer a {
            color: #60a5fa;
            text-decoration: none;
            position: relative;
        }

        .footer a::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 1px;
            background: #60a5fa;
            transition: width 0.3s ease;
        }

        .footer a:hover::after {
            width: 100%;
        }

        @media (max-width: 1024px) {
            .container {
                grid-template-columns: 1fr;
            }
            
            .progress-sidebar {
                position: relative;
                top: 0;
                order: -1;
                margin-bottom: 30px;
            }
            
            .progress-title {
                font-size: 1.1em;
            }
            
            .progress-item {
                padding: 10px;
            }
            
            .card-title h2 {
                font-size: 1.5em;
            }
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2em;
            }
            
            .card-title-section {
                gap: 15px;
            }
            
            .card-icon {
                width: 50px;
                height: 50px;
                font-size: 20px;
            }
            
            .step-card.expanded .card-content {
                padding: 0 20px 20px;
            }
            
            .content-section {
                padding: 15px;
            }
            
            .procedure-box,
            .key-points {
                padding: 15px;
            }
        }

        .fade-in {
            animation: fadeIn 0.6s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .emphasis {
            background: linear-gradient(120deg, #fff9db 0%, #fff3bf 100%);
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: 600;
            color: #5c3d00;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1><i class="fas fa-female"></i> Bartholin's Cyst & Abscess Management</h1>
        <p>Interactive Clinical Decision Support Algorithm</p>
    </div>

    <div class="container">
        <div class="main-content">
            <!-- Assessment Section -->
            <div class="step-card assessment" id="assessment-card">
                <div class="card-header" onclick="toggleCard('assessment')">
                    <div class="card-title-section">
                        <div class="card-icon">
                            <i class="fas fa-stethoscope"></i>
                        </div>
                        <div class="card-title">
                            <h2>Assessment</h2>
                            <p class="card-subtitle">Initial presentation and clinical evaluation</p>
                        </div>
                    </div>
                    <div class="expand-icon">
                        <i class="fas fa-chevron-down"></i>
                    </div>
                </div>
                <div class="card-content">
                    <div class="content-section fade-in">
                        <h3 class="section-title"><i class="fas fa-history"></i> History</h3>
                        <div class="subsection">
                            <h4><i class="fas fa-info-circle"></i> Key Features</h4>
                            <ul>
                                <li><strong>Small cysts:</strong> Often asymptomatic, discovered incidentally (e.g., during cervical smear)</li>
                                <li><strong>Abscess onset:</strong> Rapid development over days or hours</li>
                                <li><strong>Initial symptom:</strong> Labial oedema before swelling forms</li>
                                <li><strong>Pain:</strong> Swelling may be very painful, causing discomfort with walking or sitting</li>
                                <li><strong>Dyspareunia:</strong> Superficial pain during intercourse</li>
                                <li><strong>Spontaneous rupture:</strong> Sudden relief of pain if cyst/abscess bursts</li>
                                <li><strong>Discharge:</strong> Vaginal discharge may be present, especially with STIs</li>
                            </ul>
                        </div>
                        <div class="key-points">
                            <h4><i class="fas fa-exclamation-triangle"></i> Risk Factors</h4>
                            <ul>
                                <li>Nulliparous women or those of low parity</li>
                                <li>STI risk factors (if infection caused by chlamydia/gonorrhoea)</li>
                                <li><span class="badge-red">Age >40</span> Malignancy must be considered (rare but important)</li>
                            </ul>
                        </div>
                    </div>

                    <div class="content-section fade-in">
                        <h3 class="section-title"><i class="fas fa-hand-holding-medical"></i> Examination</h3>
                        <div class="subsection">
                            <h4><i class="fas fa-search"></i> Physical Findings</h4>
                            <ul>
                                <li><strong>Gait:</strong> Wide-legged gait if cyst is large</li>
                                <li><strong>Mass:</strong> Usually unilateral labial mass at 4 or 8 o'clock position</li>
                                <li><strong>Cyst characteristics:</strong> Soft, fluctuant, and non-tender</li>
                                <li><strong>Abscess characteristics:</strong> Tense, hard with surrounding erythema</li>
                                <li><strong>Size:</strong> Varies from pea-sized to several cm</li>
                                <li><strong>Lymph nodes:</strong> Inguinal nodes may be palpable if infected</li>
                                <li><strong>Systemic signs:</strong> Fever may be present</li>
                                <li><strong>Post-rupture:</strong> May be little to find if spontaneous rupture occurred</li>
                            </ul>
                        </div>
                    </div>

                    <div class="content-section fade-in">
                        <h3 class="section-title"><i class="fas fa-vial"></i> Investigations</h3>
                        <div class="subsection">
                            <h4><i class="fas fa-flask"></i> Essential Tests</h4>
                            <ul>
                                <li><strong>Swab:</strong> Take from cyst contents for culture</li>
                                <li><strong>Culture results:</strong> Often skin commensals rather than pathogens</li>
                                <li><strong>Biopsy:</strong> <span class="badge-red">REQUIRED</span> in women over 40 to exclude carcinoma</li>
                                <li><strong>Malignancy risk:</strong> Bartholin's gland carcinoma accounts for ~5% of vulval carcinoma</li>
                            </ul>
                        </div>
                        <div class="key-points">
                            <h4><i class="fas fa-bacterium"></i> Common Infecting Organisms</h4>
                            <ul>
                                <li><strong>Aerobic organisms:</strong> Most common pathogens (E. coli most frequent)</li>
                                <li><strong>STIs:</strong> Chlamydia and gonorrhoea may be cultured</li>
                                <li><strong>Polymicrobial:</strong> Often involves more than one organism type</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Diagnosis Section -->
            <div class="step-card diagnosis" id="diagnosis-card">
                <div class="card-header" onclick="toggleCard('diagnosis')">
                    <div class="card-title-section">
                        <div class="card-icon">
                            <i class="fas fa-microscope"></i>
                        </div>
                        <div class="card-title">
                            <h2>Diagnosis</h2>
                            <p class="card-subtitle">Differential diagnosis and diagnostic considerations</p>
                        </div>
                    </div>
                    <div class="expand-icon">
                        <i class="fas fa-chevron-down"></i>
                    </div>
                </div>
                <div class="card-content">
                    <div class="content-section fade-in">
                        <h3 class="section-title"><i class="fas fa-clipboard-list"></i> Differential Diagnosis</h3>
                        <div class="subsection">
                            <h4><i class="fas fa-question-circle"></i> Conditions to Consider</h4>
                            <ul>
                                <li><strong>Sebaceous cyst:</strong> Possibly infected</li>
                                <li><strong>Lipoma:</strong> Can occur on labia majora</li>
                                <li><strong>STIs:</strong> Syphilis, gonorrhoea, genital warts (may co-exist)</li>
                                <li><strong>Folliculitis:</strong> Hair follicle inflammation</li>
                                <li><strong>Hernia:</strong> Labial hernia</li>
                                <li><strong>Haematoma:</strong> Following trauma</li>
                                <li><strong>Hidradenitis:</strong> Inflammation of sweat glands</li>
                                <li><strong><span class="badge-red">Malignancy:</span></strong> Especially in women over 40</li>
                            </ul>
                        </div>
                        <div class="key-points">
                            <h4><i class="fas fa-lightbulb"></i> Diagnostic Key Points</h4>
                            <ul>
                                <li>Typical location: 4 or 8 o'clock position of vestibule</li>
                                <li>Unilateral in most cases</li>
                                <li>Fluctuant mass suggests cystic nature</li>
                                <li>Erythema and tenderness suggest infection/abscess</li>
                                <li><span class="badge-amber">Age >40</span> requires biopsy for definitive diagnosis</li>
                            </ul>
                        </div>
                    </div>

                    <div class="content-section fade-in">
                        <h3 class="section-title"><i class="fas fa-tags"></i> Severity Classification</h3>
                        <div class="subsection">
                            <ul>
                                <li><span class="badge-green">Simple Cyst</span> Small, asymptomatic, no signs of infection</li>
                                <li><span class="badge-amber">Symptomatic Cyst</span> Causing discomfort, dyspareunia, or gait disturbance</li>
                                <li><span class="badge-red">Abscess</span> Painful, erythematous, systemic signs, requires drainage</li>
                                <li><span class="badge-red">Suspicious/Malignant</span> Age >40, atypical features, hard/fixed mass</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Treatment Section -->
            <div class="step-card treatment" id="treatment-card">
                <div class="card-header" onclick="toggleCard('treatment')">
                    <div class="card-title-section">
                        <div class="card-icon">
                            <i class="fas fa-briefcase-medical"></i>
                        </div>
                        <div class="card-title">
                            <h2>Treatment</h2>
                            <p class="card-subtitle">Management options based on presentation</p>
                        </div>
                    </div>
                    <div class="expand-icon">
                        <i class="fas fa-chevron-down"></i>
                    </div>
                </div>
                <div class="card-content">
                    <div class="content-section fade-in">
                        <h3 class="section-title"><i class="fas fa-bed"></i> Conservative Treatment</h3>
                        <div class="subsection">
                            <h4><i class="fas fa-clipboard-check"></i> When to Use</h4>
                            <ul>
                                <li><strong>Small asymptomatic cysts:</strong> <span class="badge-green">No action required</span></li>
                                <li><strong>Exception:</strong> <span class="badge-red">Age >40</span> requires biopsy/excision for histology</li>
                                <li><strong>No infection:</strong> Antibiotics not required, culture usually sterile</li>
                                <li><strong>Simple incision:</strong> Not recommended due to high recurrence risk</li>
                            </ul>
                        </div>
                        <div class="key-points">
                            <h4><i class="fas fa-thermometer-half"></i> Symptomatic Relief</h4>
                            <ul>
                                <li><strong>Warm baths:</strong> May encourage spontaneous rupture and provide symptomatic relief</li>
                                <li><span class="badge-amber">Postmenopausal women:</span> Avoid conservative approach, biopsy essential</li>
                            </ul>
                        </div>
                    </div>

                    <div class="content-section fade-in">
                        <h3 class="section-title"><i class="fas fa-pills"></i> Antibiotic Therapy</h3>
                        <div class="subsection">
                            <h4><i class="fas fa-prescription-bottle-alt"></i> Indications & Selection</h4>
                            <ul>
                                <li><strong>Indication:</strong> Smaller abscesses while awaiting definitive treatment</li>
                                <li><strong>Culture:</strong> Ideally obtain before starting antibiotics</li>
                                <li><strong>Empiric therapy:</strong> Broad-spectrum antibiotic (e.g., co-amoxiclav)</li>
                                <li><strong>Alternative:</strong> Flucloxacillin often prescribed</li>
                                <li><strong>Local guidelines:</strong> Follow when available</li>
                            </ul>
                            <p style="margin-top: 10px; color: #7f8c8d; font-size: 0.9em;">
                                <i class="fas fa-info-circle"></i> Note: Optimum initial treatment not fully established
                            </p>
                        </div>
                    </div>

                    <div class="content-section fade-in">
                        <h3 class="section-title"><i class="fas fa-cut"></i> Definitive Procedures</h3>
                        
                        <div class="procedure-box">
                            <h4><i class="fas fa-procedures"></i> Marsupialisation</h4>
                            <p><strong>Gold standard procedure:</strong> Definitive treatment for many years</p>
                            <p><strong>Anesthesia:</strong> Can be performed under local anesthesia, though general anesthetic often used</p>
                            <ol>
                                <li>Vertical elliptical incision just inside/outside hymenal ring</li>
                                <li>Remove oval wedge of skin from vulva and cyst wall</li>
                                <li>Break down loculations with gloved finger</li>
                                <li>Sew cyst wall to adjacent skin using interrupted sutures</li>
                                <li>Large cysts may be packed with ribbon gauze in flavine</li>
                            </ol>
                            <p style="margin-top: 10px;"><strong>Healing:</strong> Cyst laid open, shrinks and epithelialises over 7-14 days</p>
                        </div>

                        <div class="procedure-box">
                            <h4><i class="fas fa-catheter"></i> Balloon Catheter Insertion (Word Catheter)</h4>
                            <p><strong>Modern technique:</strong> Gaining popularity, less invasive</p>
                            <p><strong>Anesthesia:</strong> Local infiltration</p>
                            <ol>
                                <li>Make 1-1.5cm stab incision into cyst</li>
                                <li>Break up loculations with instrument</li>
                                <li>Drain cyst contents completely</li>
                                <li>Insert Word catheter (small rubber catheter with inflatable tip)</li>
                                <li>Inflate balloon with water or lubricating gel (holds pressure better than air)</li>
                                <li>Pass other end into vagina</li>
                                <li>Leave in situ for up to <span class="emphasis">4 weeks</span> for complete epithelialisation</li>
                            </ol>
                            <p style="margin-top: 10px;"><strong>Removal:</strong> Deflate balloon and remove; orifice will decrease in size over time</p>
                        </div>

                        <div class="procedure-box">
                            <h4><i class="fas fa-tools"></i> Other Techniques</h4>
                            <ul>
                                <li>Incision and curettage of cavity</li>
                                <li>Silver nitrate application to abscess cavity</li>
                                <li>Plastic (Jacobi) ring insertion</li>
                                <li>Carbon dioxide laser treatment</li>
                            </ul>
                            <p style="margin-top: 10px; color: #7f8c8d; font-size: 0.9em;">
                                <i class="fas fa-info-circle"></i> Note: These techniques are less popular than marsupialisation or catheter insertion
                            </p>
                        </div>

                        <div class="subsection" style="background: linear-gradient(to right, #fef2f2, #fee2e2); border-left: 4px solid #ef4444;">
                            <h4 style="color: #dc2626;"><i class="fas fa-exclamation-triangle"></i> Complete Gland Excision</h4>
                            <ul style="color: #7f1d1d;">
                                <li><strong>Indication:</strong> Only when malignancy is suspected</li>
                                <li><strong>Caution:</strong> Can cause considerable blood loss</li>
                                <li><strong>Setting:</strong> Must be performed in operating theatre</li>
                                <li><strong>Rarity:</strong> Bartholin's gland cancer exceedingly rare, even in postmenopausal women</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Follow-up Section -->
            <div class="step-card followup" id="followup-card">
                <div class="card-header" onclick="toggleCard('followup')">
                    <div class="card-title-section">
                        <div class="card-icon">
                            <i class="fas fa-clipboard-check"></i>
                        </div>
                        <div class="card-title">
                            <h2>Follow-up & Prognosis</h2>
                            <p class="card-subtitle">Outcome expectations and recurrence prevention</p>
                        </div>
                    </div>
                    <div class="expand-icon">
                        <i class="fas fa-chevron-down"></i>
                    </div>
                </div>
                <div class="card-content">
                    <div class="content-section fade-in">
                        <h3 class="section-title"><i class="fas fa-chart-line"></i> Prognosis</h3>
                        <div class="subsection">
                            <h4><i class="fas fa-percentage"></i> Recurrence Rates</h4>
                            <ul>
                                <li><strong>Overall recurrence:</strong> <span class="badge-amber">0-38%</span> depending on procedure type</li>
                                <li><strong>Incision & drainage:</strong> Highest recurrence rate</li>
                                <li><strong>Marsupialisation:</strong> Low recurrence rate</li>
                                <li><strong>Catheter insertion:</strong> Moderate recurrence rate, technique-dependent</li>
                            </ul>
                        </div>
                        <div class="key-points">
                            <h4><i class="fas fa-user-md"></i> Follow-up Recommendations</h4>
                            <ul>
                                <li>Review at 1-2 weeks post-procedure</li>
                                <li>Assess wound healing and symptom resolution</li>
                                <li>Check for signs of recurrence</li>
                                <li><strong>STI screening:</strong> Consider if risk factors present</li>
                                <li><strong>Biopsy review:</strong> Ensure histology reported in women >40</li>
                                <li>Patient education on warning signs of recurrence</li>
                            </ul>
                        </div>
                    </div>

                    <div class="content-section fade-in">
                        <h3 class="section-title"><i class="fas fa-exclamation-circle"></i> Red Flags for Re-referral</h3>
                        <div class="subsection">
                            <ul>
                                <li><strong><span class="badge-red">Rapid recurrence</span></strong> after treatment</li>
                                <li><strong>Atypical features:</strong> Hard, fixed, or irregular mass</li>
                                <li><strong>Persistent symptoms:</strong> Despite adequate treatment</li>
                                <li><strong>Systemic illness:</strong> Fever, malaise, spreading cellulitis</li>
                                <li><strong>Age concern:</strong> New onset in postmenopausal women</li>
                                <li><strong>Non-healing:</strong> Wound breakdown or persistent drainage</li>
                            </ul>
                        </div>
                    </div>

                    <div class="content-section fade-in">
                        <h3 class="section-title"><i class="fas fa-info-circle"></i> Patient Education Points</h3>
                        <div class="subsection">
                            <ul>
                                <li>Bartholin's glands are normal anatomical structures</li>
                                <li>Cysts are common (3% of women) and often resolve spontaneously</li>
                                <li>Recurrence is possible but not inevitable</li>
                                <li>Good hygiene reduces infection risk</li>
                                <li>Prompt medical review if symptoms recur</li>
                                <li><span class="badge-amber">STI prevention:</span> Safe sexual practices if recurrent infections</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Progress Sidebar -->
        <div class="progress-sidebar">
            <div class="progress-title">
                <i class="fas fa-compass"></i>
                Algorithm Progress
            </div>
            <div class="progress-item active" id="progress-assessment" onclick="scrollToCard('assessment')">
                <div class="progress-icon">
                    <i class="fas fa-stethoscope"></i>
                </div>
                <div class="progress-text">Assessment</div>
            </div>
            <div class="progress-indicator active" id="indicator-assessment"></div>
            <div class="progress-item" id="progress-diagnosis" onclick="scrollToCard('diagnosis')">
                <div class="progress-icon diagnosis">
                    <i class="fas fa-microscope"></i>
                </div>
                <div class="progress-text">Diagnosis</div>
            </div>
            <div class="progress-indicator" id="indicator-diagnosis"></div>
            <div class="progress-item" id="progress-treatment" onclick="scrollToCard('treatment')">
                <div class="progress-icon treatment">
                    <i class="fas fa-briefcase-medical"></i>
                </div>
                <div class="progress-text">Treatment</div>
            </div>
            <div class="progress-indicator" id="indicator-treatment"></div>
            <div class="progress-item" id="progress-followup" onclick="scrollToCard('followup')">
                <div class="progress-icon followup">
                    <i class="fas fa-clipboard-check"></i>
                </div>
                <div class="progress-text">Follow-up</div>
            </div>
            <div class="progress-indicator" id="indicator-followup"></div>
        </div>
    </div>

    <div class="footer">
        <p><i class="fas fa-info-circle"></i> Based on Patient.info guidelines (Last updated: 27 Jan 2025)</p>
        <p>Peer reviewed by Dr Toni Hazell, MRCGP | Last updated by Dr Rachel Hudson, MRCGP</p>
        <p>Next review due: 26 Jan 2028</p>
        <p><i class="fas fa-book"></i> For educational purposes only | <a href="https://patient.info/doctor/gynaecology/bartholins-cyst-and-abscess-pro" target="_blank">View Original Source</a></p>
    </div>

    <script>
        let currentExpandedCard = 'assessment';

        function toggleCard(cardId) {
            const card = document.getElementById(`${cardId}-card`);
            const isExpanded = card.classList.contains('expanded');
            
            // Close all cards
            document.querySelectorAll('.step-card').forEach(c => {
                c.classList.remove('expanded');
            });
            
            // Remove active class from all progress items and indicators
            document.querySelectorAll('.progress-item').forEach(p => {
                p.classList.remove('active');
            });
            document.querySelectorAll('.progress-indicator').forEach(i => {
                i.classList.remove('active');
            });
            
            if (!isExpanded) {
                // Open the clicked card
                card.classList.add('expanded');
                currentExpandedCard = cardId;
                
                // Update progress sidebar
                updateProgressSidebar(cardId);
                
                // Smooth scroll to card
                setTimeout(() => {
                    card.scrollIntoView({ 
                        behavior: 'smooth', 
                        block: 'start',
                        inline: 'nearest'
                    });
                }, 100);
            }
        }

        function updateProgressSidebar(activeCard) {
            const steps = ['assessment', 'diagnosis', 'treatment', 'followup'];
            let activeFound = false;
            
            steps.forEach(step => {
                const progressItem = document.getElementById(`progress-${step}`);
                const indicator = document.getElementById(`indicator-${step}`);
                
                if (step === activeCard) {
                    activeFound = true;
                    progressItem.classList.add('active');
                    indicator.classList.add('active');
                } else if (!activeFound) {
                    // Keep previous steps active
                    progressItem.classList.add('active');
                    indicator.classList.add('active');
                }
            });
        }

        function scrollToCard(cardId) {
            const card = document.getElementById(`${cardId}-card`);
            
            // Expand the target card
            document.querySelectorAll('.step-card').forEach(c => {
                c.classList.remove('expanded');
            });
            card.classList.add('expanded');
            currentExpandedCard = cardId;
            
            // Update progress sidebar
            updateProgressSidebar(cardId);
            
            // Smooth scroll to card
            setTimeout(() => {
                card.scrollIntoView({ 
                    behavior: 'smooth', 
                    block: 'start',
                    inline: 'nearest'
                });
            }, 100);
        }

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            // Expand the assessment card by default
            const assessmentCard = document.getElementById('assessment-card');
            assessmentCard.classList.add('expanded');
            updateProgressSidebar('assessment');
            
            // Add smooth scrolling for all internal links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });

            // Add fade-in animation for content sections
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('fade-in');
                    }
                });
            }, { threshold: 0.1 });

            // Observe all content sections
            document.querySelectorAll('.content-section').forEach(section => {
                observer.observe(section);
            });

            // Add hover effects for severity badges
            document.querySelectorAll('.severity-badge').forEach(badge => {
                badge.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-2px) scale(1.05)';
                });
                badge.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0) scale(1)';
                });
            });
        });

        // Handle window resize for responsive behavior
        let resizeTimer;
        window.addEventListener('resize', function() {
            clearTimeout(resizeTimer);
            resizeTimer = setTimeout(function() {
                // Re-apply current card state on resize
                if (currentExpandedCard) {
                    const card = document.getElementById(`${currentExpandedCard}-card`);
                    if (card) {
                        card.scrollIntoView({ 
                            behavior: 'smooth', 
                            block: 'nearest'
                        });
                    }
                }
            }, 250);
        });

        // Keyboard navigation support
        document.addEventListener('keydown', function(e) {
            const steps = ['assessment', 'diagnosis', 'treatment', 'followup'];
            const currentIndex = steps.indexOf(currentExpandedCard);
            
            if (e.key === 'ArrowDown' && currentIndex < steps.length - 1) {
                e.preventDefault();
                scrollToCard(steps[currentIndex + 1]);
            } else if (e.key === 'ArrowUp' && currentIndex > 0) {
                e.preventDefault();
                scrollToCard(steps[currentIndex - 1]);
            }
        });

        // Add click feedback for all interactive elements
        document.querySelectorAll('.card-header, .progress-item').forEach(element => {
            element.addEventListener('mousedown', function() {
                this.style.transform = 'scale(0.98)';
            });
            element.addEventListener('mouseup', function() {
                this.style.transform = '';
            });
            element.addEventListener('mouseleave', function() {
                this.style.transform = '';
            });
        });
    </script>
</body>
</html>