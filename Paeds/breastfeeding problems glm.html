<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Breastfeeding Problems | Quick-Scan Clinical Reference</title>
    <style>
        /* --- CSS Variables & Reset --- */
        :root {
            /* Clinical Palette */
            --primary-blue: #005EB8; /* NICE Blue */
            --primary-light: #e6f0fa;
            --alert-red: #D5281B;
            --alert-bg: #ffe5e5;
            --success-green: #007F3B;
            --success-bg: #e5f7ea;
            --neutral-grey: #425563;
            --bg-body: #F0F4F5;
            --surface: #ffffff;
            --border: #d8dde0;
            --text-main: #212b32;
            --text-muted: #5f6b72;
            
            /* Spacing & Layout */
            --spacing-sm: 8px;
            --spacing-md: 16px;
            --spacing-lg: 24px;
            --radius: 8px;
            --shadow: 0 2px 4px rgba(0,0,0,0.05), 0 4px 12px rgba(0,0,0,0.05);
            --shadow-hover: 0 4px 8px rgba(0,0,0,0.1), 0 8px 16px rgba(0,0,0,0.1);
            
            /* Transitions */
            --trans: all 0.2s ease-in-out;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-body);
            color: var(--text-main);
            line-height: 1.6;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* --- Layout Structure --- */
        .app-container {
            display: flex;
            flex: 1;
            overflow: hidden; /* Prevent full page scroll, use internal scroll */
        }

        /* --- Sidebar Navigation --- */
        .sidebar {
            width: 260px;
            background: var(--surface);
            border-right: 1px solid var(--border);
            display: flex;
            flex-direction: column;
            padding: var(--spacing-md);
            z-index: 100;
        }

        .brand {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--primary-blue);
            margin-bottom: var(--spacing-lg);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .nav-menu {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: 4px;
            overflow-y: auto;
        }

        .nav-item {
            padding: 10px 12px;
            border-radius: var(--radius);
            cursor: pointer;
            font-weight: 500;
            color: var(--neutral-grey);
            transition: var(--trans);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .nav-item:hover {
            background-color: var(--primary-light);
            color: var(--primary-blue);
        }

        .nav-item.active {
            background-color: var(--primary-blue);
            color: white;
        }

        .nav-footer {
            margin-top: auto;
            padding-top: var(--spacing-md);
            border-top: 1px solid var(--border);
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        /* --- Main Content Area --- */
        .main-content {
            flex: 1;
            overflow-y: auto;
            padding: var(--spacing-lg);
            position: relative;
        }

        .header-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-lg);
        }

        .search-container {
            position: relative;
            width: 300px;
        }

        .search-input {
            width: 100%;
            padding: 10px 10px 10px 40px;
            border: 1px solid var(--border);
            border-radius: 20px;
            font-size: 0.9rem;
            transition: var(--trans);
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(0, 94, 184, 0.1);
        }

        .search-icon {
            position: absolute;
            left: 14px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-muted);
            pointer-events: none;
        }

        /* --- Sections & Cards --- */
        .section-title {
            font-size: 1.5rem;
            margin-bottom: var(--spacing-md);
            color: var(--text-main);
            border-bottom: 2px solid var(--border);
            padding-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-content {
            display: none; /* Hidden by default, toggled via JS */
            animation: fadeIn 0.3s ease;
        }
        
        .section-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* --- Critical Alerts (Red Banners) --- */
        .alert-banner {
            background-color: var(--alert-red);
            color: white;
            padding: var(--spacing-md);
            border-radius: var(--radius);
            margin-bottom: var(--spacing-lg);
            display: flex;
            align-items: start;
            gap: 12px;
            box-shadow: var(--shadow);
        }

        .alert-icon {
            flex-shrink: 0;
            width: 24px;
            height: 24px;
        }

        .alert-content h3 {
            margin-bottom: 4px;
            font-size: 1.1rem;
        }

        .alert-content p {
            font-size: 0.95rem;
            opacity: 0.9;
        }

        /* --- Grid Layouts --- */
        .grid-2 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-lg);
        }

        /* --- Cards --- */
        .card {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: var(--spacing-md);
            box-shadow: var(--shadow);
            transition: var(--trans);
            position: relative;
            overflow: hidden;
        }

        .card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-hover);
            border-color: var(--primary-blue);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .card-title {
            font-weight: 700;
            font-size: 1.1rem;
            color: var(--text-main);
        }

        .status-badge {
            font-size: 0.75rem;
            text-transform: uppercase;
            font-weight: 700;
            padding: 4px 8px;
            border-radius: 4px;
        }

        .status-urgent { background: var(--alert-bg); color: var(--alert-red); }
        .status-routine { background: var(--success-bg); color: var(--success-green); }
        .status-info { background: var(--primary-light); color: var(--primary-blue); }

        .card-body {
            font-size: 0.95rem;
            color: var(--text-muted);
        }

        .card-body ul {
            padding-left: 20px;
            margin-top: 8px;
        }

        .card-body li {
            margin-bottom: 6px;
        }

        /* --- Tables --- */
        .table-container {
            overflow-x: auto;
            background: var(--surface);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            min-width: 600px;
        }

        th, td {
            padding: 12px 16px;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }

        th {
            background-color: #f8f9fa;
            font-weight: 600;
            color: var(--text-main);
        }

        tr:hover {
            background-color: #f8f9fa;
        }

        /* --- Buttons & Interactions --- */
        .btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            border-radius: 6px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: var(--trans);
            font-size: 0.9rem;
        }

        .btn-primary {
            background-color: var(--primary-blue);
            color: white;
        }
        .btn-primary:hover { background-color: #004a94; }

        .btn-outline {
            background-color: transparent;
            border: 1px solid var(--primary-blue);
            color: var(--primary-blue);
        }
        .btn-outline:hover { background-color: var(--primary-light); }

        /* --- Cookie Modal --- */
        .modal-overlay {
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.5);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .modal {
            background: white;
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            border-radius: var(--radius);
            padding: var(--spacing-lg);
            overflow-y: auto;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        .cookie-category {
            margin-bottom: var(--spacing-md);
            border-bottom: 1px solid var(--border);
            padding-bottom: var(--spacing-md);
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 40px;
            height: 24px;
            vertical-align: middle;
        }
        .toggle-switch input { opacity: 0; width: 0; height: 0; }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0; left: 0; right: 0; bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .slider { background-color: var(--success-green); }
        input:checked + .slider:before { transform: translateX(16px); }

        /* --- Toast Notification --- */
        .toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--text-main);
            color: white;
            padding: 12px 24px;
            border-radius: var(--radius);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            transform: translateY(100px);
            transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            z-index: 2000;
        }
        .toast.show { transform: translateY(0); }

        /* --- Responsive --- */
        @media (max-width: 768px) {
            .app-container { flex-direction: column; }
            .sidebar {
                width: 100%;
                height: auto;
                flex-direction: row;
                align-items: center;
                padding: 10px;
                border-right: none;
                border-bottom: 1px solid var(--border);
            }
            .brand span { display: none; } /* Hide text on mobile header */
            .brand::after { content: 'BF Ref'; }
            .nav-menu {
                display: none; /* Add simple JS toggle for mobile menu if needed, keeping simple for now */
                position: absolute;
                top: 60px; left: 0; width: 100%;
                background: white;
                box-shadow: 0 4px 10px rgba(0,0,0,0.1);
                padding: 10px;
            }
            .nav-menu.open { display: flex; }
            .menu-toggle { display: block; margin-left: auto; cursor: pointer; }
            .search-container { width: 100%; max-width: none; margin-bottom: 10px; }
        }
        @media (min-width: 769px) {
            .menu-toggle { display: none; }
        }
    </style>
</head>
<body>

<div class="app-container">
    <!-- Sidebar Navigation -->
    <nav class="sidebar">
        <div class="brand">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>
            <span>CKS Quick-Scan</span>
        </div>
        <div class="menu-toggle" onclick="toggleMenu()">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
        </div>
        <ul class="nav-menu" id="navMenu">
            <li class="nav-item active" onclick="switchTab('overview')">
                <span>Overview & Goals</span>
            </li>
            <li class="nav-item" onclick="switchTab('diagnosis')">
                <span>Diagnosis</span>
            </li>
            <li class="nav-item" onclick="switchTab('management')">
                <span>Management</span>
            </li>
            <li class="nav-item" onclick="switchTab('prescribing')">
                <span>Prescribing</span>
            </li>
        </ul>
        <div class="nav-footer">
            <p>Last revised: Feb 2025</p>
            <p>NICE CKS Topic</p>
            <button class="btn btn-outline" style="margin-top:8px; font-size:0.7rem; padding:4px 8px;" onclick="openCookieModal()">Cookie Settings</button>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <div class="header-bar">
            <div>
                <h1 style="font-size: 1.8rem; margin-bottom: 4px;">Breastfeeding Problems</h1>
                <p style="color: var(--text-muted); font-size: 0.9rem;">Age 14+ years (Female) | Primary Care Management</p>
            </div>
            <div class="search-container">
                <svg class="search-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
                <input type="text" class="search-input" id="globalSearch" placeholder="Search symptoms, drugs..." onkeyup="filterContent()">
            </div>
        </div>

        <!-- Global Red Flag Banner (Always visible contextually, but pinned here) -->
        <div id="red-flag-area">
            <!-- Injected via JS if specific search, but by default empty unless on overview -->
        </div>

        <!-- TAB: OVERVIEW -->
        <section id="overview" class="section-content active">
            <div class="alert-banner">
                <svg class="alert-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/></svg>
                <div class="alert-content">
                    <h3>Safety & Red Flags</h3>
                    <p>Immediate referral/Urgent action required for: Mastitis/Abscess with systemic illness, Infant dehydration/faltering growth, Suspected Paget's disease (unilateral eczema/ulceration), Herpes Simplex on breast, Blocked ducts persisting > 24-48hrs.</p>
                </div>
            </div>

            <div class="grid-2">
                <div class="card">
                    <div class="card-header">
                        <span class="card-title">Goals</span>
                        <span class="status-badge status-info">Primary Care</span>
                    </div>
                    <div class="card-body">
                        <ul>
                            <li>Prevent breastfeeding problems.</li>
                            <li>Recognise problems promptly.</li>
                            <li>Assess woman & infant; refer to specialist for positioning/attachment.</li>
                            <li>Manage in primary care where appropriate.</li>
                            <li>Refer to specialist when necessary.</li>
                        </ul>
                    </div>
                </div>
                <div class="card">
                    <div class="card-header">
                        <span class="card-title">Scope</span>
                        <span class="status-badge status-info">Context</span>
                    </div>
                    <div class="card-body">
                        <p><strong>Covers:</strong> Common problems with breast, nipple, and milk supply.</p>
                        <p><strong>Does NOT Cover:</strong> Detailed promotion of BF, detailed management of mastitis/abscess (see separate topics).</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- TAB: DIAGNOSIS -->
        <section id="diagnosis" class="section-content">
            <h2 class="section-title">Diagnosis Flow</h2>
            
            <div class="grid-2">
                <!-- Breast Pain -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-title">Breast Pain</span>
                    </div>
                    <div class="card-body">
                        <ul>
                            <li><strong>Engorgement:</strong> First few days, bilateral, worse before feed. Breast swollen/shiny.</li>
                            <li><strong>Compressed Ducts:</strong> Localised tender cord, white spot (bleb) at nipple end.</li>
                            <li><strong>Mastitis/Abscess:</strong> Fever, wedge-shaped swelling, erythema. Fluctuant lump = Abscess.</li>
                        </ul>
                    </div>
                </div>

                <!-- Nipple Pain -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-title">Nipple Pain</span>
                    </div>
                    <div class="card-body">
                        <ul>
                            <li><strong>Physiological:</strong> First few minutes of feed, settles in weeks.</li>
                            <li><strong>Damage (Trauma):</strong> Due to suboptimal attachment. Fissures, linear crack across tip.</li>
                            <li><strong>Vasospasm (Raynaud's):</strong> Intermittent, burning/shooting. White/blanching followed by red/blue.</li>
                            <li><strong>Infection:</strong> Bacterial (purulent) or Candida (shiny/flaky, often bilateral). Viral (vesicles - Herpes).</li>
                        </ul>
                    </div>
                </div>

                <!-- Low Supply -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-title">Low Milk Supply</span>
                        <span class="status-badge status-routine">Common</span>
                    </div>
                    <div class="card-body">
                        <ul>
                            <li><strong>True Low Supply:</strong> Rare. Check maternal endocrine (Thyroid, Prolactin), anatomical (hypoplastic), retained placenta.</li>
                            <li><strong>Perceived/Common Causes:</strong> Insufficient access (short feeds, dummy), suboptimal attachment, depression/stress.</li>
                        </ul>
                    </div>
                </div>

                <!-- Oversupply -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-title">Milk Oversupply</span>
                    </div>
                    <div class="card-body">
                        <ul>
                            <li><strong>Signs:</strong> Forceful let-down, leaking, infant choking/coughing, explosive stools.</li>
                            <li><strong>Causes:</strong> Early postpartum, suboptimal attachment (infant suckles more to get milk), switching breasts too early, excessive expression.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- TAB: MANAGEMENT -->
        <section id="management" class="section-content">
            <h2 class="section-title">Management</h2>
            
            <div class="card" style="margin-bottom: var(--spacing-md); border-left: 5px solid var(--primary-blue);">
                <div class="card-header">
                    <span class="card-title">For All Women</span>
                </div>
                <div class="card-body">
                    <p>Ensure observation by a specialist (Health visitor/BF supporter) for <strong>positioning and attachment</strong>. Offer info on support groups (NCT, Breastfeeding Network).</p>
                </div>
            </div>

            <div class="grid-2">
                <!-- Engorgement -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-title">Engorgement</span>
                        <span class="status-badge status-routine">Routine</span>
                    </div>
                    <div class="card-body">
                        <ul>
                            <li><strong>Action:</strong> Feed frequently (no restriction).</li>
                            <li><strong>Relief:</strong> Paracetamol, cold packs AFTER feed.</li>
                            <li><strong>Technique:</strong> Hand express a little to soften areola for latch.</li>
                            <li><strong>Avoid:</strong> Excessive expressing (can worsen oversupply).</li>
                        </ul>
                    </div>
                </div>

                <!-- Blocked Ducts -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-title">Compressed/Blocked Ducts</span>
                        <span class="status-badge status-routine">Monitor</span>
                    </div>
                    <div class="card-body">
                        <ul>
                            <li><strong>Action:</strong> Feed frequently from affected breast.</li>
                            <li><strong>Check:</strong> Bra/clothing not restricting flow.</li>
                            <li><strong>Warning:</strong> Educate on signs of Mastitis. If mass persists > 1 cycle, consider referral (exclude cancer).</li>
                        </ul>
                    </div>
                </div>

                <!-- Mastitis/Abscess -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-title">Mastitis / Abscess</span>
                        <span class="status-badge status-urgent">Urgent</span>
                    </div>
                    <div class="card-body">
                        <ul>
                            <li><strong>Action:</strong> See separate CKS topic on Mastitis.</li>
                            <li><strong>Key:</strong> Continue breastfeeding (from affected breast) if possible.</li>
                            <li><strong>Referral:</strong> Ultrasound if abscess suspected.</li>
                        </ul>
                    </div>
                </div>

                <!-- Nipple Damage -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-title">Nipple Damage</span>
                        <span class="status-badge status-routine">Routine</span>
                    </div>
                    <div class="card-body">
                        <ul>
                            <li><strong>Cause:</strong> Suboptimal attachment (most common). Tongue-tie (ankyloglossia)?</li>
                            <li><strong>Action:</strong> Specialist review. Consider expressed breast milk (EBM) on cracks.</li>
                            <li><strong>Infant:</strong> Refer paediatrician for tongue-tie division if indicated.</li>
                        </ul>
                    </div>
                </div>

                <!-- Nipple Infection -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-title">Nipple Infection</span>
                        <span class="status-badge status-info">Caution</span>
                    </div>
                    <div class="card-body">
                        <ul>
                            <li><strong>Bacterial:</strong> Consider topical antibiotics (Fusidic acid/Mupirocin). <strong>Note:</strong> Wash off before feeding.</li>
                            <li><strong>Candida:</strong> Consider topical Miconazole. Treat infant if oral thrush present.</li>
                            <li><strong>Viral (Herpes):</strong> Discuss with specialist. Stop feeding from affected breast if lesions active.</li>
                        </ul>
                    </div>
                </div>

                <!-- Vasospasm -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-title">Vasospasm / Raynaud's</span>
                        <span class="status-badge status-routine">Self-care</span>
                    </div>
                    <div class="card-body">
                        <ul>
                            <li><strong>Action:</strong> Warm environment, heat packs after feed.</li>
                            <li><strong>Lifestyle:</strong> Avoid caffeine, stop smoking.</li>
                            <li><strong>Refractory:</strong> Consider oral Nifedipine (off-label) after specialist discussion.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- TAB: PRESCRIBING -->
        <section id="prescribing" class="section-content">
            <h2 class="section-title">Prescribing Information</h2>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Drug</th>
                            <th>Dose/Usage</th>
                            <th>Cautions & Breastfeeding</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Paracetamol</strong></td>
                            <td>See CKS Analgesia topic. Standard analgesic dose.</td>
                            <td>Safe to use during breastfeeding.</td>
                        </tr>
                        <tr>
                            <td><strong>Topical Fusidic Acid</strong><br><small>(Antibiotic)</small></td>
                            <td>Apply 2% cream 3 times daily for 5 days.</td>
                            <td style="color: var(--alert-red); font-weight:600;">Avoid breastfeeding from affected nipple during treatment.</td>
                        </tr>
                        <tr>
                            <td><strong>Topical Miconazole</strong><br><small>(Antifungal)</small></td>
                            <td>Apply sparingly after breastfeed. Continue 10 days after healing.</td>
                            <td>Minimal absorption. Manufacturer advises caution, but generally considered compatible.</td>
                        </tr>
                        <tr>
                            <td><strong>Topical Mupirocin</strong><br><small>(Antibiotic)</small></td>
                            <td>Apply 2% 3 times daily for 5 days.</td>
                            <td style="color: var(--alert-red);">Wash area thoroughly before breastfeeding.</td>
                        </tr>
                        <tr>
                            <td><strong>Hydrocortisone 1%</strong><br><small>(Steroid)</small></td>
                            <td>For inflammatory nipple conditions (eczema). Apply immediately after feed.</td>
                            <td style="color: var(--alert-red);">Remove with warm water <strong>before</strong> next feed to prevent infant ingestion.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>
    </main>
</div>

<!-- Footer / Legal Links -->
<footer style="background: #e9ecef; padding: 10px; text-align: center; font-size: 0.8rem; border-top: 1px solid #ccc;">
    <p>Content from NICE Clinical Knowledge Summaries (CKS). Subject to license agreement.</p>
    <a href="#" onclick="openCookieModal()" style="color: var(--primary-blue);">View Cookie Statement</a>
</footer>

<!-- Cookie Modal (Simulated) -->
<div class="modal-overlay" id="cookieModal">
    <div class="modal">
        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom: 16px;">
            <h2>Cookie Statement</h2>
            <button onclick="closeCookieModal()" style="background:none; border:none; font-size:1.5rem; cursor:pointer;">&times;</button>
        </div>
        <p>We use cookies to improve your experience. Please select your preferences:</p>
        
        <div class="cookie-category">
            <h4>Essential cookies</h4>
            <p style="font-size:0.9rem; margin-bottom:8px;">Enable basic functions like page navigation. Cannot be deactivated.</p>
            <label class="toggle-switch">
                <input type="checkbox" checked disabled>
                <span class="slider"></span>
            </label>
        </div>

        <div class="cookie-category">
            <h4>Preference cookies</h4>
            <p style="font-size:0.9rem; margin-bottom:8px;">Remember layout settings.</p>
            <label class="toggle-switch">
                <input type="checkbox" checked id="prefCookies">
                <span class="slider"></span>
            </label>
        </div>

        <div class="cookie-category">
            <h4>Website usage cookies</h4>
            <p style="font-size:0.9rem; margin-bottom:8px;">Google Analytics, Hotjar, etc. to measure usage anonymously.</p>
            <label class="toggle-switch">
                <input type="checkbox" id="usageCookies">
                <span class="slider"></span>
            </label>
        </div>

        <div class="cookie-category">
            <h4>Marketing cookies</h4>
            <p style="font-size:0.9rem; margin-bottom:8px;">Google Ads, LinkedIn, etc. for advertising.</p>
            <label class="toggle-switch">
                <input type="checkbox" id="marketingCookies">
                <span class="slider"></span>
            </label>
        </div>

        <div style="display:flex; justify-content:flex-end; gap: 10px; margin-top:20px;">
            <button class="btn btn-outline" onclick="closeCookieModal()">Reject Non-Essential</button>
            <button class="btn btn-primary" onclick="acceptCookies()">Accept All</button>
        </div>
    </div>
</div>

<!-- Toast Notification -->
<div id="toast" class="toast">Action Completed</div>

<script>
    /* --- Navigation Logic --- */
    function switchTab(tabId) {
        // Remove active class from all nav items
        document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));
        // Add active class to clicked item (approximate finding)
        const clickedItem = Array.from(document.querySelectorAll('.nav-item')).find(item => item.getAttribute('onclick').includes(tabId));
        if(clickedItem) clickedItem.classList.add('active');

        // Hide all sections
        document.querySelectorAll('.section-content').forEach(section => section.classList.remove('active'));
        // Show target section
        document.getElementById(tabId).classList.add('active');

        // Close mobile menu if open
        const navMenu = document.getElementById('navMenu');
        if(navMenu.classList.contains('open')) {
            navMenu.classList.remove('open');
        }
    }

    /* --- Mobile Menu --- */
    function toggleMenu() {
        document.getElementById('navMenu').classList.toggle('open');
    }

    /* --- Search / Filter Logic --- */
    function filterContent() {
        const input = document.getElementById('globalSearch').value.toLowerCase();
        
        // If input is empty, just ensure active tab is shown (no filtering across tabs for simplicity in this version, or simple card hiding)
        // For a "Quick Scan" tool, we usually want to filter visible cards.
        
        const cards = document.querySelectorAll('.card');
        let matchCount = 0;

        cards.forEach(card => {
            const text = card.innerText.toLowerCase();
            if(text.includes(input)) {
                card.style.display = 'block';
                matchCount++;
            } else {
                card.style.display = 'none';
            }
        });

        // If searching, show all sections temporarily or restrict to active?
        // Strategy: Highlight matches in current view. 
        // To make it powerful: let's keep it simple. User searches, cards hide/show.
    }

    /* --- Cookie Modal Logic --- */
    function openCookieModal() {
        document.getElementById('cookieModal').style.display = 'flex';
    }

    function closeCookieModal() {
        document.getElementById('cookieModal').style.display = 'none';
        showToast("Preferences saved");
    }

    function acceptCookies() {
        document.getElementById('prefCookies').checked = true;
        document.getElementById('usageCookies').checked = true;
        document.getElementById('marketingCookies').checked = true;
        closeCookieModal();
        showToast("All cookies accepted");
    }

    /* --- Toast Notification --- */
    function showToast(message) {
        const toast = document.getElementById('toast');
        toast.innerText = message;
        toast.classList.add('show');
        setTimeout(() => {
            toast.classList.remove('show');
        }, 3000);
    }

    // Initialize: Check if user previously accepted cookies (simulated)
    // In a real app, we'd check localStorage. Here we just leave them unchecked by default.
</script>

</body>
</html>