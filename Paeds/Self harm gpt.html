<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Self‑Harm (≥8y) — Primary Care Algorithm | NICE CKS 2025</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Nunito:wght@600;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg: #0b1220;
      --panel: #0f172a;
      --ink: #e6edf7;
      --muted: #9fb0d1;
      --accent: #7dd3fc;
      --accent-2: #a78bfa;
      --ok: #34d399;
      --warn: #f59e0b;
      --danger: #fb7185;
      --ring: rgba(125, 211, 252, 0.45);
      --shadow: 0 10px 30px rgba(2, 6, 23, .6), 0 4px 12px rgba(2, 6, 23, .4);
      --radius-xl: 20px;
      --radius-2xl: 28px;
      --spacing: 20px;
      --maxw: 1100px;
    }

    [data-theme="light"]{
      --bg: #f6f8fc;
      --panel: #ffffff;
      --ink: #0b1220;
      --muted: #53627c;
      --accent: #2563eb;
      --accent-2: #7c3aed;
      --ok: #059669;
      --warn: #b45309;
      --danger: #b91c1c;
      --ring: rgba(37, 99, 235, .2);
      --shadow: 0 10px 28px rgba(2, 6, 23, .10), 0 4px 10px rgba(2, 6, 23, .06);
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body{
      margin:0; background: radial-gradient(1000px 600px at 80% -20%, rgba(124,58,237,.25), transparent 70%),
                                 radial-gradient(900px 500px at -10% -10%, rgba(37,99,235,.25), transparent 70%),
                                 var(--bg);
      color: var(--ink);
      font: 400 16px/1.55 Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
    }

    .wrap{ max-width: var(--maxw); margin: 0 auto; padding: 28px; }

    /* Top bar */
    .bar{
      position: sticky; top: 0; z-index: 50; backdrop-filter: saturate(140%) blur(6px);
      background: color-mix(in oklab, var(--bg) 70%, transparent);
      border-bottom: 1px solid color-mix(in oklab, var(--ink) 10%, transparent);
    }
    .bar .wrap{ display:flex; align-items:center; gap:16px; padding-block:14px; }
    .brand{ display:flex; align-items:center; gap:12px; }
    .logo{ width:34px; height:34px; display:grid; place-items:center; border-radius:12px;
           background: linear-gradient(135deg, var(--accent), var(--accent-2)); color:#fff;
           box-shadow: 0 6px 18px color-mix(in oklab, var(--accent) 35%, transparent);
    }
    .title{ font: 800 18px/1 Nunito, Inter, system-ui; letter-spacing: .2px; }
    .muted{ color: var(--muted); font-weight:500; font-size:13px; }

    .actions{ margin-left:auto; display:flex; align-items:center; gap:10px; }
    .btn{ appearance:none; border:1px solid color-mix(in oklab, var(--ink) 10%, transparent);
      background: color-mix(in oklab, var(--panel) 85%, transparent);
      color: var(--ink); padding:10px 12px; border-radius:12px; cursor:pointer; font-weight:600; display:inline-flex; gap:8px; align-items:center;
      transition: transform .05s ease, background .2s ease, border-color .2s ease; box-shadow: none; }
    .btn:hover{ transform: translateY(-1px); border-color: color-mix(in oklab, var(--accent) 50%, transparent); box-shadow: 0 6px 18px var(--ring); }
    .btn:active{ transform: translateY(0); }
    .btn .ico{ width:18px; height:18px; display:inline-block; }

    /* Hero */
    .hero{ margin-top:28px; display:grid; gap:18px; grid-template-columns: 1.2fr .8fr; align-items:center; }
    .card{
      background: linear-gradient(180deg, color-mix(in oklab, var(--panel) 94%, transparent), color-mix(in oklab, var(--panel) 98%, transparent));
      border: 1px solid color-mix(in oklab, var(--ink) 9%, transparent);
      border-radius: var(--radius-2xl);
      box-shadow: var(--shadow);
      padding: clamp(18px, 3.6vw, 26px);
    }
    .hero h1{ font: 800 clamp(22px, 3.6vw, 34px)/1.15 Nunito, Inter, system-ui; margin:0 0 10px; }
    .hero p{ margin:0; }

    .chips{ display:flex; gap:10px; flex-wrap:wrap; margin-top:12px; }
    .chip{ font-weight:600; font-size:12px; padding:8px 10px; border-radius:999px; border:1px solid color-mix(in oklab, var(--ink) 10%, transparent);
           background: color-mix(in oklab, var(--panel) 85%, transparent); color: var(--muted); }

    .quick{ display:grid; gap:10px; }
    .quick .line{ display:flex; align-items:center; gap:10px; }
    .quick strong{ font-weight:800; }

    /* Grid of sections */
    .grid{ display:grid; grid-template-columns: repeat(12, 1fr); gap:18px; margin-top:22px; }
    .section{ grid-column: span 6; padding:22px; border-radius: var(--radius-xl); border:1px dashed color-mix(in oklab, var(--ink) 12%, transparent);
              background: linear-gradient(180deg, color-mix(in oklab, var(--panel) 96%, transparent), color-mix(in oklab, var(--panel) 98%, transparent));
    }
    .section[data-span="12"]{ grid-column: 1 / -1; }

    .section h2{ display:flex; align-items:center; gap:10px; margin:0 0 12px; font: 800 18px/1.2 Nunito, Inter; }
    .section h2 .ico{ width:22px; height:22px; }

    ul{ margin:10px 0 0 0; padding-left: 20px; }
    li{ margin:6px 0; }

    .kpis{ display:flex; flex-wrap:wrap; gap:10px; margin-top:14px; }
    .kpi{ border-radius: 14px; padding:10px 12px; font-weight:700; font-size:13px; }
    .kpi.ok{ background: color-mix(in oklab, var(--ok) 15%, transparent); border:1px solid color-mix(in oklab, var(--ok) 40%, transparent); }
    .kpi.warn{ background: color-mix(in oklab, var(--warn) 15%, transparent); border:1px solid color-mix(in oklab, var(--warn) 40%, transparent); }
    .kpi.danger{ background: color-mix(in oklab, var(--danger) 15%, transparent); border:1px solid color-mix(in oklab, var(--danger) 40%, transparent); }

    .callout{ border-left: 4px solid var(--accent); padding:12px 14px; border-radius: 14px; background: color-mix(in oklab, var(--accent) 10%, transparent); margin-top:12px; }

    .footer{ margin: 26px 0 40px; color: var(--muted); font-size: 13px; display:flex; gap:14px; flex-wrap:wrap; align-items:center; }
    .footer .sep{ width:4px; height:4px; background: color-mix(in oklab, var(--ink) 25%, transparent); border-radius:50%; display:inline-block; }

    /* Compact mode */
    .compact .hero{ grid-template-columns: 1fr; }
    .compact .grid{ gap:14px; }
    .compact .section{ padding:16px; }

    /* Responsive */
    @media (max-width: 960px){
      .hero{ grid-template-columns: 1fr; }
      .section{ grid-column: 1 / -1; }
    }

    /* Print (A4 one‑pager) */
    @media print{
      :root{ --bg: #ffffff; --panel: #ffffff; --ink: #0b1220; --muted:#4b5563; }
      body{ background: #fff; }
      .bar, .actions{ display:none !important; }
      .wrap{ max-width: 900px; padding: 8mm 12mm; }
      .hero{ margin-top:0; }
      .card, .section{ box-shadow: none; border:1px solid #e5e7eb; background:#fff; }
      .grid{ gap:10px; }
      .section{ padding:12px; }
      .section h2{ font-size:16px; }
      ul{ padding-left: 16px; }
      li{ margin: 4px 0; }
      .footer{ margin-top: 10px; }
    }
  </style>
</head>
<body data-theme="light">
  <!-- Sticky top bar -->
  <div class="bar">
    <div class="wrap">
      <div class="brand" aria-label="Brand">
        <div class="logo" aria-hidden="true">⚕</div>
        <div>
          <div class="title">Self‑Harm (≥8y) — Primary Care Algorithm</div>
          <div class="muted">NICE CKS • Last revised Feb 2025 • For NHS primary care</div>
        </div>
      </div>
      <div class="actions" role="toolbar" aria-label="Quick actions">
        <button class="btn" id="themeBtn" title="Toggle dark/light"><svg class="ico" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg><span>Theme</span></button>
        <button class="btn" id="densityBtn" title="Toggle compact spacing"><svg class="ico" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M3 6h18M3 12h18M3 18h18"/></svg><span>Compact</span></button>
        <button class="btn" id="printBtn" title="Print / Save as PDF"><svg class="ico" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M6 9V2h12v7"/><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"/><path d="M6 14h12v8H6z"/></svg><span>Print</span></button>
      </div>
    </div>
  </div>

  <main class="wrap" id="content" role="main">
    <!-- Hero -->
    <section class="hero" aria-label="Overview">
      <div class="card">
        <h1>Fast Reference Algorithm</h1>
        <p>Condensed aide‑mémoire for rapid decision‑making in consultations. Treat all patients with <strong>respect, dignity and compassion</strong>; use clinical judgement; and follow local safeguarding procedures where applicable.</p>
        <div class="chips" aria-label="Scope">
          <span class="chip" title="Age">Age ≥ 8 years</span>
          <span class="chip" title="Setting">Primary care / first contact</span>
          <span class="chip" title="Focus">Initial, acute & long‑term management</span>
          <span class="chip" title="Note">Risk scales not for triage decisions</span>
        </div>
      </div>
      <div class="card quick" aria-label="Quick contacts">
        <div class="line"><svg class="ico" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M22 16.92V21a2 2 0 0 1-2.18 2A19.79 19.79 0 0 1 3 7.18 2 2 0 0 1 5 5h4.09a2 2 0 0 1 2 1.72c.12.91.31 1.8.57 2.65a2 2 0 0 1-.45 2.11L10.4 13.6a16 16 0 0 0 6 6l2.12-1.8a2 2 0 0 1 2.11-.45c.85.26 1.74.45 2.65.57A2 2 0 0 1 22 16.92z"/></svg>
          <div><strong>Samaritans:</strong> 116 123 (24/7)</div></div>
        <div class="line"><svg class="ico" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M12 8v8M8 12h8"/><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/></svg>
          <div><strong>NPIS / TOXBASE®:</strong> 0344 892 0111 • toxbase.org</div></div>
        <div class="line"><svg class="ico" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M21 10H7"/><path d="M21 6H3"/><path d="M21 14H3"/><path d="M21 18H7"/></svg>
          <div><strong>Print‑ready:</strong> Use the <em>Print</em> button (A4 one‑pager).</div></div>
      </div>
    </section>

    <!-- Sections Grid -->
    <section class="grid" aria-label="Algorithm sections">
      <article class="section" id="initial-approach" data-section>
        <h2><svg class="ico" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 20l9-5-9-5-9 5 9 5z"/><path d="M12 12l9-5-9-5-9 5 9 5z"/></svg> 1) Initial Approach</h2>
        <ul>
          <li>Treat with <strong>respect, dignity, compassion</strong>; be culturally sensitive.</li>
          <li>Establish <strong>method of harm</strong>; collaborate on <strong>means restriction</strong>.</li>
          <li>Assess <strong>capacity, consent, competence</strong>; seek senior input if unsure.</li>
          <li>Seek consent to involve <strong>family/carers</strong>; consider confidentiality limits where safeguarding applies.</li>
        </ul>
        <div class="callout" role="note">For self‑poisoning or unclear ingestion, err on the side of <strong>urgent ED referral</strong>; contact NPIS/TOXBASE® for patient‑specific risk assessment.</div>
      </article>

      <article class="section" id="immediate-safety" data-section>
        <h2><svg class="ico" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg> 2) Immediate Safety</h2>
        <ul>
          <li><strong>Physical injury / poisoning?</strong> Severe, intoxicated, or uncertain → <strong>ED now</strong>.</li>
          <li>If minor injury only → provide wound care; proceed to assessment.</li>
          <li><strong>Immediate suicide risk?</strong> → ED / Crisis Resolution & Home Treatment.</li>
          <li>If unsure, discuss with ED consultant / NPIS.</li>
        </ul>
        <div class="kpis">
          <div class="kpi danger">Do <em>not</em> use risk scales to decide treatment or discharge</div>
        </div>
      </article>

      <article class="section" id="psychosocial" data-section>
        <h2><svg class="ico" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg> 3) Psychosocial & Risk Assessment</h2>
        <ul>
          <li>Explore <strong>distress, suicidal intent, hopelessness</strong>; ask directly about ideation/intent.</li>
          <li>Assess <strong>social context</strong>: relationships, housing, finances, recent stressors.</li>
          <li>Review <strong>mental/physical health</strong>, substance use, coping strengths & assets.</li>
          <li>Identify <strong>protective factors</strong> (supportive people, children, beliefs, coping strategies).</li>
          <li>Check <strong>safeguarding</strong> for children/dependent adults; follow local procedures.</li>
        </ul>
      </article>

      <article class="section" id="referral" data-section>
        <h2><svg class="ico" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 18l6-6-6-6"/></svg> 4) Referral Criteria</h2>
        <ul>
          <li>Prioritise MH referral if <strong>distress/intent rising</strong>, frequency/severity increasing, clinician concern, or patient requests support.</li>
          <li><strong>Crisis team</strong> for immediate risk; <strong>CMHT/psychology</strong> for specialist needs; <strong>CAMHS</strong> if &lt;18; <strong>drug & alcohol</strong> services if relevant.</li>
          <li>Maintain continuity if managed in primary care; advise to seek help if situation deteriorates.</li>
        </ul>
      </article>

      <article class="section" id="aftercare" data-section>
        <h2><svg class="ico" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 12h-4"/><path d="M2 12h4"/><path d="M12 2v4"/><path d="M12 22v-4"/><circle cx="12" cy="12" r="6"/></svg> 5) Follow‑Up & Aftercare</h2>
        <ul>
          <li>Arrange <strong>review within 48 hours</strong> of presentation/ED discharge.</li>
          <li>Ensure <strong>psychosocial assessment</strong> by trained professional.</li>
          <li>Create a <strong>Safety Plan</strong> (collaborative):
            <ul>
              <li>Warning signs & triggers; coping/distraction strategies; problem‑solving barriers.</li>
              <li>Supportive contacts (family/friends), clinical <strong>crisis contacts</strong>, and <strong>means restriction</strong>.</li>
              <li>Accessible format; shared with agreed parties; patient holds a copy.</li>
            </ul>
          </li>
          <li>Provide <strong>written + verbal</strong> info to patient & carers incl. helplines and local services.</li>
          <li>Review medicines: half‑life, toxicity (e.g., opiates, TCAs), interactions; consider <strong>limited quantities</strong>; arrange medicines review.</li>
        </ul>
      </article>

      <article class="section" id="long-term" data-section>
        <h2><svg class="ico" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 3v18h18"/><path d="M18 17V9"/><path d="M13 17V5"/><path d="M8 17v-7"/></svg> 6) Long‑Term Management</h2>
        <ul>
          <li>Shared care with MH services; update care & crisis plans across teams.</li>
          <li>Offer <strong>structured CBT‑informed intervention</strong> (≈4–10 sessions, tailored). Pharmacotherapy <em>not</em> a specific anti‑self‑harm treatment.</li>
          <li>For adolescents with emotional dysregulation & frequent episodes → <strong>DBT‑A</strong>.</li>
          <li>Address co‑existing mental health and substance use; provide harm‑minimisation advice when stopping self‑harm isn’t immediately realistic.</li>
          <li>Prescribing: avoid highly toxic agents when alternatives exist; communicate across prescribers.</li>
        </ul>
      </article>

      <article class="section" id="principles" data-section data-span="12">
        <h2><svg class="ico" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 6L9 17l-5-5"/></svg> 7) Key Principles</h2>
        <ul>
          <li><strong>Capacity:</strong> presume capacity ≥16y unless evidence otherwise; apply Mental Capacity Act principles; weigh best interests when lacking capacity.</li>
          <li><strong>Confidentiality:</strong> maintain; may share without consent if necessary for safety/best interests; involve person in decisions.</li>
          <li><strong>Do not</strong> use punitive/aversive or criminal‑justice approaches for frequent presentations.</li>
          <li><strong>Do not</strong> use risk scales to predict future self‑harm/suicide or to decide treatment/discharge.</li>
          <li>Convey <strong>hope and optimism</strong>; provide consistent, compassionate information and support.</li>
        </ul>
      </article>
    </section>

    <section class="footer" aria-label="Notes">
      <span>Source: NICE CKS — Self‑harm (assessment, management & preventing recurrence), reviewed Aug 2024; minor update Feb 2025.</span>
      <span class="sep" aria-hidden="true"></span>
      <span>Scope: Primary care, UK NHS; not a substitute for clinical judgement.</span>
      <span class="sep" aria-hidden="true"></span>
      <span>Print this page for a one‑page desk aide.</span>
    </section>
  </main>

  <script>
    const root = document.body;
    const printBtn = document.getElementById('printBtn');
    const themeBtn = document.getElementById('themeBtn');
    const densityBtn = document.getElementById('densityBtn');

    printBtn.addEventListener('click', () => window.print());
    themeBtn.addEventListener('click', () => {
      const light = root.getAttribute('data-theme') === 'light';
      root.setAttribute('data-theme', light ? 'dark' : 'light');
    });
    densityBtn.addEventListener('click', () => {
      root.classList.toggle('compact');
    });
  </script>
</body>
</html>
