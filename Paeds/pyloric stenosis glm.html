<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pyloric Stenosis: Clinical Quick-Scan</title>
    <style>
        :root {
            /* Color System */
            --c-red-bg: #fef2f2;
            --c-red-text: #b91c1c;
            --c-red-border: #ef4444;
            --c-blue-bg: #eff6ff;
            --c-blue-text: #1e40af;
            --c-blue-border: #3b82f6;
            --c-green-bg: #f0fdf4;
            --c-green-text: #15803d;
            --c-green-border: #22c55e;
            --c-gray-50: #f9fafb;
            --c-gray-100: #f3f4f6;
            --c-gray-800: #1f2937;
            --c-white: #ffffff;
            
            /* Spacing & Radius */
            --radius: 8px;
            --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            --shadow-hover: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        }

        body {
            background-color: var(--c-gray-50);
            color: var(--c-gray-800);
            padding-bottom: 40px;
        }

        /* Utility Classes for "Instant Visibility" */
        .text-red { color: var(--c-red-text); }
        .text-blue { color: var(--c-blue-text); }
        .text-green { color: var(--c-green-text); }
        .font-bold { font-weight: 700; }
        .uppercase { text-transform: uppercase; letter-spacing: 0.05em; font-size: 0.75rem; }

        /* Layout Structure */
        .app-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 16px;
        }

        /* Header */
        header {
            background: var(--c-white);
            border-bottom: 1px solid var(--c-gray-100);
            padding: 16px 0;
            margin-bottom: 24px;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-flex {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .title-group h1 {
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--c-gray-800);
        }

        .title-group span {
            background: var(--c-gray-800);
            color: white;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.75rem;
            margin-left: 8px;
            vertical-align: middle;
        }

        .clock {
            font-variant-numeric: tabular-nums;
            color: #6b7280;
            font-weight: 500;
        }

        /* Dashboard Grid */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            gap: 20px;
        }

        /* Card Component */
        .card {
            background: var(--c-white);
            border-radius: var(--radius);
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--c-gray-100);
            overflow: hidden;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            display: flex;
            flex-direction: column;
        }

        .card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-hover);
        }

        .card-header {
            padding: 16px;
            border-bottom: 1px solid var(--c-gray-100);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .card-body {
            padding: 16px;
            flex: 1;
        }

        /* Specific Card Styles */
        .card-red { border-left: 5px solid var(--c-red-border); }
        .card-blue { border-left: 5px solid var(--c-blue-border); }
        .card-green { border-left: 5px solid var(--c-green-border); }

        .card-red .card-header { background-color: var(--c-red-bg); }
        .card-blue .card-header { background-color: var(--c-blue-bg); }
        .card-green .card-header { background-color: var(--c-green-bg); }

        /* Grid Areas */
        .area-epidemiology { grid-column: span 4; }
        .area-red-flags { grid-column: span 4; }
        .area-management { grid-column: span 4; }
        .area-diagnosis { grid-column: span 8; }
        .area-differentials { grid-column: span 4; }
        .area-complications { grid-column: span 12; }

        /* Content Styling */
        .stat-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
            padding-bottom: 8px;
            border-bottom: 1px dashed #e5e7eb;
        }
        .stat-row:last-child { border-bottom: none; }

        .big-stat {
            font-size: 2.5rem;
            font-weight: 800;
            line-height: 1;
            text-align: center;
            display: block;
        }

        .label {
            font-size: 0.85rem;
            color: #6b7280;
            text-transform: uppercase;
            font-weight: 600;
        }

        /* Lists & Tables */
        .check-list { list-style: none; }
        .check-list li {
            position: relative;
            padding-left: 24px;
            margin-bottom: 8px;
            font-size: 0.95rem;
            line-height: 1.4;
        }
        .check-list li::before {
            content: "•";
            position: absolute;
            left: 0;
            font-weight: bold;
            font-size: 1.2em;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
        }
        .data-table th, .data-table td {
            text-align: left;
            padding: 8px;
            border-bottom: 1px solid #e5e7eb;
        }
        .data-table th { color: #6b7280; font-weight: 600; }
        .data-table tr:last-child td { border-bottom: none; }

        /* Algorithm Steps */
        .step {
            display: flex;
            align-items: flex-start;
            margin-bottom: 16px;
            background: var(--c-gray-50);
            padding: 10px;
            border-radius: 6px;
        }
        .step-num {
            background: var(--c-gray-800);
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: bold;
            margin-right: 12px;
            flex-shrink: 0;
            margin-top: 2px;
        }

        /* Icons */
        .icon { width: 20px; height: 20px; }

        /* Responsive Breakpoints */
        @media (max-width: 1024px) {
            .area-epidemiology, .area-red-flags, .area-management { grid-column: span 6; }
            .area-diagnosis { grid-column: span 12; }
            .area-differentials { grid-column: span 12; }
        }

        @media (max-width: 768px) {
            .dashboard-grid { display: flex; flex-direction: column; }
            .header-flex { flex-direction: column; align-items: flex-start; gap: 8px; }
        }

        /* Animations */
        @keyframes pulse-red {
            0% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(239, 68, 68, 0); }
            100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); }
        }

        .pulse-effect {
            animation: pulse-red 2s infinite;
        }
    </style>
</head>
<body>

<header>
    <div class="app-container header-flex">
        <div class="title-group">
            <h1>Pyloric Stenosis <span>Quick Ref</span></h1>
            <div style="font-size: 0.9rem; color: #6b7280; margin-top: 4px;">Infantile Hypertrophic Pyloric Stenosis (IHPS)</div>
        </div>
        <div class="clock" id="clock">--:--</div>
    </div>
</header>

<main class="app-container">
    <div class="dashboard-grid">
        
        <!-- 1. EPIDEMIOLOGY (Blue - Context) -->
        <article class="card card-blue area-epidemiology">
            <div class="card-header">
                <span class="uppercase text-blue font-bold">Patient Profile</span>
                <svg class="icon text-blue" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0z"></path></svg>
            </div>
            <div class="card-body">
                <div class="stat-row">
                    <span class="label">Typical Age</span>
                    <span class="font-bold">2 - 12 weeks</span>
                </div>
                <div class="stat-row">
                    <span class="label">Gender Bias</span>
                    <span class="font-bold text-blue">Males > Females (4:1)</span>
                </div>
                <div class="stat-row">
                    <span class="label">Birth Order</span>
                    <span class="font-bold">First-born (Common)</span>
                </div>
                <div class="stat-row" style="margin-top: 12px; border-top: 1px solid #eee; padding-top: 8px;">
                    <span class="label text-gray-500">Risk Factors</span>
                </div>
                <ul class="check-list" style="font-size: 0.85rem; margin-top: 8px;">
                    <li>Family History</li>
                    <li>Maternal Smoking / Macrolides</li>
                    <li>Bottle-fed infants</li>
                </ul>
            </div>
        </article>

        <!-- 2. RED FLAGS (Red - Urgency) -->
        <article class="card card-red area-red-flags pulse-effect">
            <div class="card-header">
                <span class="uppercase text-red font-bold">Red Flags & Symptoms</span>
                <svg class="icon text-red" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>
            </div>
            <div class="card-body">
                <ul class="check-list">
                    <li class="font-bold text-red">Projectile Non-bilious Vomiting</li>
                    <li>Progressive feeding intolerance</li>
                    <li>Multiple failed formula changes</li>
                    <li>Visible peristaltic waves (Left to Right)</li>
                </ul>
                
                <div style="margin-top: 16px; background: #fee2e2; padding: 10px; border-radius: 4px;">
                    <div class="label text-red" style="margin-bottom: 4px;">SIGNS OF DEHYDRATION (Act Fast)</div>
                    <ul class="check-list" style="margin-bottom: 0; font-size: 0.85rem;">
                        <li>Tachycardia</li>
                        <li>Dry mucous membranes</li>
                        <li>Decreased wet nappies</li>
                        <li>Flat/Depressed fontanelle</li>
                    </ul>
                </div>

                <div style="margin-top: 12px; font-size: 0.9rem;">
                    <strong>Palpable Mass:</strong> Olive-shaped mass in right upper quadrant/epigastrium (Pathognomonic).
                </div>
            </div>
        </article>

        <!-- 3. MANAGEMENT (Green - Action) -->
        <article class="card card-green area-management">
            <div class="card-header">
                <span class="uppercase text-green font-bold">Action Plan</span>
                <svg class="icon text-green" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
            </div>
            <div class="card-body">
                <div class="step">
                    <div class="step-num">1</div>
                    <div>
                        <div class="font-bold text-green">Fluid Resuscitation (Correction)</div>
                        <div style="font-size: 0.85rem; margin-top: 4px;">
                            Correct <strong>Hypovolaemia</strong> & <strong>Electrolytes</strong> first.<br>
                            IV: 5% Dextrose + 0.45% Saline @ 1.5x maintenance.<br>
                            Add KCl only after urine output adequate (1-2 mL/kg/hr).<br>
                            <em>Target: Bicarb <28, Chloride >95.</em>
                        </div>
                    </div>
                </div>

                <div class="step">
                    <div class="step-num">2</div>
                    <div>
                        <div class="font-bold text-green">Definitive Surgery</div>
                        <div style="font-size: 0.85rem; margin-top: 4px;">
                            <strong>Pyloromyotomy</strong> (Extramucosal splitting).<br>
                            Laparoscopic preferred (less pain, faster recovery).<br>
                        </div>
                    </div>
                </div>
                
                <div style="margin-top: 12px; font-size: 0.8rem; color: #6b7280; border-top: 1px solid #dcfce7; padding-top: 8px;">
                    <strong>Note:</strong> Do not operate on uncorrected alkalosis (risk of respiratory depression).
                </div>
            </div>
        </article>

        <!-- 4. DIAGNOSTICS (Blue/Neutral) -->
        <article class="card card-blue area-diagnosis">
            <div class="card-header">
                <span class="uppercase text-blue font-bold">Diagnostics & Labs</span>
                <svg class="icon text-blue" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"></path></svg>
            </div>
            <div class="card-body">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                    <!-- Ultrasound Box -->
                    <div style="background: var(--c-blue-bg); padding: 16px; border-radius: 6px; text-align: center;">
                        <div class="label text-blue" style="margin-bottom: 12px;">ULTRASOUND CRITERIA</div>
                        <div style="margin-bottom: 16px;">
                            <span class="big-stat text-blue">>3</span>
                            <span class="label" style="display:block; font-size: 1rem;">mm Muscle Thickness</span>
                        </div>
                        <div>
                            <span class="big-stat text-blue">>15</span>
                            <span class="label" style="display:block; font-size: 1rem;">mm Channel Length</span>
                        </div>
                        <div style="font-size: 0.8rem; margin-top: 8px;">(Term Infants)</div>
                    </div>

                    <!-- Labs Box -->
                    <div>
                        <div class="label text-blue" style="margin-bottom: 8px;">LABORATORY FINDINGS</div>
                        <table class="data-table">
                            <tr>
                                <th>Condition</th>
                                <th class="text-red font-bold">Abnormality</th>
                            </tr>
                            <tr>
                                <td>Metabolic State</td>
                                <td class="text-red font-bold">Hypochloraemic Alkalosis</td>
                            </tr>
                            <tr>
                                <td>Potassium</td>
                                <td class="text-red font-bold">Hypokalaemia</td>
                            </tr>
                            <tr>
                                <td>Bilirubin</td>
                                <td>Indirect Hyperbilirubinaemia (rare)</td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
        </article>

        <!-- 5. DIFFERENTIALS (Neutral) -->
        <article class="card area-differentials">
            <div class="card-header">
                <span class="uppercase font-bold" style="color: #4b5563;">Differentials</span>
                <svg class="icon" style="color: #4b5563;" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"></path></svg>
            </div>
            <div class="card-body">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Condition</th>
                            <th>Key Differentiator</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>GORD</strong></td>
                            <td>Non-forceful effortless vomiting; weight usually normal.</td>
                        </tr>
                        <tr>
                            <td class="text-red"><strong>Malrotation</strong></td>
                            <td class="text-red"><strong>Bilious</strong> emesis (Surgical Emergency).</td>
                        </tr>
                        <tr>
                            <td><strong>Duodenal Atresia</strong></td>
                            <td>Bilious (85%), Double bubble sign on X-ray.</td>
                        </tr>
                        <tr>
                            <td><strong>Over-feeding</strong></td>
                            <td>No weight loss, normal labs/ultrasound.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </article>

        <!-- 6. COMPLICATIONS & PROGNOSIS (Footer style) -->
        <article class="card card-red area-complications">
            <div class="card-header" style="background: white; border-bottom: none; padding-bottom: 0;">
                <span class="uppercase text-red font-bold">Complications & Follow-up</span>
            </div>
            <div class="card-body">
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                    <div>
                        <div class="label text-red">Surgical Complications</div>
                        <ul class="check-list" style="font-size: 0.9rem;">
                            <li>Wound infection</li>
                            <li>Gastric/Duodenal mucosal perforation (Check unexplained tachycardia)</li>
                            <li>Incomplete myotomy (Recurrent vomiting)</li>
                        </ul>
                    </div>
                    <div>
                        <div class="label text-green">Prognosis</div>
                        <div style="font-size: 0.95rem;">
                            <span class="font-bold text-green">Excellent.</span> Success of surgery near 100%.<br>
                            Most post-op emesis resolves in 1-2 days.
                        </div>
                    </div>
                </div>
            </div>
        </article>

    </div>
    
    <footer style="margin-top: 30px; text-align: center; font-size: 0.75rem; color: #9ca3af;">
        <p>Based on BMJ Best Practice Topic: Pyloric Stenosis (Last updated Jan 05, 2024).</p>
        <p>For educational reference purposes only. Verify with local hospital protocols.</p>
    </footer>
</main>

<script>
    // Simple Clock Logic to give the clinician a sense of "Now"
    function updateClock() {
        const now = new Date();
        const hours = String(now.getHours()).padStart(2, '0');
        const minutes = String(now.getMinutes()).padStart(2, '0');
        document.getElementById('clock').textContent = `${hours}:${minutes}`;
    }
    setInterval(updateClock, 1000);
    updateClock();

    // Interactive Highlight: Clicking a Red Flag highlights the relevant diagnostic criteria
    document.querySelectorAll('.card-red li').forEach(item => {
        item.style.cursor = 'pointer';
        item.addEventListener('click', function() {
            // Reset others
            document.querySelectorAll('.card-red li').forEach(li => li.style.backgroundColor = 'transparent');
            
            // Highlight clicked
            this.style.backgroundColor = '#fee2e2';
            this.style.borderRadius = '4px';
            
            // Scroll to Ultrasound if vomiting or mass is clicked
            if(this.innerText.includes('Vomiting') || this.innerText.includes('Mass')) {
                document.querySelector('.area-diagnosis').scrollIntoView({ behavior: 'smooth', block: 'center' });
                document.querySelector('.area-diagnosis').classList.add('pulse-effect');
                setTimeout(() => document.querySelector('.area-diagnosis').classList.remove('pulse-effect'), 2000);
            }
        });
    });

    // Add hover hint to list items
    const style = document.createElement('style');
    style.innerHTML = `
        .card-red li:hover::after {
            content: " → Click to locate diagnostics";
            font-size: 0.7em;
            color: #9ca3af;
            margin-left: 8px;
            font-weight: normal;
        }
    `;
    document.head.appendChild(style);

</script>

</body>
</html>