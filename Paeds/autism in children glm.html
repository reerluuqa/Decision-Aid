<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Autism in Children - Clinical Quick Reference</title>
    <style>
        :root {
            /* Palette */
            --primary: #005EB8; /* NHS Blue */
            --primary-light: #E8EDF2;
            --secondary: #425563; /* Dark Grey */
            --danger: #D32F2F; /* Red */
            --danger-bg: #FFEBEE;
            --success: #2E7D32; /* Green */
            --success-bg: #E8F5E9;
            --warning: #F57C00; /* Orange */
            --warning-bg: #FFF3E0;
            --bg-body: #F0F2F5;
            --bg-card: #FFFFFF;
            --text-main: #212529;
            --text-muted: #6c757d;
            --border-radius: 8px;
            --shadow-sm: 0 2px 4px rgba(0,0,0,0.05);
            --shadow-md: 0 4px 12px rgba(0,0,0,0.08);
            --transition: all 0.2s ease-in-out;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-body);
            color: var(--text-main);
            line-height: 1.5;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* --- Header --- */
        header {
            background-color: var(--primary);
            color: white;
            padding: 1rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
            z-index: 100;
        }

        .brand {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .brand h1 {
            font-size: 1.25rem;
            font-weight: 600;
        }

        .search-container {
            position: relative;
            width: 300px;
        }

        .search-input {
            width: 100%;
            padding: 8px 12px 8px 36px;
            border-radius: 20px;
            border: none;
            outline: none;
            font-size: 0.9rem;
        }

        .search-icon {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-muted);
            font-size: 0.9rem;
        }

        /* --- Layout --- */
        .app-container {
            display: flex;
            flex: 1;
            overflow: hidden; /* Prevent body scroll, use internal scrolling */
        }

        /* --- Sidebar Navigation --- */
        aside {
            width: 260px;
            background: white;
            border-right: 1px solid #ddd;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
        }

        .nav-header {
            padding: 1.5rem 1rem 0.5rem;
            font-size: 0.75rem;
            text-transform: uppercase;
            color: var(--text-muted);
            font-weight: 700;
            letter-spacing: 0.5px;
        }

        .nav-link {
            display: flex;
            align-items: center;
            padding: 12px 1.5rem;
            color: var(--secondary);
            text-decoration: none;
            border-left: 4px solid transparent;
            cursor: pointer;
            transition: var(--transition);
        }

        .nav-link:hover {
            background-color: var(--primary-light);
            color: var(--primary);
        }

        .nav-link.active {
            background-color: var(--primary-light);
            color: var(--primary);
            border-left-color: var(--primary);
            font-weight: 600;
        }

        /* --- Main Content --- */
        main {
            flex: 1;
            padding: 2rem;
            overflow-y: auto;
            scroll-behavior: smooth;
        }

        section {
            margin-bottom: 3rem;
            scroll-margin-top: 2rem;
            opacity: 0;
            animation: fadeIn 0.4s ease-out forwards;
        }

        @keyframes fadeIn {
            to { opacity: 1; transform: translateY(0); }
            from { opacity: 0; transform: translateY(10px); }
        }

        h2 {
            font-size: 1.75rem;
            color: var(--secondary);
            margin-bottom: 1.5rem;
            border-bottom: 2px solid #e9ecef;
            padding-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-meta {
            font-size: 0.9rem;
            color: var(--text-muted);
            margin-bottom: 1.5rem;
            background: #fff;
            padding: 1rem;
            border-radius: var(--border-radius);
            border-left: 4px solid var(--primary);
        }

        /* --- Tabs --- */
        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 1.5rem;
        }

        .tab-btn {
            background: white;
            border: 1px solid #ddd;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 500;
            color: var(--text-muted);
            transition: var(--transition);
        }

        .tab-btn:hover {
            background: var(--primary-light);
            color: var(--primary);
        }

        .tab-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: grid;
            gap: 1rem;
            animation: fadeIn 0.3s ease-in-out;
        }

        /* --- Cards & Grid --- */
        .grid-2 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 1.5rem;
        }

        .grid-3 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1rem;
        }

        .card {
            background: white;
            padding: 1.5rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-sm);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            border: 1px solid transparent;
        }

        .card:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-md);
        }

        /* Card Variants */
        .card-danger {
            border-left: 5px solid var(--danger);
            background: linear-gradient(to right, #fff, var(--danger-bg));
        }
        
        .card-success {
            border-left: 5px solid var(--success);
            background: linear-gradient(to right, #fff, var(--success-bg));
        }

        .card-neutral {
            border-left: 5px solid var(--primary);
        }

        .card-title {
            font-weight: 700;
            font-size: 1.1rem;
            margin-bottom: 0.75rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .badge {
            font-size: 0.7rem;
            padding: 3px 8px;
            border-radius: 4px;
            text-transform: uppercase;
            font-weight: 700;
            letter-spacing: 0.5px;
        }

        .badge-urgent { background: var(--danger); color: white; }
        .badge-routine { background: var(--success); color: white; }
        .badge-info { background: var(--primary); color: white; }

        .card-list {
            list-style: none;
        }

        .card-list li {
            position: relative;
            padding-left: 1.5rem;
            margin-bottom: 0.5rem;
            font-size: 0.95rem;
        }

        .card-list li::before {
            content: "‚Ä¢";
            position: absolute;
            left: 0;
            color: var(--secondary);
            font-weight: bold;
        }

        /* --- Interactive Checklist Items --- */
        .check-item {
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 4px;
            transition: background 0.2s;
        }
        .check-item:hover {
            background-color: rgba(0,0,0,0.03);
        }
        .check-item.checked {
            text-decoration: line-through;
            color: var(--text-muted);
            opacity: 0.7;
        }
        .check-item.checked::before {
            color: var(--success);
            content: "‚úì";
        }

        /* --- Action Box --- */
        .action-box {
            background: #fff;
            border: 1px solid #dee2e6;
            border-radius: var(--border-radius);
            padding: 1.5rem;
            margin-top: 1rem;
        }

        .action-row {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            border-bottom: 1px solid #eee;
        }

        .action-row:last-child { border-bottom: none; }

        .action-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            flex-shrink: 0;
        }

        .bg-red { background-color: var(--danger-bg); color: var(--danger); }
        .bg-green { background-color: var(--success-bg); color: var(--success); }
        .bg-blue { background-color: var(--primary-light); color: var(--primary); }

        /* --- Table --- */
        .table-responsive {
            overflow-x: auto;
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-sm);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
        }

        th, td {
            padding: 12px 16px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }

        th {
            background-color: var(--primary-light);
            font-weight: 600;
            color: var(--primary);
        }

        tr:last-child td { border-bottom: none; }
        tr:hover { background-color: #fafafa; }

        /* --- Toast Notification --- */
        #toast-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
        }

        .toast {
            background: #323232;
            color: white;
            padding: 12px 24px;
            border-radius: 4px;
            margin-top: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.3s ease;
        }

        .toast.show {
            opacity: 1;
            transform: translateY(0);
        }

        /* --- Mobile Responsive --- */
        @media (max-width: 768px) {
            .app-container { flex-direction: column; }
            aside { width: 100%; height: auto; border-right: none; border-bottom: 1px solid #ddd; display: none; }
            aside.mobile-active { display: flex; }
            .menu-toggle { display: block; }
            .search-container { display: none; } /* Simplify header for mobile */
            .grid-2 { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

<header>
    <div class="brand">
        <!-- Simple CSS Icon -->
        <div style="width:32px; height:32px; background:white; border-radius:6px; display:flex; align-items:center; justify-content:center; color:var(--primary); font-weight:bold;">C</div>
        <h1>Clinical Ref: Autism</h1>
    </div>
    <div class="search-container">
        <span class="search-icon">üîç</span>
        <input type="text" class="search-input" id="searchFilter" placeholder="Filter symptoms or actions...">
    </div>
</header>

<div class="app-container">
    <aside id="sidebar">
        <div class="nav-header">Navigation</div>
        <a href="#summary" class="nav-link active">Overview & Scope</a>
        <a href="#diagnosis" class="nav-link">Recognition (Red Flags)</a>
        <a href="#assessment" class="nav-link">Assessment</a>
        <a href="#management-suspected" class="nav-link">Suspected Autism</a>
        <a href="#management-confirmed" class="nav-link">Confirmed Autism</a>
        <a href="#differential" class="nav-link">Differential Diagnosis</a>
        <a href="#resources" class="nav-link">Resources</a>
    </aside>

    <main id="mainContent">
        <!-- Summary Section -->
        <section id="summary">
            <h2>Overview & Scope</h2>
            <div class="section-meta">
                <strong>Target:</strong> Children & Young People (Birth to 19 years).<br>
                <strong>Context:</strong> Primary Care / NHS UK.<br>
                <strong>Last Revised:</strong> April 2025.
            </div>
            
            <div class="grid-2">
                <div class="card card-neutral">
                    <div class="card-title">Definition</div>
                    <p style="margin-bottom: 1rem; font-size: 0.95rem;">
                        A pattern of qualitative differences and impairments in reciprocal social interaction and social communication, combined with restricted interests and rigid/repetitive behaviours.
                    </p>
                    <div class="badge badge-info" style="align-self: flex-start;">Lifelong Impact</div>
                </div>
                <div class="card card-neutral">
                    <div class="card-title">Prevalence</div>
                    <ul class="card-list">
                        <li>Worldwide prevalence: 1‚Äì2%.</li>
                        <li>Male-to-female odds ratio: 3.25 (Girls often under-diagnosed).</li>
                        <li>Mean age of diagnosis: 4‚Äì5 years (often delayed).</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Diagnosis Section -->
        <section id="diagnosis">
            <h2>Recognition & Red Flags</h2>
            <p style="margin-bottom: 1rem; color: var(--text-muted);">Suspect autism if features are present <strong>consistently in different settings</strong> (home/school).</p>
            
            <div class="tabs">
                <button class="tab-btn active" onclick="switchTab('preschool')">Preschool</button>
                <button class="tab-btn" onclick="switchTab('primary')">Primary School</button>
                <button class="tab-btn" onclick="switchTab('secondary')">Secondary School</button>
            </div>

            <!-- Preschool Content -->
            <div id="preschool" class="tab-content active grid-2">
                <div class="card card-danger">
                    <div class="card-title">
                        Communication
                        <span class="badge badge-urgent">Red Flag</span>
                    </div>
                    <ul class="card-list">
                        <li class="check-item" onclick="toggleCheck(this)">Language delay (e.g., <10 words by 2 yrs).</li>
                        <li class="check-item" onclick="toggleCheck(this)">Regression of speech/loss of skills.</li>
                        <li class="check-item" onclick="toggleCheck(this)">Unusual intonation, flat tone, or echolalia.</li>
                        <li class="check-item" onclick="toggleCheck(this)">Reduced response to name (hearing normal).</li>
                    </ul>
                </div>
                <div class="card card-danger">
                    <div class="card-title">
                        Social & Play
                        <span class="badge badge-urgent">Red Flag</span>
                    </div>
                    <ul class="card-list">
                        <li class="check-item" onclick="toggleCheck(this)">Reduced or absent social smiling.</li>
                        <li class="check-item" onclick="toggleCheck(this)">Rejects cuddles / lack of shared enjoyment.</li>
                        <li class="check-item" onclick="toggleCheck(this)">Reduced eye contact / pointing.</li>
                        <li class="check-item" onclick="toggleCheck(this)">Lack of imaginative play.</li>
                    </ul>
                </div>
                <div class="card card-danger">
                    <div class="card-title">Behaviour</div>
                    <ul class="card-list">
                        <li class="check-item" onclick="toggleCheck(this)">Stereotypical movements (hand flapping, rocking).</li>
                        <li class="check-item" onclick="toggleCheck(this)">Excessive insistence on routine/sameness.</li>
                        <li class="check-item" onclick="toggleCheck(this)">Over/under-reaction to sensory stimuli.</li>
                    </ul>
                </div>
            </div>

            <!-- Primary Content -->
            <div id="primary" class="tab-content grid-2">
                <div class="card card-danger">
                    <div class="card-title">
                        Communication
                        <span class="badge badge-urgent">Red Flag</span>
                    </div>
                    <ul class="card-list">
                        <li class="check-item" onclick="toggleCheck(this)">Monotonous tone / repetitive speech.</li>
                        <li class="check-item" onclick="toggleCheck(this)">Talking 'at' others (not two-way).</li>
                        <li class="check-item" onclick="toggleCheck(this)">Responses seem rude/inappropriate.</li>
                        <li class="check-item" onclick="toggleCheck(this)">Takes things literally / misunderstands sarcasm.</li>
                    </ul>
                </div>
                <div class="card card-danger">
                    <div class="card-title">
                        Social Interaction
                        <span class="badge badge-urgent">Red Flag</span>
                    </div>
                    <ul class="card-list">
                        <li class="check-item" onclick="toggleCheck(this)">Reduced awareness of personal space.</li>
                        <li class="check-item" onclick="toggleCheck(this)">Difficulty making or keeping friends.</li>
                        <li class="check-item" onclick="toggleCheck(this)">Inappropriate social overtures (aggressive/disruptive).</li>
                        <li class="check-item" onclick="toggleCheck(this)">Lack of flexibility in communication style.</li>
                    </ul>
                </div>
            </div>

            <!-- Secondary Content -->
            <div id="secondary" class="tab-content grid-2">
                <div class="card card-danger">
                    <div class="card-title">
                        Social Interaction
                        <span class="badge badge-urgent">Red Flag</span>
                    </div>
                    <ul class="card-list">
                        <li class="check-item" onclick="toggleCheck(this)">Few close friends / social isolation.</li>
                        <li class="check-item" onclick="toggleCheck(this)">Problems losing at games / changing rules.</li>
                        <li class="check-item" onclick="toggleCheck(this)">Lack of awareness of socially expected behaviour.</li>
                        <li class="check-item" onclick="toggleCheck(this)">Difficulty understanding other's perspectives.</li>
                    </ul>
                </div>
                <div class="card card-danger">
                    <div class="card-title">Rigidity & Anxiety</div>
                    <ul class="card-list">
                        <li class="check-item" onclick="toggleCheck(this)">Strong adherence to rules/fairness (arguments).</li>
                        <li class="check-item" onclick="toggleCheck(this)">Repetitive behaviours affecting daily life.</li>
                        <li class="check-item" onclick="toggleCheck(this)">Extreme distress at trivial changes.</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Assessment Section -->
        <section id="assessment">
            <h2>Assessment Actions</h2>
            <div class="action-box">
                <div class="action-row">
                    <div class="action-icon bg-blue">üìã</div>
                    <div>
                        <strong>History Taking</strong>
                        <div style="font-size: 0.9rem; color: var(--text-muted);">Developmental history, family history, regression, antenatal/perinatal events. Include education history and coexisting conditions.</div>
                    </div>
                </div>
                <div class="action-row">
                    <div class="action-icon bg-blue">üëÅÔ∏è</div>
                    <div>
                        <strong>Observation</strong>
                        <div style="font-size: 0.9rem; color: var(--text-muted);">Eye contact, language skills (expressive/receptive), social interaction, and physical exam (skin for neurocutaneous signs).</div>
                    </div>
                </div>
                <div class="action-row">
                    <div class="action-icon bg-blue">üß†</div>
                    <div>
                        <strong>Mental Capacity & Risk</strong>
                        <div style="font-size: 0.9rem; color: var(--text-muted);">Assess for self-harm, exploitation, or abuse. Involve family/carers.</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Management Suspected -->
        <section id="management-suspected">
            <h2>Scenario: Suspected Autism</h2>
            <div class="grid-2">
                <div class="card card-success">
                    <div class="card-title">
                        Arrange Referral
                        <span class="badge badge-urgent">Priority</span>
                    </div>
                    <p style="margin-bottom:0.5rem"><strong>Refer to Multidisciplinary Team (MDT) if:</strong></p>
                    <ul class="card-list">
                        <li>Child &lt; 3 yrs with language/social regression.</li>
                        <li>Any age with persistent/significant limitations to daily living.</li>
                        <li>Moderate limitations + family concern + risk factors.</li>
                    </ul>
                    <div style="margin-top: 1rem; font-size: 0.85rem; color: var(--text-muted);">
                        <em>Note: Refer to neurodevelopmental paediatrician if regression &gt; 3 yrs or motor regression.</em>
                    </div>
                </div>

                <div class="card card-neutral">
                    <div class="card-title">
                        Watchful Waiting
                        <span class="badge badge-routine">Non-urgent</span>
                    </div>
                    <p style="margin-bottom:0.5rem"><strong>Consider if:</strong></p>
                    <ul class="card-list">
                        <li>Uncertain diagnosis / insufficient current concern.</li>
                        <li>Moderate limitations but low family concern.</li>
                        <li>Family declines referral.</li>
                    </ul>
                    <p style="margin-top:0.5rem; font-size:0.9rem"><strong>Action:</strong> Liaise with school/nursery, review after period guided by clinical judgement. Refer if features develop or concerns persist.</p>
                </div>
            </div>
        </section>

        <!-- Management Confirmed -->
        <section id="management-confirmed">
            <h2>Scenario: Confirmed Autism</h2>
            
            <div class="action-box" style="border-left: 5px solid var(--danger);">
                <div style="color: var(--danger); font-weight: 700; margin-bottom: 0.5rem;">‚õî DO NOT PRESCRIBE</div>
                <p>Do <strong>not</strong> initiate antipsychotic medication for behaviour that challenges in primary care. This must be started by a specialist.</p>
            </div>

            <div class="grid-3">
                <div class="card card-success">
                    <div class="card-title">Core Management</div>
                    <ul class="card-list">
                        <li>Key worker allocation (from MDT).</li>
                        <li>Offer regular health reviews in primary care.</li>
                        <li>Encourage continuity of GP care.</li>
                        <li>Address communication needs (visual aids, time to process).</li>
                    </ul>
                </div>
                
                <div class="card card-success">
                    <div class="card-title">Behaviour & Sleep</div>
                    <ul class="card-list">
                        <li><strong>Behaviour:</strong> Modify environment (noise/light), check for physical/mental causes.</li>
                        <li><strong>Sleep:</strong> Sleep hygiene advice first.</li>
                        <li>Refer to paediatric sleep specialist if ongoing issues.</li>
                    </ul>
                </div>

                <div class="card card-success">
                    <div class="card-title">Safeguarding</div>
                    <ul class="card-list">
                        <li>High risk of exploitation/abuse/neglect.</li>
                        <li>Refer to child safeguarding team if risk identified.</li>
                        <li>Support carer (carer assessment, respite).</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Differential Diagnosis -->
        <section id="differential">
            <h2>Differential Diagnosis</h2>
            <div class="table-responsive">
                <table>
                    <thead>
                        <tr>
                            <th>Condition</th>
                            <th>Key Differentiators</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Language Delay</strong></td>
                            <td>Normal imagination/play, normal social intent, uses non-verbal communication effectively.</td>
                        </tr>
                        <tr>
                            <td><strong>ADHD</strong></td>
                            <td>Social reciprocity is usually present, understands social norms, impulsivity driven (not rigid).</td>
                        </tr>
                        <tr>
                            <td><strong>Attachment Disorder (RAD/DSED)</strong></td>
                            <td>History of serious early maltreatment. DSED = indiscriminate friendliness. RAD = emotional withdrawal.</td>
                        </tr>
                        <tr>
                            <td><strong>Global Developmental Delay / LD</strong></td>
                            <td>Delay across all areas. Social intent consistent with developmental age.</td>
                        </tr>
                        <tr>
                            <td><strong>Hearing Impairment</strong></td>
                            <td>Non-verbal communication and social interest usually preserved. No restricted interests.</td>
                        </tr>
                        <tr>
                            <td><strong>Selective Mutism</strong></td>
                            <td>Normal communication in comfortable settings (e.g. home), appropriate language skills otherwise.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Resources -->
        <section id="resources">
            <h2>Resources & Support</h2>
            <div class="grid-3">
                <a href="https://www.autism.org.uk" target="_blank" class="card card-neutral" style="text-decoration:none; color:inherit;">
                    <div class="card-title">National Autistic Society</div>
                    <p style="font-size: 0.9rem;">Advice on behaviour, mental health, education, and transitions.</p>
                    <div style="margin-top:1rem; color:var(--primary); font-size:0.85rem;">Visit Website &rarr;</div>
                </a>
                <a href="https://www.rcpsych.ac.uk" target="_blank" class="card card-neutral" style="text-decoration:none; color:inherit;">
                    <div class="card-title">Royal College of Psychiatrists</div>
                    <p style="font-size: 0.9rem;">Information on Autism and ASD specifically for parents and carers.</p>
                    <div style="margin-top:1rem; color:var(--primary); font-size:0.85rem;">Visit Website &rarr;</div>
                </a>
                <div class="card card-success">
                    <div class="card-title">Transition Planning</div>
                    <p style="font-size: 0.9rem;">Reassess by specialist around age 14 to plan for adult services.</p>
                </div>
            </div>
        </section>
    </main>
</div>

<!-- Toast Notification Container -->
<div id="toast-container"></div>

<script>
    // --- Tab Switching Logic ---
    function switchTab(tabId) {
        // Remove active class from all buttons
        document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
        // Hide all tab content
        document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
        
        // Add active class to clicked button
        const clickedBtn = Array.from(document.querySelectorAll('.tab-btn')).find(b => b.getAttribute('onclick').includes(tabId));
        if(clickedBtn) clickedBtn.classList.add('active');
        
        // Show selected content
        document.getElementById(tabId).classList.add('active');
    }

    // --- Interactive Checkboxes (Symptom Tracker) ---
    function toggleCheck(element) {
        element.classList.toggle('checked');
        if(element.classList.contains('checked')) {
            showToast("Symptom noted");
        }
    }

    // --- Search Filter ---
    const searchInput = document.getElementById('searchFilter');
    const cards = document.querySelectorAll('.card, .action-row');

    searchInput.addEventListener('input', (e) => {
        const term = e.target.value.toLowerCase();
        
        cards.forEach(card => {
            const text = card.innerText.toLowerCase();
            if(text.includes(term)) {
                card.style.display = ''; // Reset display
                // If it's a card inside a grid, grid handles display.
                // If inside .action-box, row needs block.
                if(card.classList.contains('action-row')) card.style.display = 'flex';
            } else {
                card.style.display = 'none';
            }
        });

        // Show/Hide sections based on whether they have visible content
        document.querySelectorAll('section').forEach(section => {
            const visibleCards = section.querySelectorAll('.card:not([style*="display: none"]), .action-row:not([style*="display: none"])');
            if(visibleCards.length === 0 && term !== '') {
                section.style.display = 'none';
            } else {
                section.style.display = 'block';
            }
        });
    });

    // --- Navigation Active State (Scroll Spy) ---
    const mainContent = document.getElementById('mainContent');
    const navLinks = document.querySelectorAll('.nav-link');

    mainContent.addEventListener('scroll', () => {
        let current = '';
        const sections = document.querySelectorAll('section');
        
        sections.forEach(section => {
            const sectionTop = section.offsetTop;
            const sectionHeight = section.clientHeight;
            // Adjust offset for header
            if (mainContent.scrollTop >= (sectionTop - 150)) {
                current = section.getAttribute('id');
            }
        });

        navLinks.forEach(link => {
            link.classList.remove('active');
            if (link.getAttribute('href').includes(current)) {
                link.classList.add('active');
            }
        });
    });

    // --- Toast Notification System ---
    function showToast(message) {
        const container = document.getElementById('toast-container');
        const toast = document.createElement('div');
        toast.className = 'toast';
        toast.innerText = message;
        
        container.appendChild(toast);
        
        // Trigger animation
        requestAnimationFrame(() => {
            toast.classList.add('show');
        });

        setTimeout(() => {
            toast.classList.remove('show');
            setTimeout(() => {
                toast.remove();
            }, 300);
        }, 2000);
    }
</script>

</body>
</html>