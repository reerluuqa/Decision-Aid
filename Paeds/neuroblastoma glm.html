<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neuroblastoma Quick-Scan Reference</title>
    <style>
        :root {
            /* Palette */
            --primary-blue: #0056b3;
            --light-blue: #e3f2fd;
            --alert-red: #d32f2f;
            --alert-bg: #ffebee;
            --success-green: #2e7d32;
            --success-bg: #e8f5e9;
            --neutral-gray: #f5f5f5;
            --text-dark: #212121;
            --text-light: #757575;
            --white: #ffffff;
            
            /* Spacing & Layout */
            --card-radius: 8px;
            --shadow: 0 4px 6px rgba(0,0,0,0.1);
            --shadow-hover: 0 8px 12px rgba(0,0,0,0.15);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        }

        body {
            background-color: #f8f9fa;
            color: var(--text-dark);
            line-height: 1.5;
            padding-bottom: 40px;
        }

        /* --- Header & Nav --- */
        header {
            background: linear-gradient(135deg, var(--primary-blue), #003d80);
            color: var(--white);
            padding: 1rem 2rem;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .brand h1 {
            font-size: 1.5rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .brand span {
            font-size: 0.8rem;
            font-weight: 400;
            opacity: 0.8;
            background: rgba(255,255,255,0.2);
            padding: 2px 8px;
            border-radius: 4px;
        }

        nav {
            display: flex;
            gap: 5px;
        }

        nav button {
            background: transparent;
            border: none;
            color: rgba(255,255,255,0.7);
            padding: 0.5rem 1rem;
            cursor: pointer;
            font-weight: 600;
            border-radius: 4px;
            transition: all 0.2s;
        }

        nav button:hover {
            color: var(--white);
            background: rgba(255,255,255,0.1);
        }

        nav button.active {
            background: var(--white);
            color: var(--primary-blue);
        }

        /* --- Search Bar --- */
        .search-container {
            max-width: 1200px;
            margin: 20px auto;
            padding: 0 20px;
            display: flex;
            gap: 10px;
        }

        .search-input {
            flex: 1;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: var(--card-radius);
            font-size: 1rem;
            transition: border-color 0.2s;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary-blue);
        }

        /* --- Main Layout --- */
        main {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: none; /* Hidden by default, toggled by tabs */
            animation: fadeIn 0.4s ease-in-out;
        }

        main.active {
            display: grid;
            gap: 20px;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* --- Sections & Grid --- */
        .section-title {
            grid-column: 1 / -1;
            font-size: 1.25rem;
            color: var(--primary-blue);
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 10px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .grid-2 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
        }

        .grid-3 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        /* --- Cards --- */
        .card {
            background: var(--white);
            border-radius: var(--card-radius);
            box-shadow: var(--shadow);
            padding: 20px;
            transition: transform 0.2s, box-shadow 0.2s;
            position: relative;
            overflow: hidden;
        }

        .card:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-hover);
        }

        .card h3 {
            margin-bottom: 12px;
            font-size: 1.1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .card-content {
            font-size: 0.95rem;
            color: var(--text-light);
        }

        .highlight-list {
            list-style: none;
        }

        .highlight-list li {
            padding: 6px 0;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }

        .highlight-list li:last-child {
            border-bottom: none;
        }

        /* --- Visual Cues (Red/Green/Blue) --- */
        /* Red Flags / Emergency */
        .card.red-alert {
            border-left: 6px solid var(--alert-red);
            background: linear-gradient(to right, #fff, #fff5f5);
        }
        .card.red-alert h3 { color: var(--alert-red); }
        
        .action-badge-red {
            background: var(--alert-red);
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.75rem;
            text-transform: uppercase;
            font-weight: bold;
            letter-spacing: 0.5px;
        }

        /* Safe / Positive */
        .card.green-safe {
            border-left: 6px solid var(--success-green);
            background: linear-gradient(to right, #fff, #f1f8e9);
        }
        .card.green-safe h3 { color: var(--success-green); }

        .action-badge-green {
            background: var(--success-green);
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.75rem;
            text-transform: uppercase;
            font-weight: bold;
        }

        /* General / Info */
        .card.blue-info {
            border-left: 6px solid var(--primary-blue);
        }
        .card.blue-info h3 { color: var(--primary-blue); }

        /* --- Tables --- */
        .table-container {
            overflow-x: auto;
            background: white;
            border-radius: var(--card-radius);
            box-shadow: var(--shadow);
            grid-column: 1 / -1;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            min-width: 600px;
        }

        th, td {
            padding: 12px 16px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }

        th {
            background-color: var(--light-blue);
            color: var(--primary-blue);
            font-weight: 600;
        }

        tr:hover {
            background-color: #f8fbff;
        }

        /* --- Diagnostic Flow --- */
        .flow-step {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
            background: white;
            padding: 10px;
            border-radius: var(--card-radius);
            border: 1px solid #eee;
        }

        .step-number {
            background: var(--primary-blue);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            flex-shrink: 0;
        }

        /* --- Modal (Emergency Actions) --- */
        .modal-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.6);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 2000;
        }

        .modal {
            background: white;
            width: 90%;
            max-width: 500px;
            border-radius: var(--card-radius);
            padding: 25px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
            animation: slideUp 0.3s ease;
        }

        @keyframes slideUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .modal h2 {
            color: var(--alert-red);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .modal ul {
            margin: 15px 0;
            padding-left: 20px;
        }
        
        .modal li {
            margin-bottom: 8px;
            font-size: 1rem;
        }

        .modal-close {
            background: var(--neutral-gray);
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 600;
            float: right;
        }

        .emergency-btn {
            background: var(--alert-red);
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.85rem;
            margin-top: 10px;
            display: inline-flex;
            align-items: center;
            gap: 5px;
        }
        
        .emergency-btn:hover {
            background: #b71c1c;
        }

        /* --- Footer --- */
        footer {
            text-align: center;
            padding: 20px;
            color: var(--text-light);
            font-size: 0.85rem;
            margin-top: 20px;
            border-top: 1px solid #eee;
        }

        /* --- SVGs --- */
        .icon {
            width: 20px;
            height: 20px;
            fill: currentColor;
        }
    </style>
</head>
<body>

<header>
    <div class="brand">
        <h1>Neuroblastoma <span>QuickRef</span></h1>
    </div>
    <nav>
        <button class="active" onclick="switchTab('dashboard', this)">Overview</button>
        <button onclick="switchTab('diagnosis', this)">Diagnosis</button>
        <button onclick="switchTab('management', this)">Management</button>
    </nav>
</header>

<div class="search-container">
    <input type="text" class="search-input" placeholder="Quick search symptoms (e.g., 'Horner', 'mass', 'bone')..." id="searchBox" onkeyup="filterContent()">
</div>

<!-- OVERVIEW TAB -->
<main id="dashboard" class="active">
    
    <div class="section-title">
        <svg class="icon" viewBox="0 0 24 24"><path d="M12 2L2 7l10 5 10-5-10-5zm0 9l2.5-1.25L12 8.5l-2.5 1.25L12 11zm0 2.5l-5-2.5-5 2.5L12 22l10-8.5-5-2.5-5 2.5z"/></svg>
        Critical Red Flags (Emergencies)
    </div>
    
    <div class="grid-2">
        <div class="card red-alert">
            <h3>Spinal Cord Compression <span class="action-badge-red">Urgent</span></h3>
            <div class="card-content">
                <ul class="highlight-list">
                    <li><strong>Signs:</strong> Lower-extremity weakness, loss of bowel/bladder function, back pain.</li>
                    <li><strong>Cause:</strong> Tumour extension into spinal canal (dumbbell tumour).</li>
                    <li><button class="emergency-btn" onclick="showEmergencyModal('spinal')">View Action Plan</button></li>
                </ul>
            </div>
        </div>

        <div class="card red-alert">
            <h3>Superior Vena Cava (SVC) Syndrome <span class="action-badge-red">Urgent</span></h3>
            <div class="card-content">
                <ul class="highlight-list">
                    <li><strong>Signs:</strong> Dyspnoea, facial swelling, distended neck veins.</li>
                    <li><strong>Cause:</strong> Mass effect on vascular system (thoracic outlet).</li>
                    <li><button class="emergency-btn" onclick="showEmergencyModal('svc')">View Action Plan</button></li>
                </ul>
            </div>
        </div>

        <div class="card red-alert">
            <h3>Opsoclonus-Myoclonus Ataxia (OMA)</h3>
            <div class="card-content">
                <ul class="highlight-list">
                    <li><strong>Signs:</strong> Rapid "dancing" eye movements, rhythmic jerking of limbs/trunk, ataxia.</li>
                    <li><strong>Context:</strong> Paraneoplastic syndrome; nearly 50% with OMA have Neuroblastoma.</li>
                </ul>
            </div>
        </div>

        <div class="card red-alert">
            <h3>Orbital Metastases ("Panda Eyes")</h3>
            <div class="card-content">
                <ul class="highlight-list">
                    <li><strong>Signs:</strong> Periorbital ecchymosis (unilateral or bilateral).</li>
                    <li><strong>Implication:</strong> Indicates spread to orbits; high suspicion for bone mets.</li>
                </ul>
            </div>
        </div>
    </div>

    <div class="section-title" style="margin-top: 30px;">
        <svg class="icon" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/></svg>
        Clinical Presentation
    </div>

    <div class="grid-2">
        <div class="card blue-info">
            <h3>Common Symptoms</h3>
            <div class="card-content">
                <ul class="highlight-list">
                    <li><strong>Abdominal Mass:</strong> Most common symptom; palpable mass.</li>
                    <li><strong>Abdominal Distention/Constipation:</strong> Mass effect.</li>
                    <li><strong>Bone Pain:</strong> Indicates metastatic disease.</li>
                    <li><strong>Fatigue, Weight Loss, Fever:</strong> Systemic symptoms.</li>
                    <li><strong>Hypertension:</strong> Catecholamine excess or renal compromise.</li>
                </ul>
            </div>
        </div>

        <div class="card blue-info">
            <h3>Epidemiology & Origins</h3>
            <div class="card-content">
                <p><strong>Median Age:</strong> 17 months. Majority < 5 years.</p>
                <p><strong>Origin:</strong> Embryological neural crest.</p>
                <p><strong>Primary Sites:</strong> Adrenal gland (most common), Paraspinal ganglia (chest/abdomen), Neck, Pelvis.</p>
                <p><strong>% of Childhood Malignancies:</strong> ~8%. Most common extracranial solid tumour.</p>
            </div>
        </div>
    </div>

    <div class="section-title" style="margin-top: 30px;">
        <svg class="icon" viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/></svg>
        Risk Factors & Aetiology
    </div>
    <div class="card blue-info">
        <div class="grid-3">
            <div>
                <h4>Genetic Predisposition</h4>
                <ul>
                    <li>ALK gene alterations (Hereditary)</li>
                    <li>PHOX2B gene mutations</li>
                    <li>MYCN amplification (High-risk marker)</li>
                </ul>
            </div>
            <div>
                <h4>Associated Conditions</h4>
                <ul>
                    <li>Hirschsprung's disease</li>
                    <li>Neurofibromatosis type 1</li>
                    <li>Congenital Central Hypoventilation Syndrome</li>
                </ul>
            </div>
            <div>
                <h4>Note</h4>
                <p>1-2% have family history. No specific environmental exposure implicated.</p>
            </div>
        </div>
    </div>
</main>

<!-- DIAGNOSIS TAB -->
<main id="diagnosis">
    <div class="section-title">Diagnostic Workflow</div>

    <div class="card blue-info" style="margin-bottom: 20px;">
        <div class="flow-step">
            <div class="step-number">1</div>
            <div>
                <h4>Initial Workup (All Patients)</h4>
                <p>FBC (check for pancytopenia), Electrolytes (tumour lysis), Renal/Liver function.</p>
            </div>
        </div>
        <div class="flow-step">
            <div class="step-number">2</div>
            <div>
                <h4>Urine Catecholamines (Key)</h4>
                <p><strong>HVA (Homovanillic acid) & VMA (Vanillylmandelic acid).</strong> High sensitivity/specificity for Neuroblastoma. Secreted by majority of tumours.</p>
            </div>
        </div>
        <div class="flow-step">
            <div class="step-number">3</div>
            <div>
                <h4>Imaging</h4>
                <p><strong>Ultrasound</strong> (initial) &rarr; <strong>CT/MRI</strong> (primary site). If intraspinal extension suspected, MRI is preferred.</p>
            </div>
        </div>
        <div class="flow-step">
            <div class="step-number">4</div>
            <div>
                <h4>Metastases Evaluation</h4>
                <p><strong>123-I-MIBG Scintigraphy:</strong> Gold standard for bone/bone marrow mets. <br><strong>FDG-PET:</strong> Used if MIBG negative.</p>
            </div>
        </div>
        <div class="flow-step">
            <div class="step-number">5</div>
            <div>
                <h4>Biopsy & Tissue Confirmation</h4>
                <p>Definitive dx requires histology (tumour tissue) OR bone marrow aspiration + elevated urine catecholamines.</p>
            </div>
        </div>
    </div>

    <div class="section-title">International Neuroblastoma Risk Group Staging (INRGSS)</div>
    <div class="table-container">
        <table>
            <thead>
                <tr>
                    <th>Stage</th>
                    <th>Description</th>
                    <th>Key Characteristic</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>L1</strong></td>
                    <td>Localised tumour, not involving vital structures.</td>
                    <td>No Image-Defined Risk Factors (IDRFs).</td>
                </tr>
                <tr>
                    <td><strong>L2</strong></td>
                    <td>Local-regional tumour.</td>
                    <td>Presence of one or more IDRFs.</td>
                </tr>
                <tr>
                    <td><strong>M</strong></td>
                    <td>Distant metastatic disease.</td>
                    <td>Excludes stage MS.</td>
                </tr>
                <tr>
                    <td><strong>MS</strong></td>
                    <td>Metastatic disease in children < 18 months.</td>
                    <td>Mets confined to Skin, Liver, and/or Bone Marrow.</td>
                </tr>
            </tbody>
        </table>
    </div>
</main>

<!-- MANAGEMENT TAB -->
<main id="management">
    
    <div class="grid-2">
        <div class="card green-safe">
            <h3>Low Risk Disease</h3>
            <div class="card-content">
                <p><strong>Includes:</strong> Stage L1 (most), Stage MS (infants <12mo with favourable biology).</p>
                <hr style="margin: 10px 0; border:0; border-top:1px solid #ddd;">
                <ul class="highlight-list">
                    <li><strong>Surgery:</strong> Resection often curative.</li>
                    <li><strong>Observation:</strong> Viable for some infants (regression possible).</li>
                    <li><strong>Chemo:</strong> Generally not required unless symptomatic.</li>
                </ul>
            </div>
        </div>

        <div class="card red-alert">
            <h3>High Risk Disease</h3>
            <div class="card-content">
                <p><strong>Includes:</strong> MYCN amplification, Stage M in patients ≥18mo, Unfavourable histology.</p>
                <hr style="margin: 10px 0; border:0; border-top:1px solid #ddd;">
                <ul class="highlight-list">
                    <li><strong>Treatment:</strong> Intense multimodal therapy.</li>
                    <li><strong>Components:</strong> Induction chemo &rarr; Surgery &rarr; Consolidation (High-dose chemo + stem cell rescue) &rarr; Radiotherapy &rarr; Immunotherapy (anti-GD2) + Isotretinoin.</li>
                    <li><strong>Prognosis:</strong> Poor; survival low if relapsed/refractory.</li>
                </ul>
            </div>
        </div>
    </div>

    <div class="section-title" style="margin-top: 30px;">Image-Defined Risk Factors (IDRFs)</div>
    <div class="card blue-info">
        <div class="grid-3">
            <div>
                <h4>Neck/Cervicothoracic</h4>
                <ul>
                    <li>Tumour encasing carotid/vertebral artery</li>
                    <li>Extension to skull base</li>
                    <li>Compressing trachea</li>
                    <li>Encasing brachial plexus roots</li>
                </ul>
            </div>
            <div>
                <h4>Thorax</h4>
                <ul>
                    <li>Encasing aorta/branches</li>
                    <li>Compressing trachea/principal bronchi</li>
                    <li>Infiltrating costovertebral junction (T9-T12)</li>
                </ul>
            </div>
            <div>
                <h4>Abdomen/Pelvis</h4>
                <ul>
                    <li>Infiltrating porta hepatis</li>
                    <li>Encasing superior mesenteric artery</li>
                    <li>Invading renal pedicles</li>
                    <li>Intraspinal extension (>1/3 canal)</li>
                </ul>
            </div>
        </div>
    </div>
</main>

<footer>
    <p><strong>Disclaimer:</strong> This tool is for clinical reference only based on provided documents (BMJ Best Practice Jun 2025). Always verify with current guidelines and clinical judgment.</p>
</footer>

<!-- EMERGENCY MODAL -->
<div class="modal-overlay" id="emergencyModal" onclick="closeModal(event)">
    <div class="modal">
        <h2 id="modalTitle">Emergency Action</h2>
        <div id="modalContent">
            <!-- Dynamic Content -->
        </div>
        <button class="modal-close" onclick="closeModalBtn()">Close</button>
    </div>
</div>

<script>
    // Tab Switching Logic
    function switchTab(tabId, btn) {
        // Hide all mains
        document.querySelectorAll('main').forEach(el => el.classList.remove('active'));
        // Show selected
        document.getElementById(tabId).classList.add('active');
        
        // Update buttons
        document.querySelectorAll('nav button').forEach(el => el.classList.remove('active'));
        btn.classList.add('active');
    }

    // Search/Filter Logic
    function filterContent() {
        const query = document.getElementById('searchBox').value.toLowerCase();
        const cards = document.querySelectorAll('.card, .flow-step');

        cards.forEach(card => {
            const text = card.textContent.toLowerCase();
            if(text.includes(query)) {
                card.style.opacity = '1';
                card.style.transform = 'scale(1)';
            } else {
                card.style.opacity = query ? '0.3' : '1';
                card.style.transform = query ? 'scale(0.95)' : 'scale(1)';
            }
        });
    }

    // Emergency Modal Logic
    const modal = document.getElementById('emergencyModal');
    const modalTitle = document.getElementById('modalTitle');
    const modalContent = document.getElementById('modalContent');

    function showEmergencyModal(type) {
        modal.style.display = 'flex';
        
        if (type === 'spinal') {
            modalTitle.innerHTML = '<span style="font-size:1.5em">⚠</span> Spinal Cord Compression';
            modalContent.innerHTML = `
                <ul>
                    <li><strong>Immediate Neurosurgical Consultation</strong></li>
                    <li><strong>Urgent MRI Spine:</strong> To confirm extension.</li>
                    <li><strong>Corticosteroids:</strong> Dexamethasone to reduce edema.</li>
                    <li><strong>Chemotherapy:</strong> Often started rapidly to shrink tumour (especially in infants) before surgery.</li>
                </ul>
            `;
        } else if (type === 'svc') {
            modalTitle.innerHTML = '<span style="font-size:1.5em">⚠</span> SVC Syndrome';
            modalContent.innerHTML = `
                <ul>
                    <li><strong>Keep head elevated</strong> (sitting position).</li>
                    <li><strong>Oxygen supplementation</strong> if hypoxic.</li>
                    <li><strong>Urgent Oncology Review:</strong> Initiate chemotherapy or radiation to reduce mass effect.</li>
                    <li><strong>Avoid IV lines in arms/neck:</strong> Use femoral veins if central access needed.</li>
                </ul>
            `;
        }
    }

    function closeModal(e) {
        if (e.target === modal) {
            modal.style.display = 'none';
        }
    }

    function closeModalBtn() {
        modal.style.display = 'none';
    }
</script>

</body>
</html>