<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Acute Childhood Limp - Clinical Reference Tool</title>
    <style>
        :root {
            /* Clinical Color Palette */
            --color-red: #d32f2f;       /* Emergency / Red Flags */
            --color-red-bg: #ffebee;
            --color-green: #2e7d32;     /* Safe / Benign / Positive Action */
            --color-green-bg: #e8f5e9;
            --color-blue: #0288d1;      /* General Info / Neutral */
            --color-blue-bg: #e1f5fe;
            --color-text: #263238;
            --color-text-light: #546e7a;
            --color-bg: #f4f6f8;
            --color-card-bg: #ffffff;
            --border-radius: 8px;
            --shadow: 0 2px 4px rgba(0,0,0,0.05);
            --shadow-hover: 0 8px 16px rgba(0,0,0,0.1);
            --font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: var(--font-family);
            background-color: var(--color-bg);
            color: var(--color-text);
            line-height: 1.6;
        }

        /* --- Layout & Typography --- */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: white;
            padding: 20px 0;
            border-bottom: 1px solid #ddd;
            margin-bottom: 20px;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        h1 {
            font-size: 1.8rem;
            color: var(--color-text);
            font-weight: 700;
        }

        .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 50px;
            font-size: 0.85rem;
            font-weight: 600;
            background: var(--color-blue-bg);
            color: var(--color-blue);
        }

        h2 {
            font-size: 1.4rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        h3 {
            font-size: 1.1rem;
            margin-bottom: 10px;
            color: var(--color-text-light);
        }

        /* --- Utility Classes --- */
        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .grid-3 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .card {
            background: var(--color-card-bg);
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: var(--shadow);
            border: 1px solid #eee;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-hover);
        }

        /* --- Red Flag Section --- */
        .red-flag-banner {
            background: var(--color-red-bg);
            border-left: 6px solid var(--color-red);
            padding: 20px;
            border-radius: var(--border-radius);
            margin-bottom: 30px;
        }

        .red-flag-banner h2 {
            color: var(--color-red);
            margin-bottom: 10px;
        }

        .flag-list {
            list-style: none;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
        }

        .flag-list li {
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 500;
        }

        .icon-alert {
            width: 20px;
            height: 20px;
            fill: var(--color-red);
        }

        /* --- Tabs for Differential Diagnosis --- */
        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 2px solid #ddd;
            padding-bottom: 10px;
        }

        .tab-btn {
            background: none;
            border: none;
            padding: 10px 20px;
            font-size: 1rem;
            font-weight: 600;
            color: var(--color-text-light);
            cursor: pointer;
            border-radius: var(--border-radius);
            transition: background 0.2s;
        }

        .tab-btn.active {
            background: var(--color-blue);
            color: white;
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.3s ease-in-out;
        }

        .tab-content.active {
            display: block;
        }

        .diagnosis-item {
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }

        .diagnosis-item:last-child {
            border-bottom: none;
        }

        /* --- Management Flow --- */
        .flow-step {
            position: relative;
            padding-left: 30px;
            margin-bottom: 20px;
        }

        .flow-step::before {
            content: '';
            position: absolute;
            left: 0;
            top: 5px;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: var(--color-blue);
        }

        .flow-step.urgent::before {
            background: var(--color-red);
        }

        .action-box {
            background: var(--color-green-bg);
            border: 1px solid #c8e6c9;
            padding: 15px;
            border-radius: var(--border-radius);
            margin-top: 10px;
        }

        .action-box.urgent {
            background: var(--color-red-bg);
            border-color: #ffcdd2;
        }

        /* --- Interactive Assessment Checklist --- */
        .checklist-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            border-bottom: 1px solid #f0f0f0;
            cursor: pointer;
        }

        .checklist-item:hover {
            background-color: #fafafa;
        }

        .checklist-item input[type="checkbox"] {
            width: 18px;
            height: 18px;
            accent-color: var(--color-blue);
        }

        /* --- Footer --- */
        footer {
            margin-top: 50px;
            padding: 20px;
            background: #eceff1;
            text-align: center;
            font-size: 0.85rem;
            color: var(--color-text-light);
            border-top: 1px solid #ddd;
        }

        /* --- Animations --- */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* --- SVGs --- */
        .icon {
            width: 24px;
            height: 24px;
            stroke-width: 2;
            stroke: currentColor;
            fill: none;
            stroke-linecap: round;
            stroke-linejoin: round;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .grid-2, .grid-3 {
                grid-template-columns: 1fr;
            }
            .flag-list {
                grid-template-columns: 1fr;
            }
            .header-content {
                flex-direction: column;
                align-items: flex-start;
            }
        }
    </style>
</head>
<body>

    <!-- Header -->
    <header>
        <div class="container header-content">
            <div>
                <h1>Acute Childhood Limp</h1>
                <span class="badge">NICE CKS Reference</span>
                <span class="badge" style="background:#f5f5f5; color:#666;">Last revised: Sept 2025</span>
            </div>
            <button onclick="window.print()" style="padding: 8px 16px; border:1px solid #ccc; background:white; cursor:pointer; border-radius:4px;">
                Print Page
            </button>
        </div>
    </header>

    <main class="container">

        <!-- 1. CRITICAL RED FLAGS SECTION -->
        <section class="red-flag-banner" id="red-flags">
            <h2>
                <svg class="icon" viewBox="0 0 24 24" style="fill:var(--color-red); stroke:none;">
                    <path d="M12 2L1 21h22M12 9v6m0 4v.01"/>
                </svg>
                URGENT: Immediate Specialist Assessment Required
            </h2>
            <p style="margin-bottom: 15px;">Arrange <strong>urgent specialist assessment</strong> if the child presents with ANY of the following:</p>
            
            <ul class="flag-list">
                <li><span>ðŸ”´</span> Fever + inability to bear weight</li>
                <li><span>ðŸ”´</span> Pain waking child at night</li>
                <li><span>ðŸ”´</span> Redness, swelling, or joint stiffness</li>
                <li><span>ðŸ”´</span> Weight loss, anorexia, night sweats</li>
                <li><span>ðŸ”´</span> Unexplained rash or bruising</li>
                <li><span>ðŸ”´</span> Stiffness worse in the morning</li>
                <li><span>ðŸ”´</span> Severe pain/anxiety after trauma (Neurovascular?)</li>
                <li><span>ðŸ”´</span> Palpable mass</li>
                <li><span>ðŸ”´</span> Suspected Child Maltreatment</li>
                <li><span>ðŸ”´</span> Age < 3 years (Septic arthritis risk)</li>
                <li><span>ðŸ”´</span> Age > 9 years + hip pain/restriction (SUFE risk)</li>
            </ul>
        </section>

        <!-- 2. ASSESSMENT & DIFFERENTIAL DIAGNOSIS -->
        <div class="grid-2">
            
            <!-- Column 1: Assessment Checklist -->
            <section class="card">
                <h2>
                    <svg class="icon" viewBox="0 0 24 24">
                        <path d="M22 12h-4l-3 9L9 3l-3 9H2"/>
                    </svg>
                    Assessment Checklist
                </h2>
                <p style="font-size:0.9rem; color:#666; margin-bottom:15px;">Check items as you examine.</p>
                
                <div id="assessment-form">
                    <div class="checklist-item">
                        <input type="checkbox" id="c1" onchange="updateSafety()">
                        <label for="c1">Afebrile & Well looking</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="c2" onchange="updateSafety()">
                        <label for="c2">Weight bearing (albeit with limp)</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="c3" onchange="updateSafety()">
                        <label for="c3">History of recent viral illness</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="c4" onchange="updateSafety()">
                        <label for="c4">No history of significant trauma</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="c5" onchange="updateSafety()">
                        <label for="c5">No restricted hip movement (or mild restriction only)</label>
                    </div>
                </div>

                <div id="assessment-feedback" style="margin-top:15px; padding:10px; border-radius:4px; font-weight:bold; text-align:center; display:none;">
                    <!-- Dynamic feedback will appear here -->
                </div>
            </section>

            <!-- Column 2: Differential Diagnosis (Age Based) -->
            <section class="card">
                <h2>
                    <svg class="icon" viewBox="0 0 24 24">
                        <circle cx="12" cy="12" r="10"/>
                        <line x1="12" y1="16" x2="12" y2="12"/>
                        <line x1="12" y1="8" x2="12.01" y2="8"/>
                    </svg>
                    Differential by Age
                </h2>
                
                <div class="tabs">
                    <button class="tab-btn active" onclick="switchTab('age-0-3', this)">< 3 Years</button>
                    <button class="tab-btn" onclick="switchTab('age-3-10', this)">3â€“10 Years</button>
                    <button class="tab-btn" onclick="switchTab('age-10-plus', this)">10â€“18 Years</button>
                </div>

                <!-- < 3 Years Content -->
                <div id="age-0-3" class="tab-content active">
                    <div class="diagnosis-item">
                        <strong>Fracture / Toddler's Fracture</strong>
                        <p style="font-size:0.9rem; color:#555;">Undisplaced spiral tibia. Unwitnessed fall, new walker.</p>
                    </div>
                    <div class="diagnosis-item">
                        <strong>Developmental Dysplasia of the Hip (DDH)</strong>
                        <p style="font-size:0.9rem; color:#555;">Asymmetric skin folds, limited abduction.</p>
                    </div>
                    <div class="diagnosis-item">
                        <strong style="color:var(--color-red);">Septic Arthritis / Osteomyelitis</strong>
                        <p style="font-size:0.9rem; color:#555;">High risk in this age group. Transient synovitis is RARE.</p>
                    </div>
                </div>

                <!-- 3-10 Years Content -->
                <div id="age-3-10" class="tab-content">
                    <div class="diagnosis-item">
                        <strong style="color:var(--color-green);">Transient Synovitis (Toxic Synovitis)</strong>
                        <p style="font-size:0.9rem; color:#555;">Most common. Post-viral, well child, self-limiting.</p>
                    </div>
                    <div class="diagnosis-item">
                        <strong>Perthes' Disease</strong>
                        <p style="font-size:0.9rem; color:#555;">Avascular necrosis of femoral head. 5-7 yrs peak. Limp + knee/hip pain.</p>
                    </div>
                    <div class="diagnosis-item">
                        <strong>Fracture / Soft Tissue Injury</strong>
                        <p style="font-size:0.9rem; color:#555;">Stress fractures or trauma.</p>
                    </div>
                </div>

                <!-- 10+ Years Content -->
                <div id="age-10-plus" class="tab-content">
                    <div class="diagnosis-item">
                        <strong style="color:var(--color-red);">Slipped Upper Femoral Epiphysis (SUFE)</strong>
                        <p style="font-size:0.9rem; color:#555;">Obesity, male predominance. Hip/thigh/knee pain. Urgent ortho.</p>
                    </div>
                    <div class="diagnosis-item">
                        <strong>Osgood-Schlatter Disease</strong>
                        <p style="font-size:0.9rem; color:#555;">Tibial tuberosity pain. Anterior knee pain in sporty teens.</p>
                    </div>
                    <div class="diagnosis-item">
                        <strong>Sever's Disease</strong>
                        <p style="font-size:0.9rem; color:#555;">Calcaneal apophysitis. Heel pain.</p>
                    </div>
                </div>
            </section>
        </div>

        <!-- 3. MANAGEMENT SCENARIOS -->
        <h2>Management Pathway</h2>
        <div class="grid-3">
            
            <!-- Scenario A: Transient Synovitis -->
            <article class="card" style="border-top: 4px solid var(--color-green);">
                <h3 style="color:var(--color-green);">Suspected Transient Synovitis</h3>
                <p style="font-size:0.9rem; margin-bottom:10px;">If: Age 3-9, Well, Afebrile, Mobile & limping < 72hrs.</p>
                
                <div class="action-box">
                    <strong>Action:</strong>
                    <ul style="margin-left:20px; font-size:0.9rem;">
                        <li>Advice on rest & simple analgesia (Paracetamol/Ibuprofen).</li>
                        <li><strong>Safety Netting:</strong> Return to A&E immediately if fever develops or becomes unwell.</li>
                        <li>Review in 48â€“72 hours.</li>
                    </ul>
                </div>
            </article>

            <!-- Scenario B: Trauma -->
            <article class="card" style="border-top: 4px solid var(--color-blue);">
                <h3 style="color:var(--color-blue);">History of Trauma / Focal Tenderness</h3>
                <p style="font-size:0.9rem; margin-bottom:10px;">If: Injury reported or point tenderness on exam.</p>
                
                <div class="action-box" style="background:var(--color-blue-bg); border-color:#b3e5fc;">
                    <strong>Action:</strong>
                    <ul style="margin-left:20px; font-size:0.9rem;">
                        <li>Arrange same-day X-ray.</li>
                        <li>Consider child maltreatment if history inconsistent.</li>
                        <li>If limp persists with normal X-ray, refer to Paediatric Ortho.</li>
                    </ul>
                </div>
            </article>

            <!-- Scenario C: Uncertainty -->
            <article class="card" style="border-top: 4px solid orange;">
                <h3 style="color:orange;">Uncertain Diagnosis</h3>
                <p style="font-size:0.9rem; margin-bottom:10px;">If: Cause unclear, persistent limp, or recurrent episodes.</p>
                
                <div class="action-box" style="background:#fff3e0; border-color:#ffe0b2;">
                    <strong>Action:</strong>
                    <ul style="margin-left:20px; font-size:0.9rem;">
                        <li>Refer to Paediatric Orthopaedics or Rheumatology.</li>
                        <li>Urgency depends on clinical judgement.</li>
                    </ul>
                </div>
            </article>

        </div>

        <!-- 4. BACKGROUND INFO (Collapsible for Quick Scan) -->
        <section class="card">
            <h2>
                <svg class="icon" viewBox="0 0 24 24">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                    <polyline points="14 2 14 8 20 8"/>
                    <line x1="16" y1="13" x2="8" y2="13"/>
                    <line x1="16" y1="17" x2="8" y2="17"/>
                    <polyline points="10 9 9 9 8 9"/>
                </svg>
                Clinical Background & Definitions
            </h2>
            <details>
                <summary style="cursor:pointer; padding:10px; background:#eee; border-radius:4px; font-weight:600;">Click to expand details on definitions, prevalence, and examination.</summary>
                <div style="padding:15px; margin-top:10px; font-size:0.95rem;">
                    <h4>Definition</h4>
                    <p>A limp is an asymmetric gait. Antalgic gait (pain avoidance) is most common (short stance phase).</p>
                    <br>
                    <h4>Prevalence</h4>
                    <p>~2 in 1000 A&E visits. Mean age ~4-5 years. Male:Female 1.7:1.</p>
                    <br>
                    <h4>Examination (pGALS)</h4>
                    <ul style="margin-left:20px;">
                        <li><strong>Look:</strong> Gait, symmetry, swelling, scoliosis.</li>
                        <li><strong>Feel:</strong> Temperature, pulses, tenderness (spine/pelvis/testicles).</li>
                        <li><strong>Move:</strong> Range of motion (especially hips).</li>
                    </ul>
                </div>
            </details>
        </section>

    </main>

    <footer>
        <p>Content based on NICE Clinical Knowledge Summaries (CKS). Last revised September 2025.</p>
        <p>The content on the NICE Clinical Knowledge Summaries site (CKS) is the copyright of Clarity Informatics Limited (trading as Agilio Software Primary Care).</p>
        <p>This tool is for educational and reference purposes only. Always use clinical judgement.</p>
    </footer>

    <script>
        // Tab Switching Logic
        function switchTab(tabId, btnElement) {
            // Remove active class from all buttons
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Add active class to clicked button
            btnElement.classList.add('active');
            
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Show specific tab content
            document.getElementById(tabId).classList.add('active');
        }

        // Simple Assessment Logic
        function updateSafety() {
            const checkboxes = document.querySelectorAll('#assessment-form input[type="checkbox"]');
            const feedback = document.getElementById('assessment-feedback');
            let checkedCount = 0;
            
            checkboxes.forEach(box => {
                if(box.checked) checkedCount++;
            });

            if (checkedCount === 5) {
                feedback.style.display = 'block';
                feedback.style.backgroundColor = 'var(--color-green-bg)';
                feedback.style.color = 'var(--color-green)';
                feedback.innerHTML = "âœ” Clinical picture suggests Transient Synovitis (provided age 3-9). Consider conservative management.";
            } else if (checkedCount > 0) {
                feedback.style.display = 'none';
            }
        }
    </script>
</body>
</html>