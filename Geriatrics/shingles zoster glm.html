<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CKS Shingles Quick-Reference Tool</title>
    <style>
        :root {
            /* Clinical Color Palette */
            --color-danger: #d32f2f;      /* Red: Flags, Admit, Emergency */
            --color-danger-bg: #ffcdd2;
            --color-success: #2e7d32;     /* Green: Safe, Treat, Positive */
            --color-success-bg: #c8e6c9;
            --color-info: #0277bd;        /* Blue: Info, Diagnosis, Routine */
            --color-info-bg: #b3e5fc;
            --color-warning: #f9a825;     /* Yellow/Orange: Caution */
            --color-warning-bg: #fff9c4;
            
            --bg-body: #f0f2f5;
            --bg-card: #ffffff;
            --text-main: #333333;
            --text-muted: #666666;
            
            --shadow-card: 0 4px 6px rgba(0,0,0,0.05);
            --shadow-hover: 0 8px 15px rgba(0,0,0,0.1);
            --radius: 8px;
        }

        * { box-sizing: border-box; }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-body);
            color: var(--text-main);
            margin: 0;
            padding: 20px;
            line-height: 1.5;
        }

        /* --- Header --- */
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid #ddd;
        }

        h1 {
            margin: 0;
            font-size: 1.5rem;
            color: var(--text-main);
        }

        .subtitle {
            font-size: 0.9rem;
            color: var(--text-muted);
        }

        .last-updated {
            background: var(--color-info-bg);
            color: var(--color-info);
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: bold;
        }

        /* --- Grid Layout --- */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            gap: 20px;
            max-width: 1400px;
            margin: 0 auto;
        }

        /* --- Cards --- */
        .card {
            background: var(--bg-card);
            border-radius: var(--radius);
            box-shadow: var(--shadow-card);
            padding: 20px;
            transition: transform 0.2s, box-shadow 0.2s;
            border-top: 4px solid transparent;
            display: flex;
            flex-direction: column;
        }

        .card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-hover);
        }

        .card-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }

        .card-title {
            font-weight: 700;
            font-size: 1.1rem;
            margin: 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .card-content {
            flex-grow: 1;
        }

        /* --- Card Types (Modifiers) --- */
        .card-danger { border-top-color: var(--color-danger); }
        .card-danger .card-title { color: var(--color-danger); }
        .card-success { border-top-color: var(--color-success); }
        .card-success .card-title { color: var(--color-success); }
        .card-info { border-top-color: var(--color-info); }
        .card-info .card-title { color: var(--color-info); }
        .card-warning { border-top-color: var(--color-warning); }
        .card-warning .card-title { color: var(--color-warning); }

        /* --- Specific Grid Areas --- */
        .col-span-12 { grid-column: span 12; }
        .col-span-8 { grid-column: span 8; }
        .col-span-6 { grid-column: span 6; }
        .col-span-4 { grid-column: span 4; }

        @media (max-width: 1024px) {
            .col-span-8, .col-span-4, .col-span-6 { grid-column: span 12; }
        }

        /* --- Red Flags Alert Box --- */
        .alert-box {
            background: #ffebee;
            border: 1px solid #ef9a9a;
            border-radius: var(--radius);
            padding: 15px;
            color: #b71c1c;
        }
        .alert-box ul {
            margin: 10px 0 0 20px;
            padding: 0;
        }
        .alert-box li { margin-bottom: 5px; }

        /* --- Lists & Tables --- */
        ul.checklist {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        ul.checklist li {
            padding: 8px 0;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
            align-items: flex-start;
        }
        ul.checklist li:last-child { border-bottom: none; }
        .icon-check { color: var(--color-success); margin-right: 10px; flex-shrink: 0; }
        .icon-alert { color: var(--color-danger); margin-right: 10px; flex-shrink: 0; }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
        }
        th, td {
            text-align: left;
            padding: 10px;
            border-bottom: 1px solid #eee;
        }
        th { background-color: #f9f9f9; color: var(--text-muted); }
        tr:hover { background-color: #fafafa; }

        /* --- Interactive Chips --- */
        .chip-container { display: flex; flex-wrap: wrap; gap: 8px; }
        .chip {
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 600;
        }
        .chip-green { background: var(--color-success-bg); color: var(--color-success); }
        .chip-blue { background: var(--color-info-bg); color: var(--color-info); }
        .chip-red { background: var(--color-danger-bg); color: var(--color-danger); }

        /* --- Tabs --- */
        .tab-container {
            margin-top: 20px;
            border-top: 1px solid #ddd;
            padding-top: 20px;
        }
        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            border-bottom: 2px solid #ddd;
        }
        .tab-btn {
            background: none;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            font-weight: 600;
            color: var(--text-muted);
            border-bottom: 3px solid transparent;
            margin-bottom: -2px;
            transition: all 0.2s;
        }
        .tab-btn:hover { color: var(--color-info); }
        .tab-btn.active {
            color: var(--color-info);
            border-bottom: 3px solid var(--color-info);
        }
        .tab-content {
            display: none;
            animation: fadeIn 0.3s ease;
        }
        .tab-content.active { display: block; }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* --- Icons (SVG) --- */
        svg {
            width: 20px;
            height: 20px;
            fill: currentColor;
        }

        /* --- Helper Classes --- */
        .text-bold { font-weight: bold; }
        .text-sm { font-size: 0.85rem; }
        .mt-10 { margin-top: 10px; }
    </style>
</head>
<body>

    <header>
        <div>
            <h1>Shingles (Herpes Zoster) CKS Reference</h1>
            <div class="subtitle">Management of Acute Shingles | Primary Care | NHS UK</div>
        </div>
        <div class="last-updated">
            Revised: May 2025
        </div>
    </header>

    <main class="dashboard-grid">

        <!-- RED FLAG SECTION -->
        <section class="card card-danger col-span-12" style="border: 2px solid var(--color-danger);">
            <div class="card-header">
                <div class="card-title">
                    <svg viewBox="0 0 24 24"><path d="M12 2L1 21h22M12 6l.01 10-2-10M11 16h2v2h-2z"/></svg>
                    IMMEDIATE ACTIONS / RED FLAGS
                </div>
            </div>
            <div class="card-content">
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                    <div>
                        <strong>Admit to Hospital (Severe/Systemic):</strong>
                        <ul class="checklist mt-10">
                            <li><span class="icon-alert">‚ö†</span> Disseminated zoster (affecting >2 dermatomes)</li>
                            <li><span class="icon-alert">‚ö†</span> Ophthalmic involvement with reduced visual acuity</li>
                            <li><span class="icon-alert">‚ö†</span> Meningoencephalitis or myelitis symptoms</li>
                            <li><span class="icon-alert">‚ö†</span> Severely immunosuppressed & unwell</li>
                        </ul>
                    </div>
                    <div>
                        <strong>Same-Day Specialist Referral:</strong>
                        <ul class="checklist mt-10">
                            <li><span class="icon-alert">‚ö†</span> Ophthalmic Zoster (Hutchinson's sign: rash on tip of nose)</li>
                            <li><span class="icon-alert">‚ö†</span> Ramsay Hunt Syndrome (facial paralysis, ear lesions)</li>
                            <li><span class="icon-alert">‚ö†</span> Shingles in pregnancy (refer to Obs/Gynae)</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- DIAGNOSIS & CHECK -->
        <section class="card card-info col-span-4">
            <div class="card-header">
                <div class="card-title">
                    <svg viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/></svg>
                    Diagnosis Checklist
                </div>
            </div>
            <div class="card-content">
                <p class="text-sm text-muted">Diagnose clinically. Investigations rarely needed.</p>
                <ul class="checklist mt-10">
                    <li><span class="icon-check">‚úî</span> <strong>Prodrome:</strong> Pain/tingling 2-3 days pre-rash.</li>
                    <li><span class="icon-check">‚úî</span> <strong>Rash:</strong> Unilateral, dermatomal, maculopapular ‚Üí vesicles ‚Üí crusts.</li>
                    <li><span class="icon-check">‚úî</span> <strong>Pain:</strong> Burning, stabbing, throbbing in specific area.</li>
                    <li><span class="icon-check">‚úî</span> <strong>History:</strong> Previous chickenpox (VZV reactivation).</li>
                </ul>
                <div class="mt-10">
                    <strong>Common Differentials:</strong>
                    <div class="chip-container">
                        <span class="chip chip-blue">HSV Simplex</span>
                        <span class="chip chip-blue">Contact Dermatitis</span>
                        <span class="chip chip-blue">Impetigo</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- MANAGEMENT MATRIX -->
        <section class="card card-success col-span-4">
            <div class="card-header">
                <div class="card-title">
                    <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
                    Who to Treat (Antivirals)
                </div>
            </div>
            <div class="card-content">
                <p class="text-sm text-muted">Offer oral antivirals if presenting within 72h of rash onset (or >72h if new lesions forming).</p>
                
                <div class="alert-box mt-10" style="background-color: var(--color-success-bg); border-color: var(--color-success); color: var(--color-success);">
                    <strong>START ANTIVIRALS IF:</strong>
                    <ul>
                        <li>Aged 50 years or over</li>
                        <li>Immunocompromised (even if mild)</li>
                        <li>Severe pain or rash (head/neck)</li>
                        <li>Atopic dermatitis (risk of superinfection)</li>
                    </ul>
                </div>
                <div class="mt-10 text-sm">
                    <em>Note: For healthy 18-49s, antivirals are not routinely required unless rash is severe or pain is moderate-severe.</em>
                </div>
            </div>
        </section>

        <!-- PRESCRIBING TABLE -->
        <section class="card card-info col-span-4">
            <div class="card-header">
                <div class="card-title">
                    <svg viewBox="0 0 24 24"><path d="M21 5c-1.11-.35-2.33-.5-3.5-.5-1.95 0-4.05.4-5.5 1.5-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5V6c-.6-.45-1.25-.75-2-1zm0 13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5v11.5z"/></svg>
                    Antiviral Choices
                </div>
            </div>
            <div class="card-content">
                <table>
                    <thead>
                        <tr>
                            <th>Drug</th>
                            <th>Dose (5-7 days)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Aciclovir</strong></td>
                            <td>800mg 5x daily</td>
                        </tr>
                        <tr>
                            <td><strong>Valaciclovir</strong></td>
                            <td>1g 3x daily</td>
                        </tr>
                        <tr>
                            <td><strong>Famciclovir</strong></td>
                            <td>250mg (not 500mg) 3x daily</td>
                        </tr>
                    </tbody>
                </table>
                <p class="text-sm text-muted mt-10">Ensure adequate hydration. Adjust dose for renal impairment.</p>
            </div>
        </section>

        <!-- PAIN MANAGEMENT -->
        <section class="card card-success col-span-6">
            <div class="card-header">
                <div class="card-title">
                    <svg viewBox="0 0 24 24"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/></svg>
                    Pain Management
                </div>
            </div>
            <div class="card-content">
                <div style="display: flex; flex-direction: column; gap: 10px;">
                    <div style="padding: 10px; background: #f1f8e9; border-radius: 6px;">
                        <strong>First Line:</strong> Paracetamol or NSAID (e.g., Ibuprofen) if not contraindicated.
                    </div>
                    <div style="padding: 10px; background: #f1f8e9; border-radius: 6px;">
                        <strong>Second Line:</strong> Add weak opioid (e.g., Co-codamol) if pain uncontrolled.
                    </div>
                    <div style="padding: 10px; background: var(--color-info-bg); border-radius: 6px; border: 1px dashed var(--color-info);">
                        <strong>Neuropathic Pain:</strong> If pain is severe or features are neuropathic, consider amitriptyline, gabapentin, or pregabalin. <br>
                        <em>(See CKS topic on Neuropathic Pain)</em>
                    </div>
                </div>
            </div>
        </section>

        <!-- VACCINATION / PREVENTION -->
        <section class="card card-info col-span-6">
            <div class="card-header">
                <div class="card-title">
                    <svg viewBox="0 0 24 24"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/></svg>
                    Vaccination Advice
                </div>
            </div>
            <div class="card-content">
                <p>Shingles vaccine (Shingrix¬Æ non-live) is now part of the routine immunization programme.</p>
                <ul class="checklist mt-10">
                    <li><span class="icon-check">‚úî</span> Eligible age groups have expanded (check current UKHSA schedule).</li>
                    <li><span class="icon-check">‚úî</span> Severely immunosuppressed individuals (18+) are eligible.</li>
                    <li><span class="icon-alert">‚ö†</span> Do not give live vaccine (Zostavax) to immunosuppressed.</li>
                </ul>
            </div>
        </section>

        <!-- TABS FOR DETAILED INFO -->
        <section class="col-span-12 tab-container">
            <div class="tabs">
                <button class="tab-btn active" onclick="openTab(event, 'bg')">Background & Complications</button>
                <button class="tab-btn" onclick="openTab(event, 'changes')">Recent Changes</button>
                <button class="tab-btn" onclick="openTab(event, 'ref')">References</button>
            </div>

            <div id="bg" class="tab-content active">
                <div class="card card-info">
                    <h3>Complications to Watch For</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                        <div>
                            <strong>Post-Herpetic Neuralgia (PHN)</strong>
                            <p class="text-sm text-muted">Pain persisting >90 days. Most common in older people. Risk increases with age.</p>
                        </div>
                        <div>
                            <strong>Bacterial Superinfection</strong>
                            <p class="text-sm text-muted">Usually Staph or Strep. Can cause cellulitis, necrotizing fasciitis.</p>
                        </div>
                        <div>
                            <strong>Motor Neuropathy</strong>
                            <p class="text-sm text-muted">Loss of movement in affected area (5-15% of cases).</p>
                        </div>
                        <div>
                            <strong>CNS Involvement</strong>
                            <p class="text-sm text-muted">Encephalitis, myelitis, stroke risk (higher in first year after zoster).</p>
                        </div>
                    </div>
                </div>
            </div>

            <div id="changes" class="tab-content">
                <div class="card card-warning">
                    <h3>Update History (May 2025)</h3>
                    <ul class="checklist">
                        <li><span>üìù</span> <strong>May 2025:</strong> QOF indicators updated for 2025/26. Vaccination eligibility expansion noted.</li>
                        <li><span>üìù</span> <strong>Nov 2024:</strong> Added link for specialist management of head/neck shingles.</li>
                        <li><span>üìù</span> <strong>Sept 2024:</strong> Added info on Zostavax recipients who became immunosuppressed later.</li>
                    </ul>
                </div>
            </div>

            <div id="ref" class="tab-content">
                <div class="card card-info">
                    <h3>References</h3>
                    <ul class="checklist">
                        <li>[UKHSA, 2024] Immunisation against infectious disease (Green book)</li>
                        <li>[Gross, 2020] German consensus guideline S2k (Diagnosis and treatment)</li>
                        <li>[BMJ Best Practice, 2024a] Herpes zoster guide</li>
                        <li>[Dworkin, 2007] Recommendations for management of herpes zoster</li>
                    </ul>
                    <p class="text-sm text-muted mt-10">This tool is based on the CKS topic last revised in May 2025.</p>
                </div>
            </div>
        </section>

    </main>

    <script>
        // Tab Switching Logic
        function openTab(evt, tabName) {
            var i, tabContent, tabBtn;
            
            // Hide all tab content
            tabContent = document.getElementsByClassName("tab-content");
            for (i = 0; i < tabContent.length; i++) {
                tabContent[i].style.display = "none";
                tabContent[i].classList.remove("active");
            }
            
            // Remove active class from all buttons
            tabBtn = document.getElementsByClassName("tab-btn");
            for (i = 0; i < tabBtn.length; i++) {
                tabBtn[i].className = tabBtn[i].className.replace(" active", "");
            }
            
            // Show the current tab and add active class to button
            document.getElementById(tabName).style.display = "block";
            setTimeout(() => {
                document.getElementById(tabName).classList.add("active");
            }, 10);
            evt.currentTarget.className += " active";
        }

        // Add subtle interactivity to cards
        document.querySelectorAll('.card').forEach(card => {
            card.addEventListener('mouseenter', () => {
                card.style.borderColor = 'rgba(0,0,0,0.1)';
            });
            card.addEventListener('mouseleave', () => {
                card.style.borderColor = 'transparent';
                // Reset border color based on class logic if needed, 
                // but since we use border-top, this is mainly visual flair
            });
        });
    </script>
</body>
</html>