<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assessment of Tremor - Interactive Algorithm</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #e6f7ff 0%, #f0f8ff 100%);
            color: #2c3e50;
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            display: flex;
            gap: 25px;
        }

        .main-content {
            flex: 1;
            padding: 25px;
        }

        .header {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.5);
            color: #2c3e50;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(31, 38, 135, 0.1);
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #3498db, #2ecc71, #f1c40f, #e74c3c);
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            color: #2c3e50;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
            color: #34495e;
        }

        .section-card {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.5);
            border-radius: 15px;
            margin-bottom: 25px;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(0,0,0,0.05);
        }

        .section-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 30px rgba(0,0,0,0.1);
        }

        .section-header {
            padding: 25px;
            display: flex;
            align-items: center;
            gap: 20px;
            position: relative;
            background: rgba(255, 255, 255, 0.6);
        }

        .section-header.assessment {
            border-left: 5px solid #3498db;
        }

        .section-header.diagnosis {
            border-left: 5px solid #e74c3c;
        }

        .section-header.treatment {
            border-left: 5px solid #2ecc71;
        }

        .section-header.followup {
            border-left: 5px solid #f39c12;
        }

        .section-icon {
            width: 50px;
            height: 50px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            transition: all 0.3s ease;
        }

        .section-card:hover .section-icon {
            transform: scale(1.1);
            box-shadow: 0 6px 15px rgba(0,0,0,0.1);
        }

        .assessment .section-icon { color: #3498db; }
        .diagnosis .section-icon { color: #e74c3c; }
        .treatment .section-icon { color: #2ecc71; }
        .followup .section-icon { color: #f39c12; }

        .section-title {
            flex: 1;
        }

        .section-title h2 {
            font-size: 1.8em;
            margin-bottom: 5px;
            color: #2c3e50;
        }

        .section-title p {
            color: #7f8c8d;
            font-size: 0.95em;
        }

        .expand-icon {
            font-size: 24px;
            color: #95a5a6;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: rgba(236, 240, 241, 0.5);
        }

        .section-card.expanded .expand-icon {
            transform: rotate(180deg);
            color: #3498db;
            background: rgba(52, 152, 219, 0.1);
        }

        .section-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s cubic-bezier(0.165, 0.84, 0.44, 1);
            background: rgba(255, 255, 255, 0.7);
        }

        .section-card.expanded .section-content {
            max-height: 3000px;
        }

        .content-inner {
            padding: 0 25px 25px;
        }

        .subsection {
            margin-bottom: 25px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 10px;
            border-left: 4px solid #3498db;
            transition: all 0.3s ease;
            box-shadow: 0 2px 10px rgba(0,0,0,0.03);
        }

        .subsection:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        .subsection h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.3em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .subsection h3::before {
            content: '‚û§';
            color: #3498db;
            font-size: 0.8em;
            transition: transform 0.3s ease;
        }

        .subsection:hover h3::before {
            transform: translateX(3px);
        }

        .subsection ul {
            list-style: none;
            padding-left: 0;
        }

        .subsection li {
            padding: 8px 0;
            padding-left: 25px;
            position: relative;
            transition: all 0.2s ease;
        }

        .subsection li:hover {
            background: rgba(236, 240, 241, 0.3);
            padding-left: 28px;
        }

        .subsection li::before {
            content: '‚ñ∏';
            position: absolute;
            left: 0;
            color: #3498db;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .subsection li:hover::before {
            transform: scale(1.2);
            color: #2c3e50;
        }

        .severity-badges {
            display: flex;
            gap: 10px;
            margin: 15px 0;
            flex-wrap: wrap;
        }

        .badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 5px;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        .badge:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        .badge.urgent {
            background: linear-gradient(135deg, #ff9e9e, #e74c3c);
            color: white;
        }

        .badge.caution {
            background: linear-gradient(135deg, #ffeca7, #f1c40f);
            color: #2c3e50;
        }

        .badge.stable {
            background: linear-gradient(135deg, #a9f1aa, #2ecc71);
            color: white;
        }

        .badge.info {
            background: linear-gradient(135deg, #a3d5ff, #3498db);
            color: white;
        }

        .info-box {
            background: rgba(236, 240, 241, 0.6);
            border-left: 4px solid #3498db;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        .info-box:hover {
            background: rgba(236, 240, 241, 0.8);
            transform: translateY(-2px);
        }

        .warning-box {
            background: rgba(253, 242, 233, 0.6);
            border-left: 4px solid #e67e22;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        .warning-box:hover {
            background: rgba(253, 242, 233, 0.8);
            transform: translateY(-2px);
        }

        .danger-box {
            background: rgba(250, 219, 216, 0.6);
            border-left: 4px solid #e74c3c;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        .danger-box:hover {
            background: rgba(250, 219, 216, 0.8);
            transform: translateY(-2px);
        }

        .progress-sidebar {
            width: 300px;
            position: sticky;
            top: 20px;
            height: fit-content;
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.5);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 8px 32px rgba(31, 38, 135, 0.1);
        }

        .progress-title {
            font-size: 1.3em;
            font-weight: 600;
            margin-bottom: 20px;
            color: #2c3e50;
            display: flex;
            align-items: center;
            gap: 10px;
            padding-bottom: 10px;
            border-bottom: 2px solid rgba(52, 152, 219, 0.2);
        }

        .progress-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            margin-bottom: 8px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            background: rgba(236, 240, 241, 0.4);
        }

        .progress-item:hover {
            background: rgba(236, 240, 241, 0.7);
            transform: translateX(5px);
        }

        .progress-item.active {
            background: rgba(52, 152, 219, 0.15);
            font-weight: 600;
            transform: translateX(10px);
        }

        .progress-item.completed {
            background: rgba(46, 204, 113, 0.15);
        }

        .progress-icon {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            background: rgba(255, 255, 255, 0.7);
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            transition: all 0.3s ease;
        }

        .progress-item:hover .progress-icon {
            transform: scale(1.1);
        }

        .progress-item.active .progress-icon {
            background: #3498db;
            color: white;
            transform: scale(1.1);
        }

        .progress-item.completed .progress-icon {
            background: #2ecc71;
            color: white;
        }

        .progress-bar {
            height: 6px;
            background: rgba(236, 240, 241, 0.7);
            border-radius: 3px;
            margin: 20px 0;
            overflow: hidden;
            box-shadow: inset 0 1px 2px rgba(0,0,0,0.05);
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #3498db, #2ecc71);
            width: 0%;
            transition: width 0.5s cubic-bezier(0.165, 0.84, 0.44, 1);
            border-radius: 3px;
        }

        .progress-percentage {
            text-align: center;
            font-weight: 600;
            color: #3498db;
            font-size: 1.2em;
            margin-top: 10px;
        }

        @media (max-width: 1200px) {
            .container {
                flex-direction: column;
            }
            
            .progress-sidebar {
                width: 100%;
                position: relative;
                top: 0;
                margin-bottom: 20px;
            }
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8em;
            }
            
            .section-title h2 {
                font-size: 1.5em;
            }
            
            .section-header {
                padding: 20px;
            }
            
            .content-inner {
                padding: 0 20px 20px;
            }
        }

        .fade-in {
            animation: fadeIn 0.6s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .floating {
            animation: floating 3s ease-in-out infinite;
        }

        @keyframes floating {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-8px); }
            100% { transform: translateY(0px); }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="main-content">
            <div class="header fade-in">
                <h1>
                    <span class="floating">üß†</span>
                    Assessment of Tremor
                    <span class="floating">ü§ö</span>
                </h1>
                <p>Interactive Clinical Decision Support Algorithm | BMJ Best Practice Guidelines</p>
            </div>

            <!-- Assessment Section -->
            <div class="section-card fade-in" data-section="assessment">
                <div class="section-header assessment">
                    <div class="section-icon">üîç</div>
                    <div class="section-title">
                        <h2>Assessment</h2>
                        <p>Initial evaluation and classification of tremor</p>
                    </div>
                    <div class="expand-icon">‚ñº</div>
                </div>
                <div class="section-content">
                    <div class="content-inner">
                        <div class="subsection">
                            <h3>üéØ Differentiate Tremor from Other Movements</h3>
                            <ul>
                                <li><strong>Tremor:</strong> Rhythmic, oscillatory movement</li>
                                <li><strong>Myoclonus:</strong> Brief shock-like jerks (irregular)</li>
                                <li><strong>Chorea:</strong> Random, flowing movements</li>
                                <li><strong>Dystonia:</strong> Sustained muscle contractions with abnormal posturing</li>
                                <li><strong>Clonus:</strong> Rapidly alternating contractions (often elicited)</li>
                                <li><strong>Tics:</strong> Stereotyped, suppressible movements</li>
                            </ul>
                        </div>

                        <div class="subsection">
                            <h3>üìã Key History Points</h3>
                            <ul>
                                <li><strong>Tremor type:</strong> Rest vs. Action (postural, kinetic, intention)</li>
                                <li><strong>Onset:</strong> Sudden (consider functional) vs. Gradual</li>
                                <li><strong>Age:</strong> &lt;40 years (consider Wilson's disease)</li>
                                <li><strong>Distribution:</strong> Symmetrical (ET) vs. Asymmetrical (PD)</li>
                                <li><strong>Exacerbating factors:</strong> Stress, anxiety, caffeine, fatigue</li>
                                <li><strong>Alleviating factors:</strong> Alcohol response (ET, dystonic tremor)</li>
                                <li><strong>Family history:</strong> Essential tremor (autosomal dominant)</li>
                                <li><strong>Drug history:</strong> Antipsychotics, antidepressants, lithium, valproate, beta-agonists</li>
                                <li><strong>Social history:</strong> Alcohol use, caffeine intake, toxin exposure</li>
                            </ul>
                        </div>

                        <div class="subsection">
                            <h3>üëÅÔ∏è Observation & Examination</h3>
                            <ul>
                                <li><strong>Rest tremor:</strong> Observe hands in lap, arms at sides</li>
                                <li><strong>Postural tremor:</strong> Arms outstretched, hands elevated</li>
                                <li><strong>Kinetic tremor:</strong> Finger-to-nose testing, pouring water</li>
                                <li><strong>Functional signs:</strong> Distractibility, entrainment, give-way weakness</li>
                                <li><strong>Parkinsonian features:</strong> Bradykinesia, rigidity, reduced arm swing</li>
                                <li><strong>Cerebellar signs:</strong> Ataxia, dysmetria, dysarthria</li>
                                <li><strong>Cognitive assessment:</strong> Memory, executive function</li>
                                <li><strong>Eye movements:</strong> Vertical gaze palsy (PSP), nystagmus (MSA)</li>
                                <li><strong>Gait:</strong> Shuffling (PD), ataxic (MSA, cerebellar)</li>
                            </ul>
                        </div>

                        <div class="danger-box">
                            <strong>üö® Urgent Red Flags:</strong> Sudden onset with neurological deficits, severe alcohol withdrawal, thyrotoxicosis symptoms, hypoglycemia
                        </div>
                    </div>
                </div>
            </div>

            <!-- Diagnosis Section -->
            <div class="section-card fade-in" data-section="diagnosis">
                <div class="section-header diagnosis">
                    <div class="section-icon">üî¨</div>
                    <div class="section-title">
                        <h2>Diagnosis</h2>
                        <p>Differential diagnosis and investigations</p>
                    </div>
                    <div class="expand-icon">‚ñº</div>
                </div>
                <div class="section-content">
                    <div class="content-inner">
                        <div class="subsection">
                            <h3>üéØ Tremor Classification</h3>
                            <div class="severity-badges">
                                <span class="badge info">Rest Tremor</span>
                                <span class="badge info">Action Tremor</span>
                                <span class="badge info">Mixed Tremor</span>
                            </div>
                        </div>

                        <div class="subsection">
                            <h3>üî¥ Common Diagnoses - Rest Tremor</h3>
                            
                            <div class="danger-box">
                                <strong>Parkinson's Disease (PD)</strong>
                                <div class="severity-badges">
                                    <span class="badge urgent">Asymmetrical rest tremor</span>
                                    <span class="badge urgent">Bradykinesia & rigidity</span>
                                    <span class="badge stable">Good levodopa response</span>
                                </div>
                                <ul>
                                    <li>Median onset age: 58-62 years</li>
                                    <li>Unilateral onset typical</li>
                                    <li>Associated features: Micrographia, hyposmia, RBD, constipation</li>
                                    <li>Diagnosis: Clinical (levodopa trial), DaTscan if atypical</li>
                                </ul>
                            </div>

                            <div class="warning-box">
                                <strong>Dementia with Lewy Bodies (DLB)</strong>
                                <div class="severity-badges">
                                    <span class="badge urgent">Cognitive impairment & parkinsonism within 1 year</span>
                                    <span class="badge caution">Visual hallucinations</span>
                                    <span class="badge caution">Fluctuating cognition</span>
                                </div>
                                <ul>
                                    <li>Cognitive changes precede or accompany motor symptoms</li>
                                    <li>Neuroleptic sensitivity</li>
                                    <li>Investigations: Rule out reversible causes (B12, TSH)</li>
                                </ul>
                            </div>

                            <div class="warning-box">
                                <strong>Drug-Induced Parkinsonism</strong>
                                <div class="severity-badges">
                                    <span class="badge caution">Dopamine receptor blockers</span>
                                    <span class="badge info">Antipsychotics, antiemetics</span>
                                </div>
                                <ul>
                                    <li>Metoclopramide, prochlorperazine, promethazine</li>
                                    <li>Tetrabenazine (dopamine depleter)</li>
                                    <li>Often reversible with discontinuation</li>
                                </ul>
                            </div>
                        </div>

                        <div class="subsection">
                            <h3>üü° Common Diagnoses - Action Tremor</h3>
                            
                            <div class="info-box">
                                <strong>Enhanced Physiological Tremor</strong>
                                <div class="severity-badges">
                                    <span class="badge stable">High-frequency postural/kinetic</span>
                                    <span class="badge info">Reversible cause</span>
                                </div>
                                <ul>
                                    <li>Triggers: Caffeine, stress, fatigue, medications</li>
                                    <li>Metabolic: Hyperthyroidism, hypoglycemia, pheochromocytoma</li>
                                    <li>Withdrawal: Alcohol, benzodiazepines</li>
                                </ul>
                            </div>

                            <div class="warning-box">
                                <strong>Essential Tremor (ET) / ET Plus</strong>
                                <div class="severity-badges">
                                    <span class="badge caution">Bilateral action tremor (4-12 Hz)</span>
                                    <span class="badge info">Hands, head, voice involvement</span>
                                    <span class="badge stable">Alcohol responsive</span>
                                </div>
                                <ul>
                                    <li>Family history in ~50% (autosomal dominant)</li>
                                    <li>No other neurological signs (ET) OR subtle signs (ET Plus)</li>
                                    <li>May have resting tremor in longstanding disease</li>
                                    <li>Investigations: TSH (rule out thyrotoxicosis), ceruloplasmin if &lt;40yrs</li>
                                </ul>
                            </div>

                            <div class="warning-box">
                                <strong>Cerebellar Tremor</strong>
                                <div class="severity-badges">
                                    <span class="badge caution">Intention tremor with ataxia</span>
                                    <span class="badge info">MS, stroke, trauma</span>
                                </div>
                                <ul>
                                    <li>Coarse irregular kinetic tremor</li>
                                    <li>Associated with dysmetria, dysarthria, wide-based gait</li>
                                    <li>Imaging: MRI to identify lesion</li>
                                </ul>
                            </div>
                        </div>

                        <div class="subsection">
                            <h3>üü¢ Less Common Diagnoses</h3>
                            
                            <div class="info-box">
                                <strong>Multiple System Atrophy (MSA)</strong>
                                <ul>
                                    <li>Autonomic dysfunction (orthostatic hypotension, urinary urgency)</li>
                                    <li>Poor levodopa response</li>
                                    <li>Imaging: Putaminal changes, cerebellar atrophy</li>
                                </ul>
                            </div>

                            <div class="info-box">
                                <strong>Progressive Supranuclear Palsy (PSP)</strong>
                                <ul>
                                    <li>Early falls, vertical gaze palsy</li>
                                    <li>Axial rigidity, dysarthria</li>
                                    <li>Imaging: "Hummingbird sign" (midbrain atrophy)</li>
                                </ul>
                            </div>

                            <div class="warning-box">
                                <strong>Wilson's Disease</strong>
                                <div class="severity-badges">
                                    <span class="badge urgent">&lt;40 years old</span>
                                    <span class="badge caution">Kayser-Fleischer rings</span>
                                </div>
                                <ul>
                                    <li>Copper metabolism disorder</li>
                                    <li>Tremor + dysarthria + dystonia + psychiatric symptoms</li>
                                    <li>Investigations: Ceruloplasmin, 24hr urine copper, slit-lamp exam</li>
                                </ul>
                            </div>

                            <div class="info-box">
                                <strong>Fragile X Tremor Ataxia Syndrome (FXTAS)</strong>
                                <ul>
                                    <li>&gt;60 years, males &gt; females</li>
                                    <li>Intention tremor + ataxia + cognitive impairment</li>
                                    <li>Family history: Premature ovarian failure, intellectual disability</li>
                                    <li>Genetic testing: FMR1 premutation</li>
                                </ul>
                            </div>

                            <div class="info-box">
                                <strong>Dystonic Tremor</strong>
                                <ul>
                                    <li>Tremor in body part affected by dystonia</li>
                                    <li>Irregular, jerky, directional quality</li>
                                    <li>May have "null point" where tremor disappears</li>
                                    <li>Sensory tricks (geste antagoniste) may help</li>
                                </ul>
                            </div>
                        </div>

                        <div class="subsection">
                            <h3>üî¨ Investigations</h3>
                            <div class="severity-badges">
                                <span class="badge info">All Patients: TSH, Metabolic panel</span>
                                <span class="badge info">&lt;40 years: Ceruloplasmin</span>
                                <span class="badge caution">Atypical PD: MRI brain</span>
                            </div>
                            <ul>
                                <li><strong>Basic labs:</strong> Electrolytes, glucose, LFTs, calcium</li>
                                <li><strong>Thyroid function:</strong> TSH, free T4 (all action tremors)</li>
                                <li><strong>Wilson's disease:</strong> Ceruloplasmin, 24hr urine copper, slit-lamp</li>
                                <li><strong>Structural imaging:</strong> MRI/CT (if focal neurological signs, trauma, MS suspected)</li>
                                <li><strong>Functional imaging:</strong> DaTscan (PD vs ET if clinically unclear)</li>
                                <li><strong>Genetic testing:</strong> FMR1 (FXTAS), ATP7B (Wilson's)</li>
                                <li><strong>Trial of therapy:</strong> Levodopa (PD), Propranolol (ET)</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Treatment Section -->
            <div class="section-card fade-in" data-section="treatment">
                <div class="section-header treatment">
                    <div class="section-icon">üíä</div>
                    <div class="section-title">
                        <h2>Treatment</h2>
                        <p>Management strategies and therapeutic options</p>
                    </div>
                    <div class="expand-icon">‚ñº</div>
                </div>
                <div class="section-content">
                    <div class="content-inner">
                        <div class="subsection">
                            <h3>‚ö° Urgent Conditions Requiring Immediate Treatment</h3>
                            
                            <div class="danger-box">
                                <strong>Thyrotoxicosis</strong>
                                <div class="severity-badges">
                                    <span class="badge urgent">Endocrine emergency</span>
                                </div>
                                <ul>
                                    <li><strong>Symptoms:</strong> Palpitations, heat intolerance, weight loss, anxiety</li>
                                    <li><strong>Treatment:</strong> Beta-blockers (propranolol), antithyroid drugs, radioactive iodine</li>
                                    <li><strong>Monitoring:</strong> HR, BP, temperature, thyroid function</li>
                                </ul>
                            </div>

                            <div class="danger-box">
                                <strong>Hypoglycemia</strong>
                                <div class="severity-badges">
                                    <span class="badge urgent">Metabolic emergency</span>
                                </div>
                                <ul>
                                    <li><strong>Symptoms:</strong> Sweating, anxiety, tremor, confusion</li>
                                    <li><strong>Treatment:</strong> Immediate glucose (15g fast-acting carbohydrate)</li>
                                    <li><strong>Recheck:</strong> Glucose in 15 minutes, repeat if still low</li>
                                    <li><strong>Glucagon:</strong> IM if unconscious or unable to swallow</li>
                                </ul>
                            </div>

                            <div class="danger-box">
                                <strong>Severe Alcohol Withdrawal</strong>
                                <div class="severity-badges">
                                    <span class="badge urgent">High mortality risk</span>
                                </div>
                                <ul>
                                    <li><strong>Symptoms:</strong> Tremor, seizures, hallucinations, autonomic instability</li>
                                    <li><strong>Treatment:</strong> Benzodiazepines (CIWA protocol)</li>
                                    <li><strong>Monitoring:</strong> Frequent vital signs, ICU if severe</li>
                                    <li><strong>Supportive:</strong> Thiamine, electrolyte repletion, hydration</li>
                                </ul>
                            </div>
                        </div>

                        <div class="subsection">
                            <h3>üß† Parkinson's Disease Management</h3>
                            
                            <div class="warning-box">
                                <strong>Pharmacological Treatment</strong>
                                <div class="severity-badges">
                                    <span class="badge info">Levodopa gold standard</span>
                                    <span class="badge caution">Dopamine agonists</span>
                                    <span class="badge info">MAO-B inhibitors</span>
                                </div>
                                <ul>
                                    <li><strong>Levodopa:</strong> Most effective for motor symptoms</li>
                                    <ul>
                                        <li>Start low, titrate slowly (e.g., 50mg TID, increase by 50mg every 3-7 days)</li>
                                        <li>Maximum 1200mg/day if tremor-predominant</li>
                                        <li>Side effects: Nausea, orthostatic hypotension, dyskinesia (long-term)</li>
                                    </ul>
                                    <li><strong>Dopamine agonists:</strong> Pramipexole, ropinirole, rotigotine</li>
                                    <ul>
                                        <li>Useful for younger patients to delay levodopa</li>
                                        <li>Side effects: Impulse control disorders, sleepiness, edema</li>
                                    </ul>
                                    <li><strong>MAO-B inhibitors:</strong> Selegiline, rasagiline</li>
                                    <ul>
                                        <li>Mild symptomatic benefit, possible disease modification</li>
                                        <li>Watch for drug interactions (SSRIs, meperidine)</li>
                                    </ul>
                                    <li><strong>Adjunctive tremor control:</strong> Anticholinergics (trihexyphenidyl)</li>
                                    <ul>
                                        <li>Effective for tremor, especially in young patients</li>
                                        <li>Side effects: Cognitive impairment, constipation, urinary retention</li>
                                    </ul>
                                </ul>
                            </div>

                            <div class="info-box">
                                <strong>Non-Pharmacological Approaches</strong>
                                <ul>
                                    <li><strong>Physical therapy:</strong> Gait training, balance exercises, resistance training</li>
                                    <li><strong>Occupational therapy:</strong> Adaptive equipment, fine motor training</li>
                                    <li><strong>Speech therapy:</strong> For hypophonia, dysarthria</li>
                                    <li><strong>Exercise:</strong> Regular aerobic exercise, tai chi for balance</li>
                                    <li><strong>Education & support:</strong> Patient groups, caregiver support</li>
                                </ul>
                            </div>

                            <div class="warning-box">
                                <strong>Advanced Therapies</strong>
                                <div class="severity-badges">
                                    <span class="badge caution">Motor fluctuations</span>
                                    <span class="badge caution">Refractory tremor</span>
                                </div>
                                <ul>
                                    <li><strong>Deep Brain Stimulation (DBS):</strong> Subthalamic nucleus or globus pallidus</li>
                                    <ul>
                                        <li>Indications: Motor fluctuations, dyskinesia, refractory tremor</li>
                                        <li>Patient selection: &lt;70 years, good levodopa response, no cognitive impairment</li>
                                    </ul>
                                    <li><strong>Focused ultrasound:</strong> Thalamotomy for refractory tremor</li>
                                    <ul>
                                        <li>Non-invasive, unilateral treatment</li>
                                        <li>Contraindications: Unable to undergo MRI, cognitive impairment</li>
                                    </ul>
                                </ul>
                            </div>
                        </div>

                        <div class="subsection">
                            <h3>‚úã Essential Tremor Management</h3>
                            
                            <div class="info-box">
                                <strong>First-Line Pharmacotherapy</strong>
                                <div class="severity-badges">
                                    <span class="badge stable">Propranolol</span>
                                    <span class="badge stable">Primidone</span>
                                </div>
                                <ul>
                                    <li><strong>Propranolol:</strong> 20-40mg BID, titrate to 120-320mg/day</li>
                                    <ul>
                                        <li>Contraindications: Asthma, bradycardia, heart block</li>
                                        <li>Side effects: Fatigue, depression, erectile dysfunction</li>
                                    </ul>
                                    <li><strong>Primidone:</strong> Start 25mg QHS, titrate to 50-250mg/day</li>
                                    <ul>
                                        <li>Side effects: Sedation, dizziness, nausea (often transient)</li>
                                        <li>Contraindications: Porphyria</li>
                                    </ul>
                                    <li><strong>Alternative options:</strong> Topiramate, gabapentin, clonazepam</li>
                                </ul>
                            </div>

                            <div class="info-box">
                                <strong>Non-Pharmacological Management</strong>
                                <ul>
                                    <li><strong>Lifestyle modifications:</strong> Avoid caffeine, manage stress, adequate sleep</li>
                                    <li><strong>Physical therapy:</strong> Weighted wrist cuffs, adaptive devices</li>
                                    <li><strong>Botulinum toxin:</strong> For head or voice tremor</li>
                                    <li><strong>Alcohol:</strong> Small amounts may transiently reduce tremor (not recommended as treatment)</li>
                                </ul>
                            </div>

                            <div class="warning-box">
                                <strong>Surgical Options for Refractory ET</strong>
                                <div class="severity-badges">
                                    <span class="badge caution">Inadequate medical therapy</span>
                                </div>
                                <ul>
                                    <li><strong>Deep Brain Stimulation:</strong> Ventral intermediate nucleus of thalamus</li>
                                    <ul>
                                        <li>Effective for contralateral limb tremor</li>
                                        <li>Possible cognitive side effects (especially bilateral)</li>
                                    </ul>
                                    <li><strong>Focused ultrasound thalamotomy:</strong> Unilateral treatment</li>
                                    <ul>
                                        <li>Non-invasive alternative to DBS</li>
                                        <li>Permanent lesion, only unilateral</li>
                                    </ul>
                                </ul>
                            </div>
                        </div>

                        <div class="subsection">
                            <h3>üíä Specific Tremor Treatments</h3>
                            
                            <div class="info-box">
                                <strong>Cerebellar Tremor</strong>
                                <ul>
                                    <li>Underlying cause treatment (MS, stroke)</li>
                                    <li>Isoniazid (300mg/day) may help some cases</li>
                                    <li>Physical therapy for ataxia</li>
                                    <li>Adaptive devices for functional activities</li>
                                </ul>
                            </div>

                            <div class="info-box">
                                <strong>Dystonic Tremor</strong>
                                <ul>
                                    <li><strong>Botulinum toxin:</strong> Targeted injection into affected muscles</li>
                                    <li><strong>Anticholinergics:</strong> Trihexyphenidyl (may help if dystonia prominent)</li>
                                    <li><strong>Sensory tricks:</strong> Encourage use of geste antagoniste</li>
                                    <li><strong>DBS:</strong> Consider if refractory to medical therapy</li>
                                </ul>
                            </div>

                            <div class="info-box">
                                <strong>Neuropathic Tremor</strong>
                                <ul>
                                    <li>Treat underlying neuropathy (IVIG for CIDP)</li>
                                    <li>Primidone or propranolol may provide some benefit</li>
                                    <li>Physical therapy for coordination</li>
                                </ul>
                            </div>

                            <div class="info-box">
                                <strong>Orthostatic Tremor</strong>
                                <ul>
                                    <li><strong>Clonazepam:</strong> 0.5-2mg/day (most effective)</li>
                                    <li><strong>Alternatives:</strong> Gabapentin, primidone</li>
                                    <li><strong>Physical:</strong> Use of support when standing, weight-bearing exercises</li>
                                </ul>
                            </div>

                            <div class="info-box">
                                <strong>Wilson's Disease</strong>
                                <div class="severity-badges">
                                    <span class="badge urgent">Lifelong treatment</span>
                                </div>
                                <ul>
                                    <li><strong>Copper chelation:</strong> Penicillamine or trientine</li>
                                    <li><strong>Zinc acetate:</strong> Blocks copper absorption</li>
                                    <li><strong>Diet:</strong> Low copper (avoid nuts, chocolate, shellfish)</li>
                                    <li><strong>Monitoring:</strong> Regular copper studies, liver function</li>
                                    <li><strong>Liver transplant:</strong> For fulminant liver failure or refractory disease</li>
                                </ul>
                            </div>
                        </div>

                        <div class="subsection">
                            <h3>üö´ Drug-Induced Tremor Management</h3>
                            <div class="warning-box">
                                <strong>Approach</strong>
                                <ul>
                                    <li><strong>Identify offending agent:</strong> Review all medications</li>
                                    <li><strong>Discontinue if possible:</strong> Gradual taper to avoid withdrawal</li>
                                    <li><strong>Substitute:</strong> Alternative medications without tremor effect</li>
                                    <li><strong>Treat underlying condition:</strong> Use lowest effective dose</li>
                                    <li><strong>Time course:</strong> Tremor may persist weeks after discontinuation</li>
                                </ul>
                            </div>
                        </div>

                        <div class="subsection">
                            <h3>üßò Functional Tremor Management</h3>
                            <div class="warning-box">
                                <strong>Multidisciplinary Approach</strong>
                                <div class="severity-badges">
                                    <span class="badge caution">Psychological component</span>
                                    <span class="badge info">Rehabilitation focus</span>
                                </div>
                                <ul>
                                    <li><strong>Psychotherapy:</strong> CBT, trauma-informed care</li>
                                    <li><strong>Physical therapy:</strong> Retraining normal movement patterns</li>
                                    <li><strong>Occupational therapy:</strong> Functional rehabilitation</li>
                                    <li><strong>Psychiatry:</strong> Treat comorbid depression, anxiety, PTSD</li>
                                    <li><strong>Education:</strong> Explain diagnosis without judgment</li>
                                    <li><strong>Avoid:</strong> Reinforcing abnormal movements, unnecessary tests</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Follow-up Section -->
            <div class="section-card fade-in" data-section="followup">
                <div class="section-header followup">
                    <div class="section-icon">üìà</div>
                    <div class="section-title">
                        <h2>Follow-up</h2>
                        <p>Monitoring and long-term management</p>
                    </div>
                    <div class="expand-icon">‚ñº</div>
                </div>
                <div class="section-content">
                    <div class="content-inner">
                        <div class="subsection">
                            <h3>‚è∞ Follow-up Frequency</h3>
                            <div class="severity-badges">
                                <span class="badge urgent">Urgent conditions: Daily to weekly</span>
                                <span class="badge caution">New diagnoses: 4-6 weeks</span>
                                <span class="badge stable">Stable disease: 3-12 months</span>
                            </div>
                        </div>

                        <div class="subsection">
                            <h3>üìä Monitoring Parameters</h3>
                            
                            <div class="warning-box">
                                <strong>Parkinson's Disease Monitoring</strong>
                                <ul>
                                    <li><strong>Motor function:</strong> UPDRS, timed motor tests</li>
                                    <li><strong>ADLs:</strong> Independence in activities of daily living</li>
                                    <li><strong>Complications:</strong> Motor fluctuations, dyskinesia</li>
                                    <li><strong>Non-motor:</strong> Cognition (MMSE/MoCA), mood, sleep, autonomic</li>
                                    <li><strong>Quality of life:</strong> PDQ-39, other validated scales</li>
                                    <li><strong>Medication adherence & side effects</strong></li>
                                    <li><strong>Caregiver burden:</strong> Assess caregiver stress and needs</li>
                                </ul>
                            </div>

                            <div class="info-box">
                                <strong>Essential Tremor Monitoring</strong>
                                <ul>
                                    <li><strong>Tremor severity:</strong> Fahn-Tolosa-Marin scale</li>
                                    <li><strong>Functional impact:</strong> Writing, eating, social activities</li>
                                    <li><strong>Medication efficacy & side effects</strong></li>
                                    <li><strong>Alcohol use:</strong> Screen for excessive use</li>
                                    <li><strong>Quality of life:</strong> General health questionnaires</li>
                                </ul>
                            </div>

                            <div class="info-box">
                                <strong>Wilson's Disease Monitoring</strong>
                                <div class="severity-badges">
                                    <span class="badge urgent">Lifelong monitoring</span>
                                </div>
                                <ul>
                                    <li><strong>Copper studies:</strong> Serum copper, ceruloplasmin, 24hr urine copper</li>
                                    <li><strong>Liver function:</strong> AST, ALT, bilirubin, albumin</li>
                                    <li><strong>Hematology:</strong> CBC, coagulation studies</li>
                                    <li><strong>Neurological:</strong> Tremor, dystonia, gait, cognition</li>
                                    <li><strong>Compliance:</strong> Regular assessments essential</li>
                                    <li><strong>Dietary counseling:</strong> Annual review</li>
                                </ul>
                            </div>

                            <div class="warning-box">
                                <strong>Drug-Induced Tremor Monitoring</strong>
                                <ul>
                                    <li><strong>Tremor resolution:</strong> Typically 2-4 weeks after discontinuation</li>
                                    <li><strong>Alternative medications:</strong> Monitor efficacy and side effects</li>
                                    <li><strong>Underlying condition:</strong> Ensure adequate treatment</li>
                                    <li><strong>Patient education:</strong> Report recurrent tremor promptly</li>
                                </ul>
                            </div>
                        </div>

                        <div class="subsection">
                            <h3>üéØ Therapeutic Goals & Reassessment</h3>
                            
                            <div class="info-box">
                                <strong>Treatment Goals by Condition</strong>
                                <ul>
                                    <li><strong>Parkinson's disease:</strong> Optimize motor function while minimizing side effects</li>
                                    <li><strong>Essential tremor:</strong> Reduce tremor to improve function and quality of life</li>
                                    <li><strong>Wilson's disease:</strong> Maintain normal copper metabolism, prevent progression</li>
                                    <li><strong>Cerebellar tremor:</strong> Manage underlying cause, improve coordination</li>
                                    <li><strong>Dystonic tremor:</strong> Reduce both tremor and dystonia</li>
                                    <li><strong>Functional tremor:</strong> Restore normal movement patterns, address psychological factors</li>
                                </ul>
                            </div>

                            <div class="warning-box">
                                <strong>When to Modify Treatment</strong>
                                <div class="severity-badges">
                                    <span class="badge caution">Inadequate symptom control</span>
                                    <span class="badge caution">Significant side effects</span>
                                    <span class="badge urgent">Disease progression</span>
                                </div>
                                <ul>
                                    <li><strong>PD motor fluctuations:</strong> Add COMT inhibitor, MAO-B inhibitor, or DBS evaluation</li>
                                    <li><strong>ET refractory:</strong> Consider surgical options (DBS, focused ultrasound)</li>
                                    <li><strong>Medication side effects:</strong> Dose reduction, alternative agent, or discontinuation</li>
                                    <li><strong>New symptoms:</strong> Reassess diagnosis, consider referral</li>
                                    <li><strong>Functional decline:</strong> Multidisciplinary reassessment</li>
                                </ul>
                            </div>
                        </div>

                        <div class="subsection">
                            <h3>üè• Referral Guidelines</h3>
                            
                            <div class="warning-box">
                                <strong>Neurology Referral</strong>
                                <div class="severity-badges">
                                    <span class="badge urgent">Diagnostic uncertainty</span>
                                    <span class="badge caution">Atypical features</span>
                                    <span class="badge info">Advanced therapy consideration</span>
                                </div>
                                <ul>
                                    <li>Atypical tremor presentation</li>
                                    <li>Early falls, cognitive impairment, autonomic dysfunction</li>
                                    <li>Refractory tremor despite standard treatment</li>
                                    <li>Consideration of DBS or other advanced therapies</li>
                                    <li>Rapid progression or red flag features</li>
                                    <li>Complex differential diagnosis</li>
                                </ul>
                            </div>

                            <div class="warning-box">
                                <strong>Specialist Referrals</strong>
                                <ul>
                                    <li><strong>Movement disorder specialist:</strong> Complex PD, atypical parkinsonism</li>
                                    <li><strong>Neuro-ophthalmology:</strong> Vertical gaze palsy, other ocular movement disorders</li>
                                    <li><strong>Gastroenterology/hepatology:</strong> Wilson's disease, liver dysfunction</li>
                                    <li><strong>Psychiatry:</strong> Functional tremor, severe depression/anxiety</li>
                                    <li><strong>Neurosurgery:</strong> DBS evaluation</li>
                                    <li><strong>Physical/occupational/speech therapy:</strong> Functional impairment</li>
                                </ul>
                            </div>
                        </div>

                        <div class="subsection">
                            <h3>üìã Patient Education & Self-Management</h3>
                            
                            <div class="info-box">
                                <strong>General Education Topics</strong>
                                <ul>
                                    <li><strong>Condition explanation:</strong> Cause, prognosis, natural history</li>
                                    <li><strong>Medication management:</strong> Purpose, dosing, side effects, adherence</li>
                                    <li><strong>Lifestyle modifications:</strong> Diet, exercise, sleep, stress management</li>
                                    <li><strong>Trigger avoidance:</strong> Caffeine, fatigue, anxiety (if applicable)</li>
                                    <li><strong>Monitoring:</strong> Symptom diary, adverse effect reporting</li>
                                    <li><strong>Support resources:</strong> Patient organizations, support groups</li>
                                    <li><strong>Emergency recognition:</strong> When to seek urgent care</li>
                                </ul>
                            </div>

                            <div class="info-box">
                                <strong>Condition-Specific Education</strong>
                                <ul>
                                    <li><strong>PD:</strong> Motor complications, fall prevention, caregiver support</li>
                                    <li><strong>ET:</strong> Alcohol effects, occupational impact, surgical options</li>
                                    <li><strong>Wilson's disease:</strong> Lifelong treatment, monitoring importance, genetic counseling</li>
                                    <li><strong>Functional tremor:</strong> Stress management, psychotherapy benefits</li>
                                    <li><strong>Drug-induced:</strong> Medication review importance, avoidance strategies</li>
                                </ul>
                            </div>
                        </div>

                        <div class="subsection">
                            <h3>‚ö†Ô∏è Red Flags Requiring Urgent Review</h3>
                            
                            <div class="danger-box">
                                <strong>Emergency Symptoms</strong>
                                <div class="severity-badges">
                                    <span class="badge urgent">Seek immediate care</span>
                                </div>
                                <ul>
                                    <li>Sudden onset tremor with neurological deficits (possible stroke)</li>
                                    <li>Severe alcohol withdrawal with seizures or delirium</li>
                                    <li>Thyrotoxicosis with high fever, tachycardia, agitation</li>
                                    <li>Hypoglycemia with altered consciousness or seizures</li>
                                    <li>Rapidly progressive neurological decline</li>
                                    <li>Severe depression with suicidal ideation</li>
                                </ul>
                            </div>

                            <div class="warning-box">
                                <strong>Urgent Review Indicators</strong>
                                <div class="severity-badges">
                                    <span class="badge caution">Within 1-2 weeks</span>
                                </div>
                                <ul>
                                    <li>New or worsening cognitive impairment</li>
                                    <li>Significant functional decline</li>
                                    <li>Severe medication side effects</li>
                                    <li>Poor medication adherence with symptom worsening</li>
                                    <li>New falls or safety concerns</li>
                                    <li>Disease progression despite treatment</li>
                                    <li>Significant caregiver distress</li>
                                </ul>
                            </div>
                        </div>

                        <div class="subsection">
                            <h3>üìû Follow-up Appointment Structure</h3>
                            
                            <div class="info-box">
                                <strong>Typical Follow-up Visit Components</strong>
                                <ul>
                                    <li><strong>Interval history:</strong> Symptoms, medication changes, compliance, side effects</li>
                                    <li><strong>Functional assessment:</strong> ADLs, work/school performance, social impact</li>
                                    <li><strong>Physical examination:</strong> Tremor characteristics, neurological signs</li>
                                    <li><strong>Medication review:</strong> Efficacy, dose adjustments, interactions</li>
                                    <li><strong>Investigation review:</strong> Laboratory results, imaging</li>
                                    <li><strong>Patient concerns:</strong> Questions, goals, psychosocial issues</li>
                                    <li><strong>Caregiver input:</strong> Observations, concerns, support needs</li>
                                    <li><strong>Plan:</strong> Medication changes, referrals, investigations, follow-up timing</li>
                                    <li><strong>Education:</strong> Reinforce key points, provide new information</li>
                                </ul>
                            </div>

                            <div class="info-box">
                                <strong>Documentation Requirements</strong>
                                <ul>
                                    <li>Tremor type, severity, and impact on function</li>
                                    <li>Current medications and doses</li>
                                    <li>Response to treatment and side effects</li>
                                    <li>Neurological examination findings</li>
                                    <li>Patient concerns and goals</li>
                                    <li>Management plan and rationale</li>
                                    <li>Patient education provided</li>
                                    <li>Follow-up arrangements</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Progress Sidebar -->
        <div class="progress-sidebar fade-in">
            <div class="progress-title">
                <span>üìä</span>
                Algorithm Progress
            </div>
            
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            
            <div class="progress-percentage" id="progressPercentage">0%</div>
            
            <div class="progress-item active" data-target="assessment">
                <div class="progress-icon">üîç</div>
                <div>
                    <div>Assessment</div>
                    <small class="text-muted">Initial evaluation</small>
                </div>
            </div>
            
            <div class="progress-item" data-target="diagnosis">
                <div class="progress-icon">üî¨</div>
                <div>
                    <div>Diagnosis</div>
                    <small class="text-muted">Differential & investigations</small>
                </div>
            </div>
            
            <div class="progress-item" data-target="treatment">
                <div class="progress-icon">üíä</div>
                <div>
                    <div>Treatment</div>
                    <small class="text-muted">Management strategies</small>
                </div>
            </div>
            
            <div class="progress-item" data-target="followup">
                <div class="progress-icon">üìà</div>
                <div>
                    <div>Follow-up</div>
                    <small class="text-muted">Monitoring & reassessment</small>
                </div>
            </div>
            
            <div class="info-box">
                <strong>‚ú® Tips:</strong>
                <ul style="font-size: 0.9em;">
                    <li>Click on any section to expand/collapse</li>
                    <li>Red badges indicate urgent conditions</li>
                    <li>Follow progression with sidebar tracker</li>
                    <li>Monitor therapeutic goals regularly</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        class TremorAssessmentTool {
            constructor() {
                this.sections = ['assessment', 'diagnosis', 'treatment', 'followup'];
                this.expandedSections = new Set();
                this.currentSection = 0;
                this.init();
            }

            init() {
                this.bindEvents();
                this.updateProgress();
                this.observeSectionScroll();
            }

            bindEvents() {
                // Section click handlers
                document.querySelectorAll('.section-card').forEach((card, index) => {
                    const header = card.querySelector('.section-header');
                    header.addEventListener('click', () => this.toggleSection(index));
                    
                    // Add keyboard accessibility
                    header.setAttribute('tabindex', '0');
                    header.addEventListener('keypress', (e) => {
                        if (e.key === 'Enter' || e.key === ' ') {
                            e.preventDefault();
                            this.toggleSection(index);
                        }
                    });
                });

                // Progress sidebar click handlers
                document.querySelectorAll('.progress-item').forEach((item, index) => {
                    item.addEventListener('click', () => {
                        this.scrollToSection(index);
                        this.expandSection(index);
                    });
                });

                // Smooth scroll for internal links
                document.querySelectorAll('a[href^="#"]').forEach(link => {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        const target = document.querySelector(link.getAttribute('href'));
                        if (target) {
                            target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        }
                    });
                });

                // Hover effects for badges
                document.querySelectorAll('.badge').forEach(badge => {
                    badge.addEventListener('mouseenter', () => {
                        badge.style.transform = 'translateY(-2px) scale(1.05)';
                    });
                    badge.addEventListener('mouseleave', () => {
                        badge.style.transform = 'translateY(0) scale(1)';
                    });
                });
            }

            toggleSection(index) {
                const card = document.querySelectorAll('.section-card')[index];
                const isExpanded = this.expandedSections.has(index);
                
                if (isExpanded) {
                    this.collapseSection(index);
                } else {
                    this.expandSection(index);
                }
            }

            expandSection(index) {
                const card = document.querySelectorAll('.section-card')[index];
                const content = card.querySelector('.section-content');
                
                card.classList.add('expanded');
                this.expandedSections.add(index);
                
                // Add fade-in animation to content
                const contentInner = content.querySelector('.content-inner');
                contentInner.style.opacity = '0';
                
                setTimeout(() => {
                    contentInner.style.transition = 'opacity 0.5s ease';
                    contentInner.style.opacity = '1';
                    contentInner.classList.add('fade-in');
                }, 100);
                
                // Update progress sidebar
                this.markSectionCompleted(index);
                this.updateProgress();
                
                // Track current section
                this.currentSection = index;
                this.updateActiveProgressItem();
            }

            collapseSection(index) {
                const card = document.querySelectorAll('.section-card')[index];
                card.classList.remove('expanded');
                this.expandedSections.delete(index);
                
                this.updateProgress();
                this.updateActiveProgressItem();
            }

            scrollToSection(index) {
                const card = document.querySelectorAll('.section-card')[index];
                card.scrollIntoView({ 
                    behavior: 'smooth', 
                    block: 'start'
                });
                
                // Add pulse effect
                card.classList.add('pulse');
                setTimeout(() => card.classList.remove('pulse'), 2000);
            }

            markSectionCompleted(index) {
                const progressItem = document.querySelectorAll('.progress-item')[index];
                progressItem.classList.add('completed');
                
                // Add checkmark to completed sections
                const icon = progressItem.querySelector('.progress-icon');
                if (!icon.querySelector('.checkmark')) {
                    icon.innerHTML = '‚úì';
                }
            }

            updateProgress() {
                const completedCount = this.expandedSections.size;
                const totalCount = this.sections.length;
                const percentage = Math.round((completedCount / totalCount) * 100);
                
                const fill = document.getElementById('progressFill');
                const percentageText = document.getElementById('progressPercentage');
                
                fill.style.width = `${percentage}%`;
                percentageText.textContent = `${percentage}%`;
                
                // Add pulse effect on completion
                if (percentage === 100) {
                    percentageText.classList.add('pulse');
                    setTimeout(() => percentageText.classList.remove('pulse'), 2000);
                    
                    // Show completion message
                    this.showCompletionMessage();
                }
            }

            updateActiveProgressItem() {
                document.querySelectorAll('.progress-item').forEach((item, index) => {
                    item.classList.remove('active');
                    if (index === this.currentSection) {
                        item.classList.add('active');
                    }
                });
            }

            observeSectionScroll() {
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            const card = entry.target;
                            const index = Array.from(document.querySelectorAll('.section-card')).indexOf(card);
                            if (index !== -1) {
                                this.currentSection = index;
                                this.updateActiveProgressItem();
                            }
                        }
                    });
                }, {
                    threshold: 0.3,
                    rootMargin: '-100px 0px -100px 0px'
                });

                document.querySelectorAll('.section-card').forEach(card => {
                    observer.observe(card);
                });
            }

            showCompletionMessage() {
                if (!document.querySelector('.completion-message')) {
                    const message = document.createElement('div');
                    message.className = 'completion-message fade-in';
                    message.innerHTML = `
                        <div style="
                            background: linear-gradient(135deg, #2ecc71, #27ae60);
                            color: white;
                            padding: 20px;
                            border-radius: 10px;
                            text-align: center;
                            margin: 20px 0;
                            box-shadow: 0 8px 25px rgba(46, 204, 113, 0.3);
                            position: relative;
                            overflow: hidden;
                        ">
                            <div style="position: absolute; top: 0; left: 0; right: 0; height: 4px; background: linear-gradient(90deg, #f1c40f, #f39c12);"></div>
                            <h3 style="margin-bottom: 10px; display: flex; align-items: center; justify-content: center; gap: 10px;">
                                <span style="font-size: 1.5em;">üéâ</span>
                                Algorithm Complete!
                            </h3>
                            <p>You have reviewed the complete tremor assessment algorithm.</p>
                            <p style="font-size: 0.9em; opacity: 0.9; margin-top: 10px;">
                                Remember to apply clinical judgment and consider individual patient factors.
                            </p>
                        </div>
                    `;
                    
                    document.querySelector('.main-content').appendChild(message);
                    
                    // Add celebration effect
                    this.celebrateCompletion();
                }
            }

            celebrateCompletion() {
                // Create floating particles effect
                const colors = ['#2ecc71', '#3498db', '#f1c40f', '#e74c3c', '#9b59b6'];
                for (let i = 0; i < 30; i++) {
                    setTimeout(() => {
                        const particle = document.createElement('div');
                        particle.style.cssText = `
                            position: fixed;
                            width: 8px;
                            height: 8px;
                            background: ${colors[Math.floor(Math.random() * colors.length)]};
                            border-radius: 50%;
                            top: ${Math.random() * 100}%;
                            left: ${Math.random() * 100}%;
                            pointer-events: none;
                            animation: float 3s ease-out forwards;
                            z-index: 9999;
                        `;
                        
                        document.body.appendChild(particle);
                        
                        setTimeout(() => particle.remove(), 3000);
                    }, i * 100);
                }
                
                // Add confetti animation
                const style = document.createElement('style');
                style.textContent = `
                    @keyframes float {
                        0% { transform: translateY(0) scale(0); opacity: 1; }
                        50% { transform: translateY(-100px) scale(1); opacity: 1; }
                        100% { transform: translateY(-200px) scale(0.5); opacity: 0; }
                    }
                `;
                document.head.appendChild(style);
            }
        }

        // Initialize the tool when DOM is ready
        document.addEventListener('DOMContentLoaded', () => {
            // Add some initial animations
            document.querySelectorAll('.section-card').forEach((card, index) => {
                setTimeout(() => {
                    card.style.opacity = '0';
                    card.style.transform = 'translateY(30px)';
                    card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
                    
                    setTimeout(() => {
                        card.style.opacity = '1';
                        card.style.transform = 'translateY(0)';
                    }, 100);
                }, index * 200);
            });
            
            // Initialize the main tool
            new TremorAssessmentTool();
            
            // Add keyboard navigation
            document.addEventListener('keydown', (e) => {
                const tool = window.currentTool;
                if (!tool) return;
                
                if (e.key === 'ArrowDown' || e.key === 'ArrowRight') {
                    e.preventDefault();
                    const nextIndex = Math.min(tool.currentSection + 1, tool.sections.length - 1);
                    tool.scrollToSection(nextIndex);
                    tool.expandSection(nextIndex);
                } else if (e.key === 'ArrowUp' || e.key === 'ArrowLeft') {
                    e.preventDefault();
                    const prevIndex = Math.max(tool.currentSection - 1, 0);
                    tool.scrollToSection(prevIndex);
                    tool.expandSection(prevIndex);
                }
            });
            
            // Store reference for keyboard navigation
            window.currentTool = new TremorAssessmentTool();
        });

        // Add some interactive enhancements
        document.addEventListener('DOMContentLoaded', () => {
            // Add hover effects to all interactive elements
            const addHoverEffect = (element, transform = 'translateY(-3px)') => {
                element.style.transition = 'transform 0.3s ease, box-shadow 0.3s ease';
                element.addEventListener('mouseenter', () => {
                    element.style.transform = transform;
                    element.style.boxShadow = '0 8px 25px rgba(0,0,0,0.1)';
                });
                element.addEventListener('mouseleave', () => {
                    element.style.transform = 'translateY(0)';
                    element.style.boxShadow = '';
                });
            };
            
            // Apply hover effects to cards and buttons
            document.querySelectorAll('.section-card, .subsection, .info-box, .warning-box, .danger-box').forEach(el => {
                addHoverEffect(el);
            });
            
            // Special effect for badges
            document.querySelectorAll('.badge').forEach(badge => {
                badge.style.cursor = 'pointer';
                badge.addEventListener('click', () => {
                    badge.classList.add('pulse');
                    setTimeout(() => badge.classList.remove('pulse'), 500);
                });
            });
            
            // Add ripple effect to section headers
            document.querySelectorAll('.section-header').forEach(header => {
                header.addEventListener('click', function(e) {
                    const ripple = document.createElement('span');
                    const rect = this.getBoundingClientRect();
                    const size = Math.max(rect.width, rect.height);
                    const x = e.clientX - rect.left - size / 2;
                    const y = e.clientY - rect.top - size / 2;
                    
                    ripple.style.cssText = `
                        position: absolute;
                        width: ${size}px;
                        height: ${size}px;
                        left: ${x}px;
                        top: ${y}px;
                        background: rgba(52, 152, 219, 0.3);
                        border-radius: 50%;
                        transform: scale(0);
                        animation: ripple 0.6s linear;
                        pointer-events: none;
                    `;
                    
                    this.style.position = 'relative';
                    this.style.overflow = 'hidden';
                    this.appendChild(ripple);
                    
                    setTimeout(() => ripple.remove(), 600);
                });
            });
            
            // Add ripple animation
            const rippleStyle = document.createElement('style');
            rippleStyle.textContent = `
                @keyframes ripple {
                    to {
                        transform: scale(2);
                        opacity: 0;
                    }
                }
            `;
            document.head.appendChild(rippleStyle);
            
            // Add floating animation to icons
            document.querySelectorAll('.section-icon').forEach((icon, index) => {
                setTimeout(() => {
                    icon.classList.add('floating');
                }, index * 500);
            });
        });

        // Performance optimization: Debounce scroll events
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }
        
        // Optimize scroll performance
        const handleScroll = debounce(() => {
            // Add any scroll-based animations here
            document.querySelectorAll('.subsection').forEach(subsection => {
                const rect = subsection.getBoundingClientRect();
                if (rect.top < window.innerHeight * 0.8 && rect.bottom > 0) {
                    subsection.classList.add('fade-in');
                }
            });
        }, 100);
        
        window.addEventListener('scroll', handleScroll);
    </script>
</body>
</html>