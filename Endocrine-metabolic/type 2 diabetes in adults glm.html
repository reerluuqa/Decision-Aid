<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>T2DM Clinical Quick-Scan</title>
    <!-- Using Font Awesome for Medical Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            /* Color Palette */
            --color-emergency: #e63946;    /* Red */
            --color-emergency-bg: #ffebee;
            --color-success: #2a9d8f;      /* Green */
            --color-success-bg: #e0f2f1;
            --color-primary: #457b9d;      /* Blue */
            --color-primary-dark: #1d3557;
            --color-neutral-bg: #f8f9fa;
            --color-card-bg: #ffffff;
            --color-text-main: #2b2d42;
            --color-text-muted: #6c757d;
            
            /* Spacing & Layout */
            --spacing-sm: 8px;
            --spacing-md: 16px;
            --spacing-lg: 24px;
            --radius: 8px;
            --shadow: 0 4px 6px rgba(0,0,0,0.05), 0 1px 3px rgba(0,0,0,0.1);
            --shadow-hover: 0 10px 15px rgba(0,0,0,0.1), 0 4px 6px rgba(0,0,0,0.05);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        }

        body {
            background-color: var(--color-neutral-bg);
            color: var(--color-text-main);
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        /* --- Header & Emergency Bar --- */
        .emergency-banner {
            background-color: var(--color-emergency);
            color: white;
            padding: var(--spacing-md);
            text-align: center;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.9; }
            100% { opacity: 1; }
        }

        header {
            background-color: var(--color-card-bg);
            padding: var(--spacing-md) var(--spacing-lg);
            border-bottom: 1px solid #e9ecef;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        h1 {
            font-size: 1.5rem;
            color: var(--color-primary-dark);
        }

        .last-updated {
            font-size: 0.85rem;
            color: var(--color-text-muted);
        }

        /* --- Navigation Tabs --- */
        nav {
            background-color: var(--color-card-bg);
            padding: 0 var(--spacing-lg);
            border-bottom: 1px solid #e9ecef;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .tab-container {
            display: flex;
            gap: var(--spacing-lg);
            overflow-x: auto;
        }

        .tab-btn {
            background: none;
            border: none;
            padding: var(--spacing-md) 0;
            font-size: 1rem;
            color: var(--color-text-muted);
            cursor: pointer;
            position: relative;
            white-space: nowrap;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: color 0.3s;
        }

        .tab-btn.active {
            color: var(--color-primary);
            font-weight: 700;
        }

        .tab-btn.active::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            width: 100%;
            height: 3px;
            background-color: var(--color-primary);
        }

        .tab-btn:hover {
            color: var(--color-primary);
        }

        /* --- Main Content Area --- */
        main {
            padding: var(--spacing-lg);
            flex: 1;
            max-width: 1400px;
            margin: 0 auto;
            width: 100%;
        }

        .section-content {
            display: none;
            animation: fadeIn 0.4s ease-out;
        }

        .section-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* --- Grid Layouts --- */
        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--spacing-lg);
        }

        .grid-3 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--spacing-lg);
        }

        /* --- Cards --- */
        .card {
            background: var(--color-card-bg);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            padding: var(--spacing-lg);
            transition: transform 0.2s, box-shadow 0.2s;
            border-top: 4px solid transparent;
        }

        .card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-hover);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-md);
            border-bottom: 1px solid #f1f1f1;
            padding-bottom: var(--spacing-sm);
        }

        .card-title {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--color-primary-dark);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* Card Variants */
        .card.alert {
            border-top-color: var(--color-emergency);
            background-color: var(--color-emergency-bg);
        }
        .card.alert .card-title { color: var(--color-emergency); }

        .card.safe {
            border-top-color: var(--color-success);
            background-color: var(--color-success-bg);
        }
        .card.safe .card-title { color: var(--color-success); }

        /* --- Typography & Data --- */
        .highlight-stat {
            font-size: 2rem;
            font-weight: 800;
            color: var(--color-primary);
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: var(--color-text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        ul.clean-list {
            list-style: none;
        }
        
        ul.clean-list li {
            padding: 6px 0;
            border-bottom: 1px solid #f8f9fa;
            display: flex;
            align-items: flex-start;
        }
        
        ul.clean-list li:last-child { border-bottom: none; }
        
        ul.clean-list li::before {
            content: '•';
            color: var(--color-primary);
            font-weight: bold;
            margin-right: 10px;
        }

        /* --- Tables --- */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.95rem;
        }

        .data-table th {
            text-align: left;
            padding: 12px;
            background-color: #f1f3f5;
            color: var(--color-text-muted);
            font-weight: 600;
        }

        .data-table td {
            padding: 12px;
            border-bottom: 1px solid #e9ecef;
        }

        .data-table tr:hover td {
            background-color: #f8f9fa;
        }

        .value-critical { color: var(--color-emergency); font-weight: bold; }
        .value-target { color: var(--color-success); font-weight: bold; }

        /* --- Badges --- */
        .badge {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: bold;
            text-transform: uppercase;
        }
        .badge-red { background-color: var(--color-emergency); color: white; }
        .badge-green { background-color: var(--color-success); color: white; }
        .badge-blue { background-color: var(--color-primary); color: white; }

        /* --- Action Button --- */
        .action-btn {
            display: inline-block;
            background-color: var(--color-primary);
            color: white;
            padding: 8px 16px;
            border-radius: 4px;
            text-decoration: none;
            font-size: 0.9rem;
            margin-top: 10px;
            transition: background 0.2s;
            cursor: pointer;
            border: none;
        }
        .action-btn:hover { background-color: var(--color-primary-dark); }
        
        .action-btn.green { background-color: var(--color-success); }
        .action-btn.green:hover { background-color: #21867a; }

        /* Responsive */
        @media (max-width: 768px) {
            .grid-2, .grid-3 { grid-template-columns: 1fr; }
            .tab-container { padding-bottom: 0; }
        }

    </style>
</head>
<body>

    <!-- Emergency Banner -->
    <div class="emergency-banner" id="alertBanner">
        <i class="fas fa-exclamation-triangle"></i>
        <span>EMERGENCY ACTION: Check ketones if symptomatic hyperglycaemia (Polyuria/Polydipsia) + volume depletion. Risk of DKA.</span>
        <button onclick="document.getElementById('alertBanner').style.display='none'" style="margin-left:auto; background:none; border:none; color:white; cursor:pointer;"><i class="fas fa-times"></i></button>
    </div>

    <!-- Header -->
    <header>
        <div>
            <h1>Type 2 Diabetes in Adults</h1>
            <div class="last-updated">Last Updated: Nov 20, 2024 • BMJ Best Practice</div>
        </div>
        <div style="text-align: right;">
            <span class="badge badge-blue">Clinical Reference</span>
        </div>
    </header>

    <!-- Navigation -->
    <nav>
        <div class="tab-container">
            <button class="tab-btn active" onclick="switchTab('overview')"><i class="fas fa-book-medical"></i> Overview</button>
            <button class="tab-btn" onclick="switchTab('diagnosis')"><i class="fas fa-stethoscope"></i> Diagnosis</button>
            <button class="tab-btn" onclick="switchTab('management')"><i class="fas fa-pills"></i> Management</button>
            <button class="tab-btn" onclick="switchTab('monitoring')"><i class="fas fa-heartbeat"></i> Monitoring</button>
        </div>
    </nav>

    <!-- Main Content -->
    <main>

        <!-- TAB: OVERVIEW -->
        <section id="overview" class="section-content active">
            <div class="grid-3">
                <!-- Definition Card -->
                <div class="card">
                    <div class="card-header">
                        <div class="card-title"><i class="fas fa-info-circle"></i> Definition</div>
                    </div>
                    <p style="color: #555; margin-bottom: 15px; line-height: 1.5;">
                        Progressive disorder characterized by deficits in <strong>insulin secretion</strong> and increased <strong>insulin resistance</strong>.
                    </p>
                    <div style="background:#f8f9fa; padding:10px; border-radius:4px;">
                        <strong>Key Pathophysiology (Ominous Octet):</strong>
                        <ul class="clean-list" style="margin-top:5px; font-size:0.9rem;">
                            <li>Muscle insulin resistance</li>
                            <li>Liver insulin resistance</li>
                            <li>Beta-cell failure</li>
                            <li>Adipocyte lipolysis</li>
                            <li>etc.</li>
                        </ul>
                    </div>
                </div>

                <!-- Epidemiology Card -->
                <div class="card">
                    <div class="card-header">
                        <div class="card-title"><i class="fas fa-chart-pie"></i> Epidemiology</div>
                    </div>
                    <div style="display:flex; justify-content:space-around; text-align:center;">
                        <div>
                            <div class="highlight-stat">10.5%</div>
                            <div class="stat-label">Global Prevalence (2021)</div>
                        </div>
                        <div>
                            <div class="highlight-stat">90%</div>
                            <div class="stat-label">Of all diabetes cases</div>
                        </div>
                    </div>
                    <div style="margin-top:15px; font-size:0.9rem; color:#666;">
                        <p><i class="fas fa-arrow-up"></i> Rising faster in low/middle-income countries.</p>
                        <p><i class="fas fa-exclamation-circle"></i> Often preceded by years of hyperinsulinaemia.</p>
                    </div>
                </div>

                <!-- Risk Factors Card -->
                <div class="card">
                    <div class="card-header">
                        <div class="card-title"><i class="fas fa-user-injured"></i> Strong Risk Factors</div>
                    </div>
                    <ul class="clean-list">
                        <li><strong>Overweight/Obesity</strong> (BMI >25/30)</li>
                        <li>Age > 40 (or >25 for South Asian/Chinese)</li>
                        <li>Family History / Genetic predisposition</li>
                        <li>History of Gestational Diabetes</li>
                        <li>Non-diabetic Hyperglycaemia</li>
                        <li>PCOS, Hypertension, Dyslipidaemia</li>
                    </ul>
                </div>
            </div>

            <!-- Comorbidities Banner -->
            <div class="card" style="margin-top: var(--spacing-lg); background-color: #e3f2fd; border-left: 5px solid var(--color-primary);">
                <h3 style="color:var(--color-primary-dark); margin-bottom:5px;"><i class="fas fa-link"></i> Common Comorbidities</h3>
                <div class="grid-3" style="margin-top:10px; gap:10px;">
                    <div><strong>Hypertension:</strong> 80-90%</div>
                    <div><strong>Lipid Disorders:</strong> 70-80%</div>
                    <div><strong>Overweight/Obesity:</strong> 60-70%</div>
                </div>
            </div>
        </section>

        <!-- TAB: DIAGNOSIS -->
        <section id="diagnosis" class="section-content">
            <!-- WHO Criteria Table -->
            <div class="card" style="margin-bottom: var(--spacing-lg);">
                <div class="card-header">
                    <div class="card-title"><i class="fas fa-clipboard-check"></i> WHO Diagnostic Criteria (1 of 4 required)</div>
                    <span class="badge badge-blue">Asymptomatic: Confirm on 2nd day</span>
                </div>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Test</th>
                            <th>Threshold</th>
                            <th>Conditions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Fasting Plasma Glucose</td>
                            <td class="value-critical">≥7.0 mmol/L (≥126 mg/dL)</td>
                            <td>Min 8-hour fast</td>
                        </tr>
                        <tr>
                            <td>2-hr Post-load Glucose</td>
                            <td class="value-critical">≥11.1 mmol/L (≥200 mg/dL)</td>
                            <td>After 75g oral glucose</td>
                        </tr>
                        <tr>
                            <td>HbA1c</td>
                            <td class="value-critical">≥48 mmol/mol (≥6.5%)</td>
                            <td>Reflects 3-month average</td>
                        </tr>
                        <tr>
                            <td>Random Plasma Glucose</td>
                            <td class="value-critical">≥11.1 mmol/L (≥200 mg/dL)</td>
                            <td>With classic symptoms</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="grid-2">
                <!-- Critical: Ketones/DKA -->
                <div class="card alert">
                    <div class="card-header">
                        <div class="card-title"><i class="fas fa-exclamation-triangle"></i> Red Flag: DKA Risk</div>
                    </div>
                    <p><strong>Action:</strong> Check urine ketones immediately if:</p>
                    <ul class="clean-list" style="margin-top:10px;">
                        <li>Patient is symptomatic (polyuria, polydipsia, weakness)</li>
                        <li>Signs of volume depletion (dry mucosa, tachycardia)</li>
                        <li>Glucose >16.6 mmol/L (>300 mg/dL)</li>
                    </ul>
                    <p style="margin-top:10px; font-size:0.9rem;"><strong>Note:</strong> DKA can occur in Type 2 if infection/stress/SGLT2i use present.</p>
                </div>

                <!-- Differential Diagnosis -->
                <div class="card">
                    <div class="card-header">
                        <div class="card-title"><i class="fas fa-random"></i> Differentiation (Type 1 vs Type 2)</div>
                    </div>
                    <p><strong>Suspect Type 1 / LADA if:</strong></p>
                    <ul class="clean-list">
                        <li>Age < 35 (though not exclusive)</li>
                        <li>Low BMI (<25)</li>
                        <li>Rapid onset, severe symptoms</li>
                        <li>Significant weight loss</li>
                        <li>Ketosis</li>
                    </ul>
                    <button class="action-btn" style="margin-top:10px; width:100%;">Order: C-peptide & Autoantibodies (GAD)</button>
                </div>
            </div>
        </section>

        <!-- TAB: MANAGEMENT -->
        <section id="management" class="section-content">
            <div class="card safe" style="margin-bottom: var(--spacing-lg);">
                <div class="card-header">
                    <div class="card-title"><i class="fas fa-heart"></i> Management Goals</div>
                </div>
                <div class="grid-3">
                    <div>
                        <div class="stat-label">Cardio-Renal Protection</div>
                        <div style="font-weight:bold; color:var(--color-text-main);">Priority for high-risk patients</div>
                    </div>
                    <div>
                        <div class="stat-label">Individualisation</div>
                        <div style="font-weight:bold; color:var(--color-text-main);">Discuss HbA1c targets</div>
                    </div>
                    <div>
                        <div class="stat-label">Lifestyle</div>
                        <div style="font-weight:bold; color:var(--color-text-main);">Diet & Exercise foundation</div>
                    </div>
                </div>
            </div>

            <!-- Treatment Grid -->
            <h3 style="margin-bottom:15px; color:var(--color-primary-dark);">Treatment Pathway</h3>
            <div class="grid-3">
                
                <!-- Initial Therapy -->
                <div class="card">
                    <div class="card-header">
                        <div class="card-title"><i class="fas fa-step-forward"></i> 1st Line</div>
                        <span class="badge badge-green">Standard</span>
                    </div>
                    <h4 style="margin-bottom:10px;">Metformin</h4>
                    <p style="font-size:0.9rem; color:#555;">Initial antihyperglycaemic therapy unless contraindicated.</p>
                    <hr style="margin:10px 0; border:0; border-top:1px solid #eee;">
                    <p><strong>Action:</strong> Start low, titrate up.</p>
                </div>

                <!-- High Risk Modification -->
                <div class="card" style="border-top-color: var(--color-primary);">
                    <div class="card-header">
                        <div class="card-title"><i class="fas fa-shield-alt"></i> High CVD/CKD Risk?</div>
                        <span class="badge badge-blue">Add-on</span>
                    </div>
                    <p style="font-size:0.9rem; font-weight:bold; margin-bottom:10px;">Consider regardless of HbA1c:</p>
                    <ul class="clean-list">
                        <li><strong>SGLT2 inhibitors:</strong> (Renal benefit, HF benefit)</li>
                        <li><strong>GLP-1 agonists:</strong> (CVD benefit)</li>
                    </ul>
                    <div style="background:#eefbff; padding:5px; border-radius:4px; font-size:0.85rem; margin-top:10px;">
                        These have cardiovascular and renal outcomes benefits.
                    </div>
                </div>

                <!-- Escalation -->
                <div class="card">
                    <div class="card-header">
                        <div class="card-title"><i class="fas fa-layer-group"></i> Escalation</div>
                        <span class="badge badge-red">If uncontrolled</span>
                    </div>
                    <ol style="padding-left:20px; font-size:0.9rem;">
                        <li style="margin-bottom:5px;"><strong>Dual Therapy:</strong> Add Sulfonylurea, DPP-4i, etc.</li>
                        <li style="margin-bottom:5px;"><strong>Triple Therapy:</strong> Combination of oral agents.</li>
                        <li style="margin-bottom:5px;"><strong>Insulin:</strong> Required if beta-cell failure severe.</li>
                    </ol>
                </div>

            </div>

            <!-- CV Risk Management -->
            <div class="grid-2" style="margin-top: var(--spacing-lg);">
                <div class="card">
                    <div class="card-header">
                        <div class="card-title"><i class="fas fa-tint"></i> Lipid & BP Targets</div>
                    </div>
                    <table class="data-table">
                        <tr>
                            <td><strong>Blood Pressure</strong></td>
                            <td>Control to reduce macrovascular risk</td>
                        </tr>
                        <tr>
                            <td><strong>LDL Cholesterol</strong></td>
                            <td>High intensity statins often needed</td>
                        </tr>
                        <tr>
                            <td><strong>Smoking</strong></td>
                            <td>Cessation critical</td>
                        </tr>
                    </table>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <div class="card-title"><i class="fas fa-user-shield"></i> Frail Patients</div>
                    </div>
                    <p style="font-size:0.9rem;"><strong>De-escalation is as important as intensification.</strong></p>
                    <ul class="clean-list" style="margin-top:5px; font-size:0.9rem;">
                        <li>Use validated tools (eFI, Rockwood).</li>
                        <li>Relax HbA1c targets.</li>
                        <li>Avoid hypoglycaemia.</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- TAB: MONITORING -->
        <section id="monitoring" class="section-content">
            <div class="grid-3">
                <!-- Annual Screening -->
                <div class="card">
                    <div class="card-header">
                        <div class="card-title"><i class="fas fa-calendar-check"></i> Annual Screening Checklist</div>
                    </div>
                    <label class="checklist-item" style="display:flex; align-items:center; gap:10px; margin-bottom:10px;">
                        <input type="checkbox">
                        <span>HbA1c (Every 3-6 mo until stable)</span>
                    </label>
                    <label class="checklist-item" style="display:flex; align-items:center; gap:10px; margin-bottom:10px;">
                        <input type="checkbox">
                        <span>Blood Pressure</span>
                    </label>
                    <label class="checklist-item" style="display:flex; align-items:center; gap:10px; margin-bottom:10px;">
                        <input type="checkbox">
                        <span>Fasting Lipids</span>
                    </label>
                    <label class="checklist-item" style="display:flex; align-items:center; gap:10px; margin-bottom:10px;">
                        <input type="checkbox">
                        <span>Urine Albumin/Creatinine Ratio</span>
                    </label>
                    <label class="checklist-item" style="display:flex; align-items:center; gap:10px; margin-bottom:10px;">
                        <input type="checkbox">
                        <span>Serum Creatinine & eGFR</span>
                    </label>
                </div>

                <!-- Specialized Referrals -->
                <div class="card">
                    <div class="card-header">
                        <div class="card-title"><i class="fas fa-eye"></i> Complication Checks</div>
                    </div>
                    <div style="margin-bottom:15px;">
                        <div style="font-weight:bold; color:var(--color-primary);">Retinopathy Screening</div>
                        <p style="font-size:0.9rem; color:#666;">Refer to local eye screening service immediately upon diagnosis.</p>
                    </div>
                    <div>
                        <div style="font-weight:bold; color:var(--color-primary);">Foot Assessment</div>
                        <p style="font-size:0.9rem; color:#666;">Assess risk at diagnosis and annually. Refer to Foot Protection Service if issues arise.</p>
                    </div>
                    <button class="action-btn green" style="width:100%; margin-top:15px;">Foot Risk Calculator</button>
                </div>

                <!-- Liver Screening -->
                <div class="card">
                    <div class="card-header">
                        <div class="card-title"><i class="fas fa-liver"></i> Liver (MASLD)</div>
                    </div>
                    <p style="font-size:0.9rem; margin-bottom:10px;">Screen for fibrosis secondary to Metabolic Dysfunction-Associated Steatotic Liver Disease.</p>
                    <div style="background:#f1f1f1; padding:8px; border-radius:4px; font-size:0.85rem;">
                        <strong>Calculate FIB-4 Index:</strong><br>
                        Age, AST, ALT, Platelets.
                    </div>
                    <div style="margin-top:10px; font-size:0.85rem;">
                        If Indeterminate/High: Order Elastography or ELF test.
                    </div>
                </div>
            </div>

            <!-- Reference Footer -->
            <div style="margin-top: var(--spacing-lg); text-align: center; color: var(--color-text-muted); font-size: 0.8rem;">
                <p>Reference: BMJ Best Practice 'Type 2 diabetes in adults' (Last updated Nov 20, 2024).</p>
                <p>Always consult local guidelines and specialist advice.</p>
            </div>
        </section>

    </main>

    <script>
        function switchTab(tabId) {
            // Hide all sections
            const sections = document.querySelectorAll('.section-content');
            sections.forEach(sec => sec.classList.remove('active'));

            // Deactivate all buttons
            const buttons = document.querySelectorAll('.tab-btn');
            buttons.forEach(btn => btn.classList.remove('active'));

            // Show selected section
            document.getElementById(tabId).classList.add('active');

            // Activate selected button
            const activeBtn = Array.from(buttons).find(btn => btn.getAttribute('onclick').includes(tabId));
            if(activeBtn) activeBtn.classList.add('active');
        }

        // Simple interaction for checklists
        const checkboxes = document.querySelectorAll('input[type="checkbox"]');
        checkboxes.forEach(box => {
            box.addEventListener('change', function() {
                const parent = this.parentElement;
                if(this.checked) {
                    parent.style.textDecoration = "line-through";
                    parent.style.opacity = "0.6";
                } else {
                    parent.style.textDecoration = "none";
                    parent.style.opacity = "1";
                }
            });
        });
    </script>
</body>
</html>