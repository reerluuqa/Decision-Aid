<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Type 1 Diabetes: Quick Clinical Reference (NICE CKS 2025)</title>
    <style>
        :root {
            /* Palette */
            --emergency: #d32f2f;
            --emergency-bg: #ffebee;
            --warning: #f57c00;
            --warning-bg: #fff3e0;
            --success: #2e7d32;
            --success-bg: #e8f5e9;
            --primary: #0277bd;
            --primary-light: #e1f5fe;
            --neutral: #455a64;
            --bg: #f4f6f8;
            --card-bg: #ffffff;
            --text-main: #263238;
            --text-light: #546e7a;
            --border: #cfd8dc;
            
            /* Spacing & Radius */
            --radius-sm: 4px;
            --radius-md: 8px;
            --radius-lg: 12px;
            --shadow-sm: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);
            --shadow-md: 0 4px 6px rgba(0,0,0,0.1);
            --shadow-hover: 0 10px 20px rgba(0,0,0,0.15);
            
            /* Transitions */
            --trans-fast: 0.2s ease;
            --trans-med: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg);
            color: var(--text-main);
            line-height: 1.5;
            font-size: 15px;
        }

        /* Typography */
        h1, h2, h3, h4 { letter-spacing: -0.02em; color: var(--text-main); }
        h1 { font-size: 1.5rem; font-weight: 700; }
        h2 { font-size: 1.15rem; font-weight: 600; margin-bottom: 0.75rem; display: flex; align-items: center; gap: 8px; }
        h3 { font-size: 1rem; font-weight: 600; color: var(--neutral); margin-bottom: 0.5rem; }
        .text-sm { font-size: 0.85rem; color: var(--text-light); }
        .text-bold { font-weight: 600; }
        .text-emergency { color: var(--emergency); font-weight: 700; }
        .text-success { color: var(--success); font-weight: 600; }

        /* Layout Structure */
        header {
            background: var(--card-bg);
            border-bottom: 1px solid var(--border);
            padding: 1rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: var(--shadow-sm);
        }
        .meta-badge {
            background: var(--primary-light);
            color: var(--primary);
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        main {
            max-width: 1400px;
            margin: 0 auto;
            padding: 1.5rem;
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            gap: 1.5rem;
        }

        /* Cards */
        .card {
            background: var(--card-bg);
            border-radius: var(--radius-md);
            padding: 1.25rem;
            box-shadow: var(--shadow-sm);
            transition: transform var(--trans-fast), box-shadow var(--trans-fast);
            border: 1px solid transparent;
            display: flex;
            flex-direction: column;
        }
        .card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        /* Grid Spans */
        .col-span-12 { grid-column: span 12; }
        .col-span-8 { grid-column: span 8; }
        .col-span-6 { grid-column: span 6; }
        .col-span-4 { grid-column: span 4; }
        .col-span-3 { grid-column: span 3; }

        /* Emergency Section */
        .emergency-banner {
            background: var(--emergency);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            gap: 1rem;
            box-shadow: 0 4px 15px rgba(211, 47, 47, 0.3);
            animation: pulse 3s infinite;
            cursor: pointer;
        }
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(211, 47, 47, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(211, 47, 47, 0); }
            100% { box-shadow: 0 0 0 0 rgba(211, 47, 47, 0); }
        }
        .emergency-icon { font-size: 1.5rem; }
        
        .red-flag-box {
            border-left: 4px solid var(--emergency);
            background: var(--emergency-bg);
            padding: 0.75rem;
            margin-bottom: 0.75rem;
            border-radius: 0 var(--radius-sm) var(--radius-sm) 0;
        }
        .action-box {
            border-left: 4px solid var(--primary);
            background: var(--primary-light);
            padding: 0.75rem;
            margin-bottom: 0.75rem;
            border-radius: 0 var(--radius-sm) var(--radius-sm) 0;
        }

        /* Lists & Tables */
        ul.styled-list { list-style: none; }
        ul.styled-list li {
            position: relative;
            padding-left: 1.25rem;
            margin-bottom: 0.5rem;
        }
        ul.styled-list li::before {
            content: "‚Ä¢";
            color: var(--primary);
            font-weight: bold;
            position: absolute;
            left: 0;
        }
        
        table.compact {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.85rem;
        }
        table.compact th {
            text-align: left;
            background: #f0f4f8;
            padding: 6px 8px;
            color: var(--neutral);
            border-bottom: 2px solid var(--border);
        }
        table.compact td {
            padding: 8px;
            border-bottom: 1px solid #eee;
            vertical-align: top;
        }
        .tag {
            display: inline-block;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 700;
        }
        .tag-red { background: #ffebee; color: var(--emergency); }
        .tag-green { background: #e8f5e9; color: var(--success); }
        .tag-blue { background: #e3f2fd; color: var(--primary); }

        /* Interactive Checklist */
        .checklist-item {
            display: flex;
            align-items: center;
            padding: 8px;
            border-bottom: 1px solid #eee;
            cursor: pointer;
            transition: background 0.2s;
        }
        .checklist-item:hover { background: #fafafa; }
        .checklist-item input[type="checkbox"] {
            margin-right: 10px;
            accent-color: var(--success);
            width: 18px;
            height: 18px;
        }
        .checklist-item.done span {
            text-decoration: line-through;
            color: #aaa;
        }

        /* Tabs */
        .tabs { display: flex; gap: 0.5rem; margin-bottom: 1rem; border-bottom: 1px solid var(--border); }
        .tab-btn {
            background: none;
            border: none;
            padding: 0.5rem 1rem;
            cursor: pointer;
            font-weight: 600;
            color: var(--text-light);
            border-bottom: 3px solid transparent;
            transition: all 0.2s;
        }
        .tab-btn.active { color: var(--primary); border-bottom-color: var(--primary); }
        .tab-content { display: none; animation: fadeIn 0.3s; }
        .tab-content.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

        /* Utility */
        .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }
        .highlight-target { font-size: 1.25rem; font-weight: 700; color: var(--success); display: block; margin-top: 4px; }
        
        /* Responsive */
        @media (max-width: 1024px) {
            .col-span-8, .col-span-4, .col-span-6, .col-span-3 { grid-column: span 12; }
            .grid-2 { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

<header>
    <div>
        <h1>Type 1 Diabetes: Clinical Reference</h1>
        <div class="text-sm">Primary Care Role ‚Ä¢ NICE CKS</div>
    </div>
    <div class="meta-badge">
        Last Revised: Sept 2025
    </div>
</header>

<main>
    
    <!-- EMERGENCY BANNER -->
    <div class="col-span-12">
        <div class="emergency-banner" onclick="scrollToSection('diagnosis')">
            <div class="emergency-icon">‚ö†Ô∏è</div>
            <div>
                <strong>CRITICAL: Immediate Referral Required</strong>
                <div class="text-sm" style="opacity: 0.9;">Suspect DKA? Child with suspected diabetes? Refer to Specialist Team Same Day.</div>
            </div>
        </div>
    </div>

    <!-- DIAGNOSIS & PATHWAY -->
    <div class="col-span-8" id="diagnosis">
        <div class="card" style="border-top: 4px solid var(--primary);">
            <h2><span style="font-size: 1.2rem;">ü©∫</span> Diagnosis & Immediate Action</h2>
            
            <div class="tabs">
                <button class="tab-btn active" onclick="switchTab('tab-adults')">Adults (12m+)</button>
                <button class="tab-btn" onclick="switchTab('tab-children')">Children & Young People</button>
            </div>

            <div id="tab-adults" class="tab-content active">
                <div class="red-flag-box">
                    <strong class="text-emergency">Do NOT use a risk assessment tool (QRISK) for CVD risk in Type 1.</strong>
                </div>
                <div class="grid-2">
                    <div>
                        <h3>Confirming Diagnosis</h3>
                        <ul class="styled-list">
                            <li>Measure <strong>random plasma glucose</strong> (>11 mmol/L indicates hyperglycaemia).</li>
                            <li><strong>Autoantibodies testing</strong> is now recommended in adults to confirm Type 1 vs Type 2 (Updated Sept 2025).</li>
                            <li>Do not exclude Type 1 based on age (can occur at any age) or obesity.</li>
                        </ul>
                    </div>
                    <div>
                        <h3>Immediate Referral</h3>
                        <div class="action-box">
                            <strong>Refer immediately to Diabetes Specialist Team</strong>
                            <div class="text-sm">If DKA suspected or diagnosis is uncertain.</div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="tab-children" class="tab-content">
                <div class="red-flag-box">
                    <strong class="text-emergency">SAME DAY REFERRAL</strong>
                    <div>Any child/young person presenting in primary care with suspected diabetes must be referred to and seen by a multidisciplinary paediatric diabetes team on the <strong>same day</strong>.</div>
                </div>
                <h3>Suspecting DKA in Children</h3>
                <ul class="styled-list text-sm">
                    <li>Be aware that DKA at diagnosis is common.</li>
                    <li>Signs: Kussmaul breathing, abdominal pain, vomiting, dehydration, reduced consciousness.</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- MONITORING & TARGETS -->
    <div class="col-span-4">
        <div class="card" style="border-top: 4px solid var(--success);">
            <h2><span style="font-size: 1.2rem;">üéØ</span> Targets (QOF 2025/26)</h2>
            
            <div style="margin-bottom: 1.5rem;">
                <div class="text-sm">HbA1c (IFCC)</div>
                <div class="highlight-target">&le; 58 mmol/mol</div>
                <div class="text-sm">Target for non-frail patients (DM020).</div>
            </div>

            <div style="margin-bottom: 1.5rem;">
                <div class="text-sm">Blood Pressure</div>
                <div class="highlight-target">&le; 140/90 mmHg</div>
                <div class="text-sm">For patients aged &le;79 without frailty (DM036).</div>
            </div>

            <h3>Key QOF Indicators</h3>
            <table class="compact">
                <thead>
                    <tr>
                        <th>Code</th>
                        <th>Requirement</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>DM006</strong></td>
                        <td>Nephropathy on ACE-I/ARB</td>
                    </tr>
                    <tr>
                        <td><strong>DM012</strong></td>
                        <td>Foot Exam & Risk Class</td>
                    </tr>
                    <tr>
                        <td><strong>DM034</strong></td>
                        <td>Statins (>40yrs)</td>
                    </tr>
                    <tr>
                        <td><strong>SMOK002</strong></td>
                        <td>Smoking Status recorded</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- ANNUAL CHECKLIST (Interactive) -->
    <div class="col-span-6">
        <div class="card">
            <h2><span style="font-size: 1.2rem;">‚úÖ</span> 9 Key Care Processes</h2>
            <div class="text-sm" style="margin-bottom: 1rem;">Click to mark as completed for review session.</div>
            
            <div id="checklist-container">
                <label class="checklist-item">
                    <input type="checkbox" onchange="toggleCheck(this)">
                    <span>HbA1c measurement</span>
                </label>
                <label class="checklist-item">
                    <input type="checkbox" onchange="toggleCheck(this)">
                    <span>Blood pressure</span>
                </label>
                <label class="checklist-item">
                    <input type="checkbox" onchange="toggleCheck(this)">
                    <span>Blood lipids (cholesterol)</span>
                </label>
                <label class="checklist-item">
                    <input type="checkbox" onchange="toggleCheck(this)">
                    <span>Retinopathy screening</span>
                </label>
                <label class="checklist-item">
                    <input type="checkbox" onchange="toggleCheck(this)">
                    <span>Foot examination (risk stratification)</span>
                </label>
                <label class="checklist-item">
                    <input type="checkbox" onchange="toggleCheck(this)">
                    <span>Urinary albumin (kidney function)</span>
                </label>
                <label class="checklist-item">
                    <input type="checkbox" onchange="toggleCheck(this)">
                    <span>Serum creatinine/eGFR</span>
                </label>
                <label class="checklist-item">
                    <input type="checkbox" onchange="toggleCheck(this)">
                    <span>BMI check</span>
                </label>
                <label class="checklist-item">
                    <input type="checkbox" onchange="toggleCheck(this)">
                    <span>Smoking status</span>
                </label>
            </div>
        </div>
    </div>

    <!-- MANAGEMENT & COMPLICATIONS -->
    <div class="col-span-6">
        <div class="card">
            <h2><span style="font-size: 1.2rem;">üíä</span> Management & Complications</h2>
            
            <div style="margin-bottom: 1.5rem;">
                <h3>Cardiovascular Risk</h3>
                <ul class="styled-list text-sm">
                    <li><strong>Statin:</strong> Offer Atorvastatin 20mg if >40yrs, >10yrs duration, nephropathy, or other risk factors.</li>
                    <li><strong>Secondary Prevention:</strong> Atorvastatin 80mg (or lower if side effects).</li>
                </ul>
            </div>

            <h3>Complications: "Look For"</h3>
            <div style="display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 1rem;">
                <div class="tag tag-red">DKA (Emergency)</div>
                <div class="tag tag-red">Hypoglycaemia</div>
                <div class="tag tag-blue">Retinopathy</div>
                <div class="tag tag-blue">Neuropathy</div>
                <div class="tag tag-blue">Nephropathy</div>
                <div class="tag tag-blue">Foot Ulcer</div>
            </div>

            <h3>Autoimmune Associations</h3>
            <div class="action-box" style="background: #fff8e1; border-color: #ffc107;">
                <strong class="text-warning">Screen for:</strong>
                <ul class="styled-list text-sm" style="margin-top: 4px;">
                    <li>Thyroid disease (Hashimoto's/Graves) - Most common.</li>
                    <li>Coeliac disease.</li>
                    <li>Addison's disease (less common).</li>
                    <li>Pernicious anaemia/Vitiligo.</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- BACKGROUND INFO (Collapsible) -->
    <div class="col-span-12">
        <div class="card" style="background: #fafafa;">
            <h2 onclick="toggleAccordion('bg-content')" style="cursor: pointer; justify-content: space-between;">
                <span><span style="font-size: 1.2rem;">üìò</span> Background Information</span>
                <span id="bg-chevron" style="font-size: 0.8rem;">‚ñº</span>
            </h2>
            <div id="bg-content" style="display: none; margin-top: 1rem;">
                <div class="grid-2">
                    <div>
                        <h3>Definition</h3>
                        <p class="text-sm">Type 1 diabetes is caused by autoimmune destruction of pancreatic beta cells, resulting in absolute insulin deficiency and persistent hyperglycaemia. It accounts for 5-10% of all diabetes cases.</p>
                    </div>
                    <div>
                        <h3>Prevalence</h3>
                        <p class="text-sm">Approx 464,000 people in UK (8% of diabetes population). Incidence peaks in puberty (10-14 years). Male preponderance above age 15.</p>
                    </div>
                    <div>
                        <h3>Risk Factors</h3>
                        <p class="text-sm">Multifactorial (Genetic + Environmental). Siblings risk 6-7%. Monozygotic twins >70%. Environmental triggers may include viral infections (enteroviruses), gut microbiome changes, and vitamin D.</p>
                    </div>
                    <div>
                        <h3>Prognosis</h3>
                        <p class="text-sm">Without insulin, fatal within days/weeks. Optimal glucose/BP control significantly reduces micro/macrovascular risks. Life expectancy improving but complications remain a risk.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

</main>

<footer>
    <div class="text-sm" style="text-align: center; padding: 2rem; color: var(--text-light);">
        Source: NICE Clinical Knowledge Summaries (CKS) - Diabetes Type 1. <br>
        Last Review: September 2025. Based on provided document content.
    </div>
</footer>

<script>
    // Tab Switching Logic
    function switchTab(tabId) {
        // Hide all contents
        document.querySelectorAll('.tab-content').forEach(el => {
            el.classList.remove('active');
        });
        // Deactivate all buttons
        document.querySelectorAll('.tab-btn').forEach(el => {
            el.classList.remove('active');
        });
        
        // Show target
        document.getElementById(tabId).classList.add('active');
        // Activate button (find the button that calls this function with this ID - simplified logic)
        const btns = document.querySelectorAll('.tab-btn');
        if(tabId === 'tab-adults') btns[0].classList.add('active');
        else btns[1].classList.add('active');
    }

    // Accordion Logic
    function toggleAccordion(contentId) {
        const content = document.getElementById(contentId);
        const chevron = document.getElementById('bg-chevron');
        
        if (content.style.display === "none") {
            content.style.display = "block";
            chevron.textContent = "‚ñ≤";
        } else {
            content.style.display = "none";
            chevron.textContent = "‚ñº";
        }
    }

    // Checklist Visual Feedback
    function toggleCheck(checkbox) {
        const parent = checkbox.closest('.checklist-item');
        if (checkbox.checked) {
            parent.classList.add('done');
        } else {
            parent.classList.remove('done');
        }
    }

    // Smooth Scroll
    function scrollToSection(id) {
        document.getElementById(id).scrollIntoView({ behavior: 'smooth' });
    }
</script>

</body>
</html>