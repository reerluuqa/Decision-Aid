<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HHS Clinical Companion | Quick Scan Reference</title>
    <style>
        :root {
            /* Color Palette */
            --primary: #0d6efd;       /* Clinical Blue */
            --primary-dark: #0a58ca;
            --danger: #dc3545;        /* Emergency Red */
            --danger-bg: #f8d7da;
            --success: #198754;       /* Safe Green */
            --success-bg: #d1e7dd;
            --warning: #ffc107;       /* Caution Yellow */
            --dark: #212529;
            --light: #f8f9fa;
            --white: #ffffff;
            --gray: #6c757d;
            
            /* Spacing & Borders */
            --radius: 8px;
            --shadow: 0 4px 6px rgba(0,0,0,0.08);
            --shadow-hover: 0 8px 15px rgba(0,0,0,0.12);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #eef2f5;
            color: var(--dark);
            line-height: 1.5;
            padding-bottom: 40px;
        }

        /* Typography */
        h1, h2, h3 { font-weight: 700; letter-spacing: -0.5px; }
        .text-sm { font-size: 0.875rem; }
        .text-muted { color: var(--gray); }
        .text-danger { color: var(--danger); font-weight: bold; }
        .text-success { color: var(--success); font-weight: bold; }

        /* Layout */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        header {
            background: var(--white);
            padding: 20px 0;
            border-bottom: 4px solid var(--primary);
            margin-bottom: 20px;
        }
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }
        .header-title h1 { font-size: 1.8rem; color: var(--dark); }
        .header-title span { color: var(--primary); }

        /* CRITICAL ALERT SECTION (Top Priority) */
        .red-flag-section {
            background: var(--danger);
            color: white;
            padding: 15px 20px;
            border-radius: var(--radius);
            margin-bottom: 25px;
            box-shadow: var(--shadow);
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(220, 53, 69, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(220, 53, 69, 0); }
            100% { box-shadow: 0 0 0 0 rgba(220, 53, 69, 0); }
        }

        .red-flag-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
            font-size: 1.2rem;
            font-weight: bold;
        }
        
        .red-flag-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .red-flag-item {
            background: rgba(255,255,255,0.15);
            padding: 10px;
            border-radius: 6px;
            font-size: 0.9rem;
            border-left: 3px solid rgba(255,255,255,0.8);
        }

        /* Dashboard Grid */
        .dashboard {
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        /* Cards */
        .card {
            background: var(--white);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            padding: 20px;
            transition: transform 0.2s, box-shadow 0.2s;
            border-top: 4px solid transparent;
        }
        .card:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-hover);
        }
        
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }
        .card-header h3 { color: var(--primary-dark); font-size: 1.1rem; display: flex; align-items: center; gap: 8px;}

        /* Specific Card Styles */
        .definition-card { grid-column: span 12; border-top-color: var(--primary); }
        
        .clinical-card { grid-column: span 4; border-top-color: var(--warning); }
        
        .diagnostic-card { grid-column: span 8; border-top-color: var(--primary); }

        .investigation-card { grid-column: span 6; border-top-color: var(--dark); }

        .calculator-card { grid-column: span 6; border-top-color: var(--success); }

        .management-card { grid-column: span 12; border-top-color: var(--success); }

        @media (max-width: 900px) {
            .clinical-card, .diagnostic-card, .investigation-card, .calculator-card { grid-column: span 12; }
        }

        /* Diagnostic Badges */
        .diagnostic-criteria {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 10px;
            text-align: center;
        }
        .crit-box {
            background: var(--light);
            padding: 10px;
            border-radius: var(--radius);
            flex: 1;
            min-width: 100px;
        }
        .crit-val { font-size: 1.4rem; font-weight: 800; color: var(--danger); }
        .crit-label { font-size: 0.8rem; color: var(--gray); text-transform: uppercase; }

        /* Lists & Tables */
        .checklist { list-style: none; }
        .checklist li {
            padding: 8px 0;
            border-bottom: 1px solid #eee;
            display: flex;
            align-items: start;
            gap: 10px;
        }
        .checklist li::before {
            content: "‚Ä¢";
            color: var(--primary);
            font-weight: bold;
        }

        /* Calculator Styles */
        .calc-form { display: flex; flex-direction: column; gap: 10px; }
        .calc-row { display: flex; gap: 10px; }
        .input-group { flex: 1; }
        .input-group label { display: block; font-size: 0.8rem; margin-bottom: 4px; color: var(--gray); }
        .input-group input { 
            width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; font-size: 1rem;
        }
        .calc-result { 
            margin-top: 15px; padding: 10px; text-align: center; border-radius: 4px; 
            font-weight: bold; font-size: 1.2rem; background: var(--light); display: none;
        }

        /* Management Steps */
        .steps-container { display: flex; gap: 20px; overflow-x: auto; padding-bottom: 10px; }
        .step {
            flex: 1;
            min-width: 200px;
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: var(--radius);
            padding: 15px;
        }
        .step-num { 
            background: var(--primary); color: white; width: 25px; height: 25px; 
            border-radius: 50%; display: inline-flex; align-items: center; justify-content: center;
            font-size: 0.8rem; margin-bottom: 10px;
        }
        .step h4 { margin-bottom: 8px; color: var(--dark); }
        
        .stop-alert {
            background: var(--danger-bg);
            border: 1px solid var(--danger);
            color: #842029;
            padding: 10px;
            border-radius: 4px;
            margin-top: 10px;
            font-size: 0.9rem;
            font-weight: bold;
        }

        /* Tables */
        table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 0.9rem; }
        th, td { padding: 10px; text-align: left; border-bottom: 1px solid #ddd; }
        th { background: var(--light); color: var(--dark); }
        tr:hover { background: #f1f3f5; }

        /* Footer */
        footer {
            text-align: center;
            font-size: 0.8rem;
            color: var(--gray);
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #ddd;
        }

        /* Icons (using unicode for standalone requirement) */
        .icon::before { margin-right: 5px; }
        .icon-alert::before { content: "‚ö†Ô∏è"; }
        .icon-heart::before { content: "‚ù§Ô∏è"; }
        .icon-flask::before { content: "üß™"; }
        .icon-meds::before { content: "üíä"; }
        .icon-water::before { content: "üíß"; }
        .icon-check::before { content: "‚úÖ"; }
    </style>
</head>
<body>

<header>
    <div class="container header-content">
        <div class="header-title">
            <h1>HHS Clinical <span>Companion</span></h1>
            <p class="text-muted text-sm">Hyperosmolar Hyperglycaemic State - Quick Scan Reference</p>
        </div>
        <div>
            <span style="background: var(--primary); color: white; padding: 5px 10px; border-radius: 20px; font-size: 0.8rem;">Updated: Aug 2024</span>
        </div>
    </div>
</header>

<div class="container">

    <!-- EMERGENCY RED FLAGS -->
    <section id="emergency">
        <div class="red-flag-section">
            <div class="red-flag-header">
                <span class="icon-alert"> CRITICAL ESCALATION TRIGGERS</span>
            </div>
            <p style="margin-bottom: 10px; font-size: 0.95rem;">
                <strong>Involve Senior / Critical Care Support Immediately if ANY of the following are present:</strong>
            </p>
            <div class="red-flag-grid">
                <div class="red-flag-item">Serum Osmolality &gt; <strong>350</strong> mOsm/kg</div>
                <div class="red-flag-item">Serum Sodium &gt; <strong>160</strong> mmol/L</div>
                <div class="red-flag-item">pH &lt; <strong>7.1</strong></div>
                <div class="red-flag-item">K+ &lt; 3.5 or &gt; <strong>6.0</strong> mmol/L</div>
                <div class="red-flag-item">GCS &lt; <strong>12</strong> (or AVPU abnormal)</div>
                <div class="red-flag-item">Systolic BP &lt; <strong>90</strong> mmHg</div>
                <div class="red-flag-item">O‚ÇÇ Saturation &lt; <strong>92%</strong> on air</div>
                <div class="red-flag-item">Serum Creatinine &gt; <strong>200</strong> ¬µmol/L</div>
            </div>
        </div>
    </section>

    <!-- DASHBOARD -->
    <main class="dashboard">

        <!-- DEFINITION & OVERVIEW -->
        <div class="card definition-card">
            <div class="card-header">
                <h3><span class="icon-heart"> What is HHS?</span></h3>
            </div>
            <p style="margin-bottom: 10px;">
                A serious complication of diabetes characterized by <strong>profound hyperglycaemia</strong>, <strong>hyperosmolality</strong>, and <strong>volume depletion</strong> without significant ketoacidosis.
            </p>
            <div style="display: flex; gap: 15px; flex-wrap: wrap; margin-top: 10px;">
                <div style="background: #e7f1ff; padding: 8px 12px; border-radius: 4px; font-size: 0.9rem;">
                    <strong>Typical Patient:</strong> Older people with Type 2 Diabetes.
                </div>
                <div style="background: #fff3cd; padding: 8px 12px; border-radius: 4px; font-size: 0.9rem;">
                    <strong>Mortality:</strong> High (5% - 20%).
                </div>
                <div style="background: #d1e7dd; padding: 8px 12px; border-radius: 4px; font-size: 0.9rem;">
                    <strong>Key Feature:</strong> Significant cognitive impairment (lethargy, stupor, coma).
                </div>
            </div>
        </div>

        <!-- CLINICAL PRESENTATION -->
        <div class="card clinical-card">
            <div class="card-header">
                <h3><span class="icon-alert"> Clinical Presentation</span></h3>
            </div>
            <ul class="checklist">
                <li><strong>Polyuria & Polydipsia</strong> (Days/Weeks)</li>
                <li><strong>Progressive Lethargy / Confusion</strong> (Strong correlation with osmolality)</li>
                <li><strong>Weakness & Weight Loss</strong></li>
                <li><strong>Signs of Hypovolaemia:</strong>
                    <br><span class="text-sm text-muted">Tachycardia, Dry mucous membranes, Poor skin turgor, Hypotension.</span>
                </li>
                <li><strong>Focal Neuro Signs:</strong>
                    <br><span class="text-sm text-muted">Seizures, hemiparesis (rare but possible).</span>
                </li>
            </ul>
            <div style="margin-top: 15px; padding: 10px; background: #fdf7fe; border: 1px solid #e0cffc; border-radius: 4px; font-size: 0.85rem;">
                <strong>üí° Tip:</strong> Always check feet for ulceration/infection. Assume high risk if patient is confused.
            </div>
        </div>

        <!-- DIAGNOSTIC CRITERIA -->
        <div class="card diagnostic-card">
            <div class="card-header">
                <h3><span class="icon-flask"> Diagnostic Criteria (HHS vs DKA)</span></h3>
            </div>
            <div class="diagnostic-criteria">
                <div class="crit-box">
                    <div class="crit-val">‚â•30</div>
                    <div class="crit-label">Glucose (mmol/L)</div>
                    <div class="text-sm text-muted">‚â•540 mg/dL</div>
                </div>
                <div class="crit-box">
                    <div class="crit-val">‚â•320</div>
                    <div class="crit-label">Osmolality</div>
                    <div class="text-sm text-muted">mOsm/kg</div>
                </div>
                <div class="crit-box">
                    <div class="crit-val text-success">‚â•7.3</div>
                    <div class="crit-label">pH (Venous)</div>
                    <div class="text-sm text-muted">Mild Acidosis OK</div>
                </div>
                <div class="crit-box">
                    <div class="crit-val text-success">‚â§3</div>
                    <div class="crit-label">Ketones</div>
                    <div class="text-sm text-muted">mmol/L</div>
                </div>
            </div>
            <div style="margin-top: 15px;">
                <h4 style="font-size: 0.9rem; color: var(--gray); margin-bottom: 5px;">Immediate Investigations</h4>
                <div style="display: flex; gap: 5px; flex-wrap: wrap;">
                    <span class="tag" style="background:#e2e6ea; padding:2px 6px; border-radius:4px; font-size:0.8rem;">Blood Glucose</span>
                    <span class="tag" style="background:#e2e6ea; padding:2px 6px; border-radius:4px; font-size:0.8rem;">Blood Ketones</span>
                    <span class="tag" style="background:#e2e6ea; padding:2px 6px; border-radius:4px; font-size:0.8rem;">VBG (pH/Lactate)</span>
                    <span class="tag" style="background:#e2e6ea; padding:2px 6px; border-radius:4px; font-size:0.8rem;">Urea & Electrolytes</span>
                    <span class="tag" style="background:#e2e6ea; padding:2px 6px; border-radius:4px; font-size:0.8rem;">Osmolality</span>
                    <span class="tag" style="background:#e2e6ea; padding:2px 6px; border-radius:4px; font-size:0.8rem;">ECG</span>
                </div>
            </div>
        </div>

        <!-- OSMOLALITY CALCULATOR -->
        <div class="card calculator-card">
            <div class="card-header">
                <h3><span class="icon-flask"> Osmolality Calculator</span></h3>
            </div>
            <div class="calc-form">
                <div class="calc-row">
                    <div class="input-group">
                        <label>Sodium (Na‚Å∫) [mmol/L]</label>
                        <input type="number" id="calc-na" placeholder="e.g. 140" oninput="calcOsm()">
                    </div>
                    <div class="input-group">
                        <label>Glucose [mmol/L]</label>
                        <input type="number" id="calc-glu" placeholder="e.g. 35" oninput="calcOsm()">
                    </div>
                    <div class="input-group">
                        <label>Urea [mmol/L]</label>
                        <input type="number" id="calc-urea" placeholder="e.g. 10" oninput="calcOsm()">
                    </div>
                </div>
            </div>
            <div id="osm-result" class="calc-result">
                Result: <span id="osm-val">--</span> mOsm/kg
            </div>
            <div id="osm-msg" class="text-sm" style="margin-top:5px;"></div>
        </div>

        <!-- AETIOLOGY / PRECIPITANTS -->
        <div class="card investigation-card">
            <div class="card-header">
                <h3><span class="icon-alert"> Common Precipitants</span></h3>
            </div>
            <p class="text-sm" style="margin-bottom: 10px;">Infection is the major cause (40-60%). Always look for the trigger.</p>
            <table>
                <thead>
                    <tr>
                        <th>Category</th>
                        <th>Examples</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Infection</strong></td>
                        <td>Pneumonia, Urinary Tract Infection, Sepsis</td>
                    </tr>
                    <tr>
                        <td><strong>Medication</strong></td>
                        <td>Corticosteroids, Thiazides, Antipsychotics (Olanzapine/Clozapine)</td>
                    </tr>
                    <tr>
                        <td><strong>Acute Illness</strong></td>
                        <td>Myocardial Infarction, Stroke</td>
                    </tr>
                    <tr>
                        <td><strong>Non-Adherence</strong></td>
                        <td>Missed insulin or oral meds</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- MANAGEMENT -->
        <div class="card management-card">
            <div class="card-header">
                <h3><span class="icon-meds"> Management Overview</span></h3>
            </div>
            
            <div class="steps-container">
                <!-- Step 1: Fluids -->
                <div class="step">
                    <div class="step-num">1</div>
                    <h4>Fluid Resuscitation</h4>
                    <p class="text-sm"><strong>Initial:</strong> 1L 0.9% Saline over 1st hour.</p>
                    <p class="text-sm">Adjust subsequent rate based on corrected sodium and hydration status.</p>
                    <div style="margin-top:8px; font-size:0.8rem; color:var(--gray);">
                        *Switch to 0.45% Saline if Na > 150 and corrected Na rising.
                    </div>
                </div>

                <!-- Step 2: Electrolytes -->
                <div class="step">
                    <div class="step-num">2</div>
                    <h4>Potassium (K‚Å∫)</h4>
                    <p class="text-sm">Replace BEFORE starting insulin if K+ &lt; 3.3.</p>
                    <div class="stop-alert">
                        STOP INSULIN if K+ &lt; 3.3 mmol/L.
                    </div>
                    <p class="text-sm" style="margin-top:5px;">Monitor K+ hourly initially.</p>
                </div>

                <!-- Step 3: Insulin -->
                <div class="step">
                    <div class="step-num">3</div>
                    <h4>Insulin</h4>
                    <p class="text-sm">Start <strong>ONLY AFTER</strong> fluids and K+ are checked.</p>
                    <p class="text-sm"><strong>Fixed Rate:</strong> 0.1 units/kg/hr IV infusion.</p>
                    <p class="text-sm text-muted">Goal: Reduce glucose by 3-5 mmol/L/hr.</p>
                </div>
                
                <!-- Step 4: Monitoring -->
                <div class="step">
                    <div class="step-num">4</div>
                    <h4>Monitoring</h4>
                    <p class="text-sm"><strong>Hourly:</strong> Glucose, K+, Na, Urea, Osmolality (first 6h).</p>
                    <p class="text-sm"><strong>Fluid Balance:</strong> Strict I/O.</p>
                    <p class="text-sm"><strong>GCS:</strong> Watch for neurological changes.</p>
                </div>
            </div>
        </div>

    </main>

    <!-- DIFFERENTIALS TABLE -->
    <div class="card">
        <div class="card-header">
            <h3>Key Differentials</h3>
        </div>
        <table>
            <thead>
                <tr>
                    <th>Condition</th>
                    <th>Differentiating Feature</th>
                    <th>Laboratory Finding</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>DKA (Diabetic Ketoacidosis)</strong></td>
                    <td>Younger patients, Type 1 DM. Abdominal pain common.</td>
                    <td>Ketones &gt;3.0 mmol/L, pH &lt;7.3, Bicarb &lt;15</td>
                </tr>
                <tr>
                    <td><strong>Lactic Acidosis</strong></td>
                    <td>Often no diabetes history. Sepsis/Ischemia.</td>
                    <td>Lactate &gt;5 mmol/L. Glucose/Ketones normal.</td>
                </tr>
                <tr>
                    <td><strong>Alcohol Ketoacidosis</strong></td>
                    <td>Chronic alcohol abuse, starvation.</td>
                    <td>Low/Normal Glucose, High Ketones, Bicarb &lt;15.</td>
                </tr>
                <tr>
                    <td><strong>Stroke</strong></td>
                    <td>Sudden onset neuro deficit.</td>
                    <td>Normal Glucose/Osmolality. CT shows bleed/infarct.</td>
                </tr>
            </tbody>
        </table>
    </div>

</div>

<footer>
    <div class="container">
        <p>Based on BMJ Best Practice: Hyperosmolar hyperglycaemic state (Last updated: Aug 08, 2024).</p>
        <p style="margin-top:5px;">This tool is for reference only. Always follow local hospital protocols and senior clinical advice.</p>
    </div>
</footer>

<script>
    // Simple Osmolality Calculation Logic
    function calcOsm() {
        const na = parseFloat(document.getElementById('calc-na').value) || 0;
        const glu = parseFloat(document.getElementById('calc-glu').value) || 0;
        const urea = parseFloat(document.getElementById('calc-urea').value) || 0;
        
        const resultDiv = document.getElementById('osm-result');
        const valSpan = document.getElementById('osm-val');
        const msgDiv = document.getElementById('osm-msg');

        if (na === 0 && glu === 0 && urea === 0) {
            resultDiv.style.display = 'none';
            msgDiv.innerHTML = '';
            return;
        }

        // Formula: 2*Na + Glucose + Urea
        const osm = (2 * na) + glu + urea;
        
        resultDiv.style.display = 'block';
        valSpan.innerText = osm;

        // Logic for Color Coding
        if (osm < 320) {
            valSpan.style.color = 'var(--success)';
            msgDiv.innerHTML = '<span class="text-success">Normal range / Below HHS threshold.</span>';
        } else if (osm >= 320 && osm < 350) {
            valSpan.style.color = 'var(--warning)';
            msgDiv.innerHTML = '<span style="color:#d63384">Consistent with HHS diagnosis (‚â•320).</span>';
        } else {
            valSpan.style.color = 'var(--danger)';
            msgDiv.innerHTML = '<span class="text-danger">CRITICAL: Osmolality >350 (Immediate Senior Review Required).</span>';
        }
    }
</script>

</body>
</html>