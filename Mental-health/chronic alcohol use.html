<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chronic Alcohol Use - Quick Scan Reference</title>
    <style>
        :root {
            /* Color Palette */
            --color-bg: #f4f7f9;
            --color-surface: #ffffff;
            --color-text-main: #2c3e50;
            --color-text-muted: #637282;
            
            /* Clinical Colors */
            --color-danger: #e53935;    /* Red: Red Flags / Emergencies */
            --color-danger-bg: #ffebee;
            --color-success: #43a047;   /* Green: Positive Actions / Interventions */
            --color-success-bg: #e8f5e9;
            --color-info: #1e88e5;      /* Blue: General Info / Overview */
            --color-info-bg: #e3f2fd;
            --color-warning: #fb8c00;    /* Orange: Risk Factors */

            /* UI Elements */
            --radius: 8px;
            --shadow-sm: 0 2px 4px rgba(0,0,0,0.05);
            --shadow-md: 0 4px 12px rgba(0,0,0,0.1);
            --shadow-lg: 0 8px 24px rgba(0,0,0,0.15);
            --font-main: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        }

        * { box-sizing: border-box; }

        body {
            font-family: var(--font-main);
            background-color: var(--color-bg);
            color: var(--color-text-main);
            margin: 0;
            padding: 0;
            line-height: 1.6;
        }

        /* --- Animations --- */
        @keyframes pulse-red {
            0% { box-shadow: 0 0 0 0 rgba(229, 57, 53, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(229, 57, 53, 0); }
            100% { box-shadow: 0 0 0 0 rgba(229, 57, 53, 0); }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        /* --- Header & Nav --- */
        header {
            background: var(--color-surface);
            padding: 1.5rem 2rem;
            border-bottom: 1px solid #e1e4e8;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .header-branding h1 {
            margin: 0;
            font-size: 1.5rem;
            color: var(--color-text-main);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .stats-bar {
            display: flex;
            gap: 1.5rem;
            font-size: 0.9rem;
            color: var(--color-text-muted);
        }

        .stat-item strong { color: var(--color-text-main); font-size: 1.1rem; }

        .controls {
            padding: 1rem 2rem;
            background: var(--color-bg);
            display: flex;
            gap: 0.5rem;
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(0,0,0,0.05);
        }

        .filter-btn {
            background: var(--color-surface);
            border: 1px solid #d1d5db;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s ease;
            color: var(--color-text-muted);
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .filter-btn:hover { background: #eef2f6; color: var(--color-text-main); }

        .filter-btn.active {
            background: var(--color-info);
            color: white;
            border-color: var(--color-info);
        }

        .filter-btn[data-filter="emergency"].active {
            background: var(--color-danger);
            border-color: var(--color-danger);
        }

        /* --- Main Layout --- */
        main {
            padding: 2rem;
            max-width: 1400px;
            margin: 0 auto;
        }

        .grid-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 1.5rem;
        }

        /* --- Cards --- */
        .card {
            background: var(--color-surface);
            border-radius: var(--radius);
            box-shadow: var(--shadow-sm);
            overflow: hidden;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            cursor: pointer;
            border-left: 5px solid transparent;
            animation: fadeIn 0.4s ease forwards;
            position: relative;
            display: flex;
            flex-direction: column;
        }

        .card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-md);
        }

        /* Card Color Coding */
        .card.type-emergency { border-left-color: var(--color-danger); }
        .card.type-emergency .card-icon { color: var(--color-danger); background: var(--color-danger-bg); }
        
        .card.type-info { border-left-color: var(--color-info); }
        .card.type-info .card-icon { color: var(--color-info); background: var(--color-info-bg); }

        .card.type-action { border-left-color: var(--color-success); }
        .card.type-action .card-icon { color: var(--color-success); background: var(--color-success-bg); }

        .card-header {
            padding: 1.25rem;
            display: flex;
            align-items: flex-start;
            gap: 1rem;
        }

        .card-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .card-title {
            font-size: 1.1rem;
            font-weight: 700;
            margin: 0 0 0.25rem 0;
        }

        .card-meta {
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: var(--color-text-muted);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .pulse-indicator {
            width: 8px;
            height: 8px;
            background: var(--color-danger);
            border-radius: 50%;
            display: inline-block;
        }
        
        .type-emergency .pulse-indicator {
            animation: pulse-red 2s infinite;
        }

        .card-body {
            padding: 0 1.25rem 1.25rem;
            font-size: 0.95rem;
            color: var(--color-text-muted);
            flex-grow: 1;
        }

        .quick-fact {
            background: #f8f9fa;
            padding: 0.75rem;
            border-radius: 6px;
            font-size: 0.9rem;
            margin-top: 0.75rem;
            border-left: 3px solid #d1d5db;
        }

        .quick-fact.red-flag { border-left-color: var(--color-danger); background: var(--color-danger-bg); color: #b71c1c; }
        .quick-fact.action { border-left-color: var(--color-success); background: var(--color-success-bg); color: #1b5e20; }

        /* --- Modal --- */
        .modal-overlay {
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease;
            backdrop-filter: blur(4px);
        }

        .modal-overlay.open {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: var(--color-surface);
            width: 90%;
            max-width: 700px;
            max-height: 90vh;
            border-radius: var(--radius);
            box-shadow: var(--shadow-lg);
            overflow-y: auto;
            position: relative;
            transform: translateX(50px);
            transition: transform 0.3s ease;
            display: flex;
            flex-direction: column;
        }

        .modal-overlay.open .modal-content {
            transform: translateX(0);
        }

        .modal-header {
            padding: 1.5rem;
            border-bottom: 1px solid #e1e4e8;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #fafbfc;
        }

        .modal-title h2 { margin: 0; font-size: 1.5rem; }
        .modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--color-text-muted);
            padding: 0.5rem;
        }
        .modal-close:hover { color: var(--color-danger); }

        .modal-body { padding: 1.5rem; }

        .detail-section { margin-bottom: 1.5rem; }
        .detail-section h3 {
            color: var(--color-text-main);
            border-bottom: 2px solid #e1e4e8;
            padding-bottom: 0.5rem;
            margin-bottom: 0.75rem;
            font-size: 1.1rem;
        }

        .detail-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }
        
        .detail-item label { display: block; font-weight: 600; font-size: 0.85rem; color: var(--color-text-muted); margin-bottom: 0.25rem; }
        .detail-item p { margin: 0; font-size: 0.95rem; }

        .action-box {
            background: var(--color-info-bg);
            padding: 1rem;
            border-radius: 6px;
            border: 1px solid #bbdefb;
        }
        .action-box.urgent {
            background: var(--color-danger-bg);
            border-color: #ef9a9a;
        }
        .action-box h4 { margin-top: 0; color: var(--color-text-main); }
        .action-list { margin-bottom: 0; padding-left: 1.2rem; }
        .action-list li { margin-bottom: 0.5rem; }

        /* --- Footer --- */
        footer {
            margin-top: 3rem;
            padding: 2rem;
            background: #e9ecef;
            font-size: 0.8rem;
            color: var(--color-text-muted);
            border-top: 1px solid #d1d5db;
        }

        .disclaimer-box {
            background: white;
            padding: 1rem;
            border-radius: 4px;
            border-left: 3px solid #ffc107;
            max-width: 800px;
            margin: 0 auto;
        }

        /* --- Icons (SVG) --- */
        svg { width: 24px; height: 24px; stroke: currentColor; fill: none; stroke-width: 2; stroke-linecap: round; stroke-linejoin: round; }

        @media (max-width: 768px) {
            .header-branding { width: 100%; text-align: center; justify-content: center; }
            .stats-bar { flex-wrap: wrap; justify-content: center; width: 100%; }
            .detail-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

    <!-- Header -->
    <header>
        <div class="header-branding">
            <h1>
                <svg viewBox="0 0 24 24" style="color:var(--color-info);">
                    <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"></path>
                </svg>
                Chronic Alcohol Use
            </h1>
        </div>
        <div class="stats-bar">
            <div class="stat-item"><strong>2.6M</strong> Deaths (2019)</div>
            <div class="stat-item"><strong>13%</strong> Aged 20-39</div>
            <div class="stat-item"><strong>400M</strong> With AUD</div>
        </div>
    </header>

    <!-- Navigation Controls -->
    <nav class="controls">
        <button class="filter-btn active" data-filter="all">
            <svg width="18" height="18" viewBox="0 0 24 24"><rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect></svg>
            All Topics
        </button>
        <button class="filter-btn" data-filter="emergency">
            <svg width="18" height="18" viewBox="0 0 24 24"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>
            Emergencies Only
        </button>
        <button class="filter-btn" data-filter="info">
            <svg width="18" height="18" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>
            Assessment & Info
        </button>
    </nav>

    <!-- Main Content Grid -->
    <main>
        <div class="grid-container" id="card-grid">
            <!-- Cards will be injected via JS -->
        </div>
    </main>

    <!-- Modal for Details -->
    <div class="modal-overlay" id="detail-modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">
                    <h2 id="modal-heading">Condition Name</h2>
                </div>
                <button class="modal-close" onclick="closeModal()">&times;</button>
            </div>
            <div class="modal-body" id="modal-body">
                <!-- Dynamic Content -->
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="disclaimer-box">
            <strong>Disclaimer:</strong> BMJ Best Practice content is intended for licensed medical professionals. This tool is for reference only and does not advocate or endorse specific treatments. Always use your clinical judgment and consult local drug formularies. © BMJ Publishing Group Ltd 2025.
        </div>
    </footer>

    <script>
        // Data extracted from the document content
        const conditions = [
            {
                id: "withdrawal",
                title: "Alcohol Withdrawal",
                type: "emergency",
                meta: "Urgent Treatment",
                summary: "Anxiety, nausea, autonomic dysfunction, insomnia (6-24h). Can progress to seizures or delirium tremens.",
                redFlags: ["Severe withdrawal features", "Seizures", "Psychiatric disturbance", "Delirium tremens"],
                actions: ["Identify severe withdrawal early.", "Urgent treatment required."],
                details: "Occurs in alcohol-dependent patients who stopped/reduced intake within hours/days. Symptoms typically begin 6 to 24 hours after last drink.",
                icon: "activity" // map to svg path
            },
            {
                id: "alf",
                title: "Acute Liver Failure (ALF)",
                type: "emergency",
                meta: "Life-Threatening",
                summary: "Rare, rapid decline in hepatic function. Chronic alcohol misuse is a significant risk factor.",
                redFlags: ["Jaundice", "Coagulopathy (INR >1.5)", "Hepatic encephalopathy", "No prior liver disease"],
                actions: ["Careful history & chronology.", "Early recognition paramount.", "Establish prognosis immediately."],
                details: "Defined by rapid decline in hepatic function. Rare event (<10 per million). Requires immediate management strategy.",
                icon: "alert-octagon"
            },
            {
                id: "wernickes",
                title: "Wernicke's Encephalopathy",
                type: "emergency",
                meta: "Neurological Emergency",
                summary: "Result of thiamine deficiency. Triad: mental status changes, gait issues, oculomotor dysfunction.",
                redFlags: ["Mental status changes", "Gait ataxia", "Ophthalmoplegia", "Confusion"],
                actions: ["Treat immediately.", "High clinical suspicion as triad is often incomplete."],
                details: "Caused by poor intake, low vitamin content in alcohol, decreased absorption, and increased demand for carbohydrate metabolism. Only 16% present with classic triad.",
                icon: "crosshair"
            },
            {
                id: "aud",
                title: "Alcohol-Use Disorder",
                type: "info",
                meta: "Spectrum Disorder",
                summary: "Problematic pattern leading to clinically significant impairment. 400 million people affected globally.",
                redFlags: [],
                actions: ["Routine screening for unhealthy use.", "Perform brief interventions.", "Proactively engage patients."],
                details: "Unhealthy use includes at-risk drinking and AUD. Early identification reduces morbidity/mortality. Diagnosis made by history.",
                icon: "users"
            },
            {
                id: "arld",
                title: "Alcohol-Related Liver Disease",
                type: "info",
                meta: "Chronic Condition",
                summary: "Three stages: fatty liver, hepatitis, cirrhosis. Caused by chronic heavy ingestion.",
                redFlags: ["Prolonged heavy consumption", "Hepatitis C co-infection", "Female sex"],
                actions: ["Detailed history of quantity/duration.", "Physical exam.", "Appropriate lab tests."],
                details: "Prevalence lower in Asia compared to West. Clinical presentation is highly variable.",
                icon: "liver" // mapped to generic organ
            },
            {
                id: "pancreatitis",
                title: "Acute Pancreatitis",
                type: "emergency", // treating as urgent due to pain/hospitalization
                meta: "Acute Pain",
                summary: "Mid-epigastric pain radiating to back. Gallstones and alcohol account for ~80% of cases.",
                redFlags: ["Severe epigastric pain", "Radiation to back", "Nausea/Vomiting"],
                actions: ["Check serum lipase/amylase (>3x ULN).", "CT only if diagnostic doubt/failure to improve."],
                details: "Average alcohol intake in these patients is 150-175g/day. Confirmed by raised enzymes.",
                icon: "thermometer"
            },
            {
                id: "chronic-pancreatitis",
                title: "Chronic Pancreatitis",
                type: "info",
                meta: "Progressive Disease",
                summary: "Pain radiating to back, steatorrhoea, calcifications. >75% associated with chronic alcohol.",
                redFlags: ["Weight loss", "Malnutrition", "Diabetes mellitus"],
                actions: ["Clinical findings + Imaging.", "Check for co-factors (genetic/anatomical)."],
                details: "Few people with dependence develop this (<3-10%). Co-factors are often required.",
                icon: "tool"
            },
            {
                id: "encephalopathy",
                title: "Hepatic Encephalopathy",
                type: "info",
                meta: "Brain Dysfunction",
                summary: "Range from subclinical alterations to coma. Caused by ammonia bypassing liver.",
                redFlags: ["Neurological deficits", "Severe liver dysfunction labs"],
                actions: ["Diagnose based on deficits + labs.", "Assess for portosystemic shunt."],
                details: "Multi-factorial causation. Requires abnormalities showing severe liver dysfunction.",
                icon: "brain"
            },
            {
                id: "ugib",
                title: "Upper GI Bleed",
                type: "emergency",
                meta: "Hypovolaemic Shock Risk",
                summary: "Proximal to ligament of Treitz. Variceal bleed suspected if history of alcohol/liver disease.",
                redFlags: ["Hematemesis", "Melena", "History of chronic alcohol use", "Signs of shock"],
                actions: ["Rapid triage (Ward vs ICU).", "Prioritize for urgent/emergency endoscopy.", "Manage volume."],
                details: "Mortality is secondary to hypovolaemic shock. History is crucial for identifying variceal vs ulcer source.",
                icon: "droplet"
            },
            {
                id: "fasd",
                title: "Fetal Alcohol Spectrum",
                type: "info",
                meta: "Prevention Priority",
                summary: "Result of fetal exposure. Includes FAS, partial FAS, neurodevelopmental disorder.",
                redFlags: ["Antenatal growth restriction", "Facial dysmorphology", "CNS abnormalities"],
                actions: ["Prevention is priority.", "Early diagnosis prevents secondary disabilities."],
                details: "Brain injury is permanent. Global prevalence ~8 per 1000. Clinicians often confused by terminology.",
                icon: "baby"
            }
        ];

        // SVG Icons mapping
        const icons = {
            activity: '<path d="M22 12h-4l-3 9L9 3l-3 9H2"/>',
            'alert-octagon': '<polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line>',
            crosshair: '<circle cx="12" cy="12" r="10"></circle><line x1="22" y1="12" x2="18" y2="12"></line><line x1="6" y1="12" x2="2" y2="12"></line><line x1="12" y1="6" x2="12" y2="2"></line><line x1="12" y1="22" x2="12" y2="18"></line>',
            users: '<path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path>',
            liver: '<path d="M4 14a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v6a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-6z"></path><path d="M12 10V4"></path>', // approximate shape
            thermometer: '<path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path>',
            tool: '<path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"></path>',
            brain: '<path d="M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 4.44-4A2.5 2.5 0 0 1 9.5 2Z"></path><path d="M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-4.44-4A2.5 2.5 0 0 0 14.5 2Z"></path>',
            droplet: '<path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"></path>',
            baby: '<circle cx="12" cy="12" r="10"></circle><path d="M12 16v-4"></path><path d="M12 8h.01"></path>'
        };

        const grid = document.getElementById('card-grid');
        const modal = document.getElementById('detail-modal');
        const modalHeading = document.getElementById('modal-heading');
        const modalBody = document.getElementById('modal-body');

        // Render Function
        function renderCards(filterType) {
            grid.innerHTML = '';
            
            const filtered = conditions.filter(c => {
                if (filterType === 'all') return true;
                if (filterType === 'emergency') return c.type === 'emergency';
                if (filterType === 'info') return c.type === 'info';
                return true;
            });

            filtered.forEach((item, index) => {
                const card = document.createElement('div');
                card.className = `card type-${item.type}`;
                card.style.animationDelay = `${index * 0.05}s`; // Staggered animation
                
                // Determine Icon
                const iconSvg = icons[item.icon] || icons['activity'];

                // Red flag HTML construction
                let redFlagHtml = '';
                if (item.redFlags.length > 0) {
                    redFlagHtml = `
                        <div class="quick-fact red-flag">
                            <strong>⚠ Red Flags:</strong> ${item.redFlags.slice(0, 2).join(', ')}${item.redFlags.length > 2 ? '...' : ''}
                        </div>
                    `;
                }

                card.innerHTML = `
                    <div class="card-header">
                        <div class="card-icon">
                            <svg viewBox="0 0 24 24">${iconSvg}</svg>
                        </div>
                        <div>
                            <div class="card-meta">
                                ${item.type === 'emergency' ? '<span class="pulse-indicator"></span>' : ''} ${item.meta}
                            </div>
                            <h3 class="card-title">${item.title}</h3>
                        </div>
                    </div>
                    <div class="card-body">
                        <p>${item.summary}</p>
                        ${redFlagHtml}
                    </div>
                `;

                card.onclick = () => openModal(item);
                grid.appendChild(card);
            });
        }

        // Modal Logic
        function openModal(item) {
            modalHeading.innerText = item.title;
            modalHeading.style.color = item.type === 'emergency' ? 'var(--color-danger)' : 'var(--color-text-main)';
            
            const isUrgent = item.type === 'emergency';

            let redFlagsHtml = item.redFlags.length ? `<ul>${item.redFlags.map(r => `<li>${r}</li>`).join('')}</ul>` : '<p>None specified.</p>';
            let actionsHtml = item.actions.length ? `<ol>${item.actions.map(a => `<li>${a}</li>`).join('')}</ol>` : '<p>See full reference.</p>';

            modalBody.innerHTML = `
                <div class="detail-grid">
                    <div class="detail-item">
                        <label>Condition Type</label>
                        <p style="text-transform: capitalize; color: ${isUrgent ? 'var(--color-danger)' : 'var(--color-info)'}; font-weight:bold;">${item.type}</p>
                    </div>
                    <div class="detail-item">
                        <label>Clinical Summary</label>
                        <p>${item.details}</p>
                    </div>
                </div>

                <div class="detail-section">
                    <h3>Red Flags & Clinical Presentation</h3>
                    <div class="action-box ${isUrgent ? 'urgent' : ''}" style="background: ${isUrgent ? 'var(--color-danger-bg)' : '#f8f9fa'}; border-color: ${isUrgent ? '#ef9a9a' : '#ddd'};">
                        ${redFlagsHtml}
                    </div>
                </div>

                <div class="detail-section">
                    <h3>Actions & Management</h3>
                    <div class="action-box">
                        <h4>Immediate Steps:</h4>
                        ${actionsHtml}
                    </div>
                </div>
            `;

            modal.classList.add('open');
            document.body.style.overflow = 'hidden'; // Prevent background scrolling
        }

        function closeModal() {
            modal.classList.remove('open');
            document.body.style.overflow = '';
        }

        // Close modal on click outside
        modal.addEventListener('click', (e) => {
            if (e.target === modal) closeModal();
        });

        // Close on Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') closeModal();
        });

        // Filter Logic
        const buttons = document.querySelectorAll('.filter-btn');
        buttons.forEach(btn => {
            btn.addEventListener('click', () => {
                buttons.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                renderCards(btn.dataset.filter);
            });
        });

        // Initial Render
        renderCards('all');

    </script>
</body>
</html>