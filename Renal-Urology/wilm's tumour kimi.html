<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wilms Tumor - Interactive Clinical Algorithm</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            display: flex;
            max-width: 1600px;
            margin: 0 auto;
            min-height: 100vh;
        }

        .main-content {
            flex: 1;
            padding: 20px;
            margin-right: 280px;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
        }

        .header h1 {
            color: #2c3e50;
            font-size: 2.5em;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .header .subtitle {
            color: #7f8c8d;
            font-size: 1.2em;
            margin-bottom: 15px;
        }

        .header .info {
            background: #e8f4fd;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #3498db;
        }

        .step-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            margin-bottom: 30px;
            overflow: hidden;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
            transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
        }

        .step-container:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
        }

        .step-header {
            padding: 25px;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
            transition: all 0.3s ease;
        }

        .step-header:hover {
            filter: brightness(1.1);
        }

        .step-header.assessment {
            background: linear-gradient(135deg, #3498db, #2980b9);
        }

        .step-header.diagnosis {
            background: linear-gradient(135deg, #2ecc71, #27ae60);
        }

        .step-header.treatment {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
        }

        .step-header.followup {
            background: linear-gradient(135deg, #9b59b6, #8e44ad);
        }

        .step-title {
            display: flex;
            align-items: center;
            gap: 15px;
            font-size: 1.5em;
            font-weight: 600;
        }

        .step-icon {
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2em;
        }

        .expand-icon {
            font-size: 1.5em;
            transition: transform 0.3s ease;
        }

        .step-container.expanded .expand-icon {
            transform: rotate(180deg);
        }

        .step-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out;
        }

        .step-container.expanded .step-content {
            max-height: 2000px;
        }

        .step-body {
            padding: 25px;
        }

        .alert {
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid;
            display: flex;
            align-items: center;
            gap: 10px;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .alert-red {
            background: #ffebee;
            border-color: #f44336;
            color: #c62828;
        }

        .alert-amber {
            background: #fff3e0;
            border-color: #ff9800;
            color: #ef6c00;
        }

        .alert-green {
            background: #e8f5e8;
            border-color: #4caf50;
            color: #2e7d32;
        }

        .alert-blue {
            background: #e3f2fd;
            border-color: #2196f3;
            color: #1565c0;
        }

        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .info-card {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            border: 1px solid #e9ecef;
            transition: all 0.3s ease;
        }

        .info-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            border-color: #3498db;
        }

        .card-title {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .severity-badge {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: 600;
            text-transform: uppercase;
            margin-left: 10px;
        }

        .severity-red {
            background: #ffebee;
            color: #c62828;
            border: 1px solid #ef9a9a;
        }

        .severity-amber {
            background: #fff3e0;
            color: #ef6c00;
            border: 1px solid #ffcc80;
        }

        .severity-green {
            background: #e8f5e8;
            color: #2e7d32;
            border: 1px solid #a5d6a7;
        }

        .sidebar {
            position: fixed;
            right: 0;
            top: 0;
            width: 280px;
            height: 100vh;
            background: rgba(255, 255, 255, 0.95);
            padding: 20px;
            box-shadow: -5px 0 25px rgba(0, 0, 0, 0.2);
            overflow-y: auto;
            backdrop-filter: blur(10px);
        }

        .sidebar h3 {
            color: #2c3e50;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .progress-item {
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            background: #f8f9fa;
            border-left: 4px solid #bdc3c7;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .progress-item:hover {
            background: #e9ecef;
            transform: translateX(-5px);
        }

        .progress-item.active {
            background: #e3f2fd;
            border-left-color: #3498db;
            font-weight: 600;
        }

        .progress-item.completed {
            background: #e8f5e8;
            border-left-color: #4caf50;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 0.9em;
            font-weight: 600;
            transition: all 0.3s ease;
            text-decoration: none;
            margin: 5px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .btn-primary {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
        }

        .btn-success {
            background: linear-gradient(135deg, #2ecc71, #27ae60);
            color: white;
        }

        .btn-warning {
            background: linear-gradient(135deg, #f39c12, #d35400);
            color: white;
        }

        .btn-danger {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
        }

        .treatment-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .treatment-card {
            border: 1px solid #e9ecef;
            border-radius: 10px;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .treatment-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }

        .treatment-header {
            padding: 15px;
            font-weight: 600;
            color: white;
            text-align: center;
        }

        .treatment-body {
            padding: 20px;
            background: #f8f9fa;
        }

        .treatment-list {
            list-style: none;
            padding: 0;
        }

        .treatment-list li {
            padding: 8px 0;
            border-bottom: 1px solid #dee2e6;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .treatment-list li:last-child {
            border-bottom: none;
        }

        .treatment-list li::before {
            content: "‚ñ∏";
            color: #3498db;
            font-weight: bold;
        }

        @media (max-width: 1200px) {
            .container {
                flex-direction: column;
            }
            
            .main-content {
                margin-right: 0;
            }
            
            .sidebar {
                position: relative;
                width: 100%;
                height: auto;
            }
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2em;
            }
            
            .card-grid {
                grid-template-columns: 1fr;
            }
            
            .treatment-grid {
                grid-template-columns: 1fr;
            }
            
            .step-title {
                font-size: 1.2em;
            }
        }

        .fade-in {
            animation: fadeIn 0.6s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(52, 152, 219, 0.7);
            }
            70% {
                box-shadow: 0 0 0 10px rgba(52, 152, 219, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(52, 152, 219, 0);
            }
        }

        .scroll-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 50px;
            height: 50px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: none;
            align-items: center;
            justify-content: center;
            font-size: 1.2em;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .scroll-to-top:hover {
            background: #2980b9;
            transform: translateY(-3px);
        }

        .scroll-to-top.show {
            display: flex;
        }

        .reference-section {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            border: 1px solid #e9ecef;
        }

        .reference-list {
            font-size: 0.85em;
            line-height: 1.5;
            max-height: 200px;
            overflow-y: auto;
        }

        .reference-list ol {
            padding-left: 20px;
        }

        .reference-list li {
            margin-bottom: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <main class="main-content">
            <div class="header fade-in">
                <h1>
                    <span>üéóÔ∏è</span>
                    Wilms Tumor Management Algorithm
                </h1>
                <div class="subtitle">Interactive Clinical Decision Support Tool</div>
                <div class="info">
                    <strong>Guideline Source:</strong> BMJ Best Practice (Updated July 2025) | 
                    <strong>Target Audience:</strong> Pediatric Oncologists, Surgeons, Radiation Oncologists | 
                    <strong>Last Updated:</strong> December 2025
                </div>
            </div>

            <!-- Assessment Section -->
            <div class="step-container fade-in" id="assessment">
                <div class="step-header assessment" onclick="toggleStep('assessment')">
                    <div class="step-title">
                        <div class="step-icon">üìã</div>
                        Assessment & Initial Evaluation
                    </div>
                    <div class="expand-icon">‚ñº</div>
                </div>
                <div class="step-content">
                    <div class="step-body">
                        <div class="alert alert-blue">
                            <span>üí°</span>
                            <strong>Key Principle:</strong> Prompt referral to a pediatric cancer center is essential for optimal outcomes. Wilms tumor is the most common renal malignancy in children, typically presenting as a painless abdominal mass.
                        </div>

                        <div class="card-grid">
                            <div class="info-card">
                                <div class="card-title">üéØ Critical Presentations</div>
                                <ul>
                                    <li><strong>Painless abdominal/flank mass</strong> <span class="severity-badge severity-red">Most Common</span></li>
                                    <li>Abdominal distention from rapidly growing tumor</li>
                                    <li>Hypertension (25% of patients)</li>
                                    <li>Hematuria (25% of patients, usually microscopic)</li>
                                    <li>Constitutional symptoms: fever, anorexia, weight loss (20%)</li>
                                </ul>
                            </div>

                            <div class="info-card">
                                <div class="card-title">üîç Physical Examination</div>
                                <ul>
                                    <li><strong>Mass Characteristics:</strong> Firm, smooth, non-tender, unilateral, retroperitoneal</li>
                                    <li>Examine genitalia for congenital anomalies</li>
                                    <li>Check for varicocele (IVC/renal vein involvement)</li>
                                    <li>Assess for hypertension</li>
                                    <li>Hepatomegaly may indicate metastases</li>
                                </ul>
                            </div>

                            <div class="info-card">
                                <div class="card-title">‚ö†Ô∏è High-Risk Features</div>
                                <ul>
                                    <li>Age < 5 years (median 4 years)</li>
                                    <li>Congenital urogenital anomalies <span class="severity-badge severity-amber">Risk Factor</span></li>
                                    <li>Genetic predisposition syndromes <span class="severity-badge severity-amber">High Surveillance</span></li>
                                    <li>Family history of Wilms tumor (1-2%)</li>
                                    <li>Bilateral disease (5-10% of cases)</li>
                                </ul>
                            </div>

                            <div class="info-card">
                                <div class="card-title">üß¨ Predisposition Syndromes</div>
                                <ul>
                                    <li><strong>Overgrowth Syndromes:</strong> Beckwith-Wiedemann, Perlman, Simpson-Golabi-Behmel</li>
                                    <li><strong>Other Syndromes:</strong> Denys-Drash, WAGR syndrome (WT1 mutations)</li>
                                    <li>Congenital urogenital anomalies: hypospadias, cryptorchidism, horseshoe kidney</li>
                                </ul>
                            </div>
                        </div>

                        <div class="alert alert-amber">
                            <span>üö®</span>
                            <strong>Urgent Referral Indicated:</strong> Any child with suspected Wilms tumor should be immediately referred to a pediatric cancer center for comprehensive evaluation and management planning.
                        </div>

                        <div class="alert alert-green">
                            <span>üìä</span>
                            <strong>Population Statistics:</strong> Global incidence: 7.5 per million children. North America/Western Europe: 8.5-9.6 per million. Higher in females (6.4 vs 5.5 per million).
                        </div>
                    </div>
                </div>
            </div>

            <!-- Diagnosis Section -->
            <div class="step-container fade-in" id="diagnosis">
                <div class="step-header diagnosis" onclick="toggleStep('diagnosis')">
                    <div class="step-title">
                        <div class="step-icon">üî¨</div>
                        Diagnostic Workup & Staging
                    </div>
                    <div class="expand-icon">‚ñº</div>
                </div>
                <div class="step-content">
                    <div class="step-body">
                        <div class="alert alert-blue">
                            <span>üîç</span>
                            <strong>Diagnostic Approach:</strong> Definitive diagnosis requires histologic confirmation. Imaging guides surgical planning and staging.
                        </div>

                        <div class="card-grid">
                            <div class="info-card">
                                <div class="card-title">üè• Essential Investigations</div>
                                <div class="treatment-list">
                                    <li><strong>FBC:</strong> Anemia (normocytic or iron deficiency)</li>
                                    <li><strong>Renal function:</strong> Baseline assessment</li>
                                    <li><strong>Liver function:</strong> Before chemotherapy</li>
                                    <li><strong>Urinalysis:</strong> Hematuria, proteinuria</li>
                                    <li><strong>Coagulation studies:</strong> Rarely abnormal (acquired vWD)</li>
                                </div>
                            </div>

                            <div class="info-card">
                                <div class="card-title">üì∏ Imaging Studies</div>
                                <div class="treatment-list">
                                    <li><strong>Abdominal Ultrasound:</strong> <span class="severity-badge severity-green">FIRST LINE</span></li>
                                    <li>Establishes renal origin, evaluates tumor thrombus</li>
                                    <li><strong>CT/MRI Abdomen/Pelvis:</strong> <span class="severity-badge severity-green">STAGING</span></li>
                                    <li>Assesses contralateral kidney, lymph nodes, metastases</li>
                                    <li><strong>Chest CT:</strong> Detects lung metastases</li>
                                </div>
                            </div>

                            <div class="info-card">
                                <div class="card-title">üéØ Histologic Diagnosis</div>
                                <div class="treatment-list">
                                    <li><strong>Upfront Nephrectomy:</strong> Standard approach (COG)</li>
                                    <li><strong>Preoperative Biopsy:</strong> If unresectable or bilateral disease</li>
                                    <li><strong>Core Needle Biopsy:</strong> 10-12 non-necrotic cores for molecular testing</li>
                                    <li><strong>SIOP Approach:</strong> No routine pretreatment biopsy</li>
                                </div>
                            </div>

                            <div class="info-card">
                                <div class="card-title">üß¨ Molecular Testing</div>
                                <div class="treatment-list">
                                    <li><strong>WT1 Analysis:</strong> All patients, especially high-risk features</li>
                                    <li><strong>LOH Assessment:</strong> 1p, 11p, 16q (adverse prognostic factors)</li>
                                    <li><strong>Chromosome 1q Gain:</strong> Associated with relapse</li>
                                    <li><strong>Gene Panels:</strong> WT1, REST, TRIM28 for predisposition syndromes</li>
                                </div>
                            </div>
                        </div>

                        <div class="alert alert-red">
                            <span>‚ö†Ô∏è</span>
                            <strong>Differential Diagnoses:</strong> Must rule out neuroblastoma (elevated catecholamines), clear cell sarcoma (bone metastases), rhabdoid tumor (brain metastases), RCC (older children), and other renal masses.
                        </div>

                        <div class="treatment-grid">
                            <div class="treatment-card">
                                <div class="treatment-header" style="background: linear-gradient(135deg, #3498db, #2980b9);">COG Staging</div>
                                <div class="treatment-body">
                                    <ul class="treatment-list">
                                        <li><strong>Stage I:</strong> Limited to kidney, completely resected</li>
                                        <li><strong>Stage II:</strong> Extends beyond kidney but completely resected</li>
                                        <li><strong>Stage III:</strong> Residual non-hematogenous tumor confined to abdomen</li>
                                        <li><strong>Stage IV:</strong> Hematogenous metastases</li>
                                        <li><strong>Stage V:</strong> Bilateral renal involvement</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="treatment-card">
                                <div class="treatment-header" style="background: linear-gradient(135deg, #2ecc71, #27ae60);">SIOP Staging</div>
                                <div class="treatment-body">
                                    <ul class="treatment-list">
                                        <li><strong>Stage I:</strong> Limited to kidney, complete excision</li>
                                        <li><strong>Stage II:</strong> Extends beyond kidney, complete excision</li>
                                        <li><strong>Stage III:</strong> Incompletely excised or abdominal lymph node involvement</li>
                                        <li><strong>Stage IV:</strong> Hematogenous metastases</li>
                                        <li><strong>Stage V:</strong> Bilateral renal tumors</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="alert alert-green">
                            <span>üìã</span>
                            <strong>Histology Classification:</strong> Favorable histology (no anaplasia) vs Unfavorable histology (diffuse or focal anaplasia). Anaplasia characterized by gigantic hyperchromatic nuclei and polypoid mitotic figures.
                        </div>
                    </div>
                </div>
            </div>

            <!-- Treatment Section -->
            <div class="step-container fade-in" id="treatment">
                <div class="step-header treatment" onclick="toggleStep('treatment')">
                    <div class="step-title">
                        <div class="step-icon">üíä</div>
                        Treatment Protocols
                    </div>
                    <div class="expand-icon">‚ñº</div>
                </div>
                <div class="step-content">
                    <div class="step-body">
                        <div class="alert alert-blue">
                            <span>üè•</span>
                            <strong>Treatment Philosophy:</strong> Risk-adapted approach balancing treatment intensity with toxicity minimization. COG favors upfront nephrectomy; SIOP favors preoperative chemotherapy.
                        </div>

                        <div class="card-grid">
                            <div class="info-card">
                                <div class="card-title">üéØ COG Approach <span class="severity-badge severity-green">Upfront Surgery</span></div>
                                <div class="treatment-list">
                                    <li>Immediate nephrectomy for unilateral, resectable tumors</li>
                                    <li>Accurate staging and molecular analysis</li>
                                    <li>Risk stratification based on stage, histology, biology</li>
                                    <li>Post-operative chemotherapy ¬± radiation</li>
                                    <li>Avoids under- or overtreatment</li>
                                </div>
                            </div>

                            <div class="info-card">
                                <div class="card-title">üéØ SIOP Approach <span class="severity-badge severity-amber">Preop Chemo</span></div>
                                <div class="treatment-list">
                                    <li>Preoperative chemotherapy for age ‚â•6 months</li>
                                    <li>Reduces tumor rupture risk</li>
                                    <li>Decreases tumor size for easier resection</li>
                                    <li>Post-operative treatment based on response</li>
                                    <li>Excellent outcomes, comparable to COG</li>
                                </div>
                            </div>

                            <div class="info-card">
                                <div class="card-title">üî™ Surgical Principles</div>
                                <div class="treatment-list">
                                    <li><strong>Radical Nephrectomy:</strong> Standard approach</li>
                                    <li><strong>Nephron-Sparing Surgery:</strong> Bilateral disease, predisposition syndromes</li>
                                    <li><strong>Lymph Node Sampling:</strong> Essential for staging</li>
                                    <li><strong>Avoid Tumor Spillage:</strong> Prevents upstaging</li>
                                    <li><strong>IVC Examination:</strong> Palpate for tumor thrombus</li>
                                </div>
                            </div>

                            <div class="info-card">
                                <div class="card-title">‚ò¢Ô∏è Radiation Therapy</div>
                                <div class="treatment-list">
                                    <li><strong>Flank Irradiation:</strong> Stage III favorable histology</li>
                                    <li><strong>Whole Abdomen:</strong> Peritoneal seeding, rupture</li>
                                    <li><strong>Whole Lung:</strong> Pulmonary metastases without complete response</li>
                                    <li><strong>Metastatic Sites:</strong> Individualized approach</li>
                                    <li>Highly radiosensitive tumor</li>
                                </div>
                            </div>
                        </div>

                        <div class="alert alert-green">
                            <span>üìä</span>
                            <strong>Risk Categories (COG):</strong> Very-low risk (surgery only), Low risk, Standard risk, Higher risk. Risk determines chemotherapy intensity.
                        </div>

                        <div class="treatment-grid">
                            <div class="treatment-card">
                                <div class="treatment-header" style="background: linear-gradient(135deg, #2ecc71, #27ae60);">COG Chemotherapy Regimens</div>
                                <div class="treatment-body">
                                    <ul class="treatment-list">
                                        <li><strong>EE-4A:</strong> Vincristine + Dactinomycin (low risk)</li>
                                        <li><strong>DD-4A:</strong> Vincristine + Dactinomycin + Doxorubicin (standard risk)</li>
                                        <li><strong>Regimen M:</strong> DD-4A + Cyclophosphamide + Etoposide (higher risk)</li>
                                        <li><strong>UH-1/UH-2:</strong> For anaplastic histology (intensive regimens)</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="treatment-card">
                                <div class="treatment-header" style="background: linear-gradient(135deg, #f39c12, #d35400);">SIOP Chemotherapy Regimens</div>
                                <div class="treatment-body">
                                    <ul class="treatment-list">
                                        <li><strong>AV:</strong> Dactinomycin + Vincristine (preoperative)</li>
                                        <li><strong>AVD:</strong> AV + Doxorubicin (intermediate risk)</li>
                                        <li><strong>HR-1:</strong> Etoposide + Carboplatin + Cyclophosphamide + Doxorubicin (high risk)</li>
                                        <li>Duration: 4-34 weeks based on risk</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="alert alert-amber">
                            <span>‚ö†Ô∏è</span>
                            <strong>Special Considerations:</strong> Bilateral Wilms tumor requires nephron-sparing surgery approach. Very-low risk patients (<2 years, <550g, Stage I) may receive surgery only (90% cure rate).
                        </div>

                        <div class="card-grid">
                            <div class="info-card">
                                <div class="card-title">üë∂ Age-Specific Management</div>
                                <div class="treatment-list">
                                    <li><strong><6 months:</strong> Upfront surgery (SIOP)</li>
                                    <li><strong>6 months - 5 years:</strong> Standard protocols</li>
                                    <li><strong>>5 years:</strong> Consider alternative diagnoses</li>
                                    <li><strong>Adolescents/Adults:</strong> Rare, individualized approach</li>
                                </div>
                            </div>

                            <div class="info-card">
                                <div class="card-title">üß¨ Molecular Risk Factors</div>
                                <div class="treatment-list">
                                    <li><strong>LOH 1p & 16q:</strong> Higher risk, intensify therapy</li>
                                    <li><strong>1q Gain:</strong> Increased relapse risk</li>
                                    <li><strong>WT1 Mutations:</strong> Consider bilateral disease risk</li>
                                    <li><strong>TP53 Mutations:</strong> Anaplastic histology</li>
                                </div>
                            </div>
                        </div>

                        <div class="alert alert-red">
                            <span>üö®</span>
                            <strong>Tumor Rupture/Spillage:</strong> Occurs in ~10% of cases. Associated with higher recurrence rates and requires more intensive therapy. Avoid enemas (infection risk).
                        </div>
                    </div>
                </div>
            </div>

            <!-- Follow-up Section -->
            <div class="step-container fade-in" id="followup">
                <div class="step-header followup" onclick="toggleStep('followup')">
                    <div class="step-title">
                        <div class="step-icon">üìä</div>
                        Follow-up & Surveillance
                    </div>
                    <div class="expand-icon">‚ñº</div>
                </div>
                <div class="step-content">
                    <div class="step-body">
                        <div class="alert alert-blue">
                            <span>üìà</span>
                            <strong>Long-term Surveillance:</strong> Close monitoring for at least 5 years is necessary to detect relapse, complications, and late effects of treatment.
                        </div>

                        <div class="card-grid">
                            <div class="info-card">
                                <div class="card-title">üîç Tumor Surveillance</div>
                                <div class="treatment-list">
                                    <li><strong>First 18 months:</strong> Abdominal/chest CT serially</li>
                                    <li><strong>After 18 months:</strong> Abdominal ultrasound + chest x-ray</li>
                                    <li><strong>Bilateral disease:</strong> Longer surveillance (nephrogenic rests risk)</li>
                                    <li><strong>Genetic syndromes:</strong> Extended monitoring</li>
                                </div>
                            </div>

                            <div class="info-card">
                                <div class="card-title">‚ù§Ô∏è Cardiac Monitoring</div>
                                <div class="treatment-list">
                                    <li><strong>Echocardiograms:</strong> Serial assessment</li>
                                    <li><strong>Cumulative Dose:</strong> 
                                        <ul>
                                            <li>100-249 mg/m¬≤: Every 5 years</li>
                                            <li>‚â•250 mg/m¬≤: Every 2 years</li>
                                        </ul>
                                    </li>
                                    <li><strong>Anthracycline Risk:</strong> Cardiomyopathy, arrhythmias</li>
                                    <li><strong>Early Detection:</strong> Critical for intervention</li>
                                </div>
                            </div>

                            <div class="info-card">
                                <div class="card-title">üë©‚Äç‚öïÔ∏è Renal Function</div>
                                <div class="treatment-list">
                                    <li><strong>Creatinine Clearance:</strong> Serial monitoring</li>
                                    <li><strong>Bilateral Disease:</strong> Higher risk of renal failure (14%)</li>
                                    <li><strong>Solitary Kidney:</strong> Long-term function assessment</li>
                                    <li><strong>Proteinuria:</strong> Monitor for nephrotoxicity</li>
                                </div>
                            </div>

                            <div class="info-card">
                                <div class="card-title">üõ°Ô∏è Late Effects Screening</div>
                                <div class="treatment-list">
                                    <li><strong>Secondary Malignancies:</strong> 1.6% at 15 years</li>
                                    <li><strong>Colorectal Cancer:</strong> Screen early if abdominal radiation</li>
                                    <li><strong>Infertility:</strong> Cyclophosphamide/radiation risk</li>
                                    <li><strong>Lung Function:</strong> If whole lung irradiation</li>
                                </div>
                            </div>
                        </div>

                        <div class="alert alert-green">
                            <span>üéØ</span>
                            <strong>Prognosis:</strong> Overall survival >90% for favorable histology. Very-low risk patients have ~90% cure rate with surgery alone. Adverse factors: anaplasia, metastatic disease, LOH 1p/16q, 1q gain.
                        </div>

                        <div class="alert alert-amber">
                            <span>‚ö†Ô∏è</span>
                            <strong>Relapse Management:</strong> Individualized based on prior therapy, relapse location, and timing. Consider high-dose chemotherapy with stem cell rescue or clinical trials for recurrent disease.
                        </div>

                        <div class="treatment-grid">
                            <div class="treatment-card">
                                <div class="treatment-header" style="background: linear-gradient(135deg, #e74c3c, #c0392b);">High-Risk Features</div>
                                <div class="treatment-body">
                                    <ul class="treatment-list">
                                        <li>Anaplasia (diffuse or focal)</li>
                                        <li>Metastatic disease at presentation</li>
                                        <li>LOH at 1p and 16q combined</li>
                                        <li>Chromosome 1q gain</li>
                                        <li>TP53 mutations</li>
                                        <li>Lymph node involvement</li>
                                        <li>Microscopic residual disease</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="treatment-card">
                                <div class="treatment-header" style="background: linear-gradient(135deg, #2ecc71, #27ae60);">Favorable Prognostic Factors</div>
                                <div class="treatment-body">
                                    <ul class="treatment-list">
                                        <li>Favorable histology (no anaplasia)</li>
                                        <li>Stage I/II disease</li>
                                        <li>Age <2 years, tumor <550g</li>
                                        <li>Complete response to chemotherapy</li>
                                        <li>Isolated lung metastases</li>
                                        <li>No LOH 1p/16q</li>
                                        <li>No 1q gain</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="alert alert-blue">
                            <span>üß¨</span>
                            <strong>Genetic Counseling:</strong> Offer to families with known predisposition syndromes or bilateral disease. Surveillance ultrasound every 3 months from birth to age 7 years for at-risk children.
                        </div>

                        <div class="reference-section">
                            <h4>üìö Key References</h4>
                            <div class="reference-list">
                                <ol>
                                    <li>Spreafico F, Fernandez CV, Brok J, et al. Wilms tumour. Nat Rev Dis Primers. 2021 Oct 14;7(1):75.</li>
                                    <li>Dome JS, Mullen EA, Chi YY, et al. Impact of the first generation of Children's Oncology Group clinical trials on clinical practice for Wilms tumor. J Natl Compr Canc Netw. 2021 Aug 1;19(8):978-85.</li>
                                    <li>van den Heuvel-Eibrink MM, Hol JA, Pritchard-Jones K, et al. Position paper: rationale for the treatment of Wilms tumour in the UMBRELLA SIOP-RTSG 2016 protocol. Nat Rev Urol. 2017 Dec;14(12):743-52.</li>
                                    <li>Geller JI, Hong AL, Vallance KL, et al. Children's Oncology Group's 2023 blueprint for research: renal tumors. Pediatr Blood Cancer. 2023 Sep;70 Suppl 6(suppl 6):e30586.</li>
                                </ol>
                            </div>
                        </div>

                        <div class="alert alert-green">
                            <span>üéóÔ∏è</span>
                            <strong>Survivorship:</strong> With modern therapy, >90% long-term survival. Focus on minimizing late effects while maintaining excellent cure rates. Regular multidisciplinary follow-up essential.
                        </div>
                    </div>
                </div>
            </div>

            <!-- Action Buttons -->
            <div style="text-align: center; margin: 30px 0;">
                <button class="btn btn-primary" onclick="expandAll()">
                    <span>üìñ</span> Expand All Sections
                </button>
                <button class="btn btn-success" onclick="collapseAll()">
                    <span>üìï</span> Collapse All Sections
                </button>
                <button class="btn btn-warning" onclick="window.print()">
                    <span>üñ®Ô∏è</span> Print Algorithm
                </button>
                <button class="btn btn-danger" onclick="scrollToTop()">
                    <span>‚¨ÜÔ∏è</span> Back to Top
                </button>
            </div>

        </main>

        <!-- Progress Sidebar -->
        <aside class="sidebar">
            <h3>
                <span>üìç</span>
                Progress Tracker
            </h3>
            
            <div class="progress-item active" onclick="scrollToSection('assessment')">
                <strong>üìã Assessment</strong>
                <div style="font-size: 0.85em; color: #7f8c8d;">Initial evaluation and risk assessment</div>
            </div>

            <div class="progress-item" onclick="scrollToSection('diagnosis')">
                <strong>üî¨ Diagnosis</strong>
                <div style="font-size: 0.85em; color: #7f8c8d;">Imaging, staging, and pathology</div>
            </div>

            <div class="progress-item" onclick="scrollToSection('treatment')">
                <strong>üíä Treatment</strong>
                <div style="font-size: 0.85em; color: #7f8c8d;">Surgery, chemotherapy, radiation</div>
            </div>

            <div class="progress-item" onclick="scrollToSection('followup')">
                <strong>üìä Follow-up</strong>
                <div style="font-size: 0.85em; color: #7f8c8d;">Surveillance and late effects monitoring</div>
            </div>

            <div style="margin-top: 30px; padding: 20px; background: #f8f9fa; border-radius: 10px;">
                <h4 style="margin-bottom: 15px;">üìä Key Statistics</h4>
                <div style="font-size: 0.9em; line-height: 1.6;">
                    <div style="margin-bottom: 10px;"><strong>Overall Survival:</strong> <span style="color: #4caf50;">>90%</span></div>
                    <div style="margin-bottom: 10px;"><strong>Median Age:</strong> 4 years</div>
                    <div style="margin-bottom: 10px;"><strong>Bilateral Disease:</strong> 5-10%</div>
                    <div style="margin-bottom: 10px;"><strong>Metastatic at Presentation:</strong> ~21%</div>
                    <div style="margin-bottom: 10px;"><strong>Familial Cases:</strong> 1-2%</div>
                </div>
            </div>

            <div style="margin-top: 20px; padding: 20px; background: #e3f2fd; border-radius: 10px; border-left: 4px solid #2196f3;">
                <h4 style="margin-bottom: 10px;">üí° Quick Tips</h4>
                <div style="font-size: 0.85em; line-height: 1.5;">
                    <div style="margin-bottom: 8px;">‚Ä¢ Always refer to pediatric cancer centers</div>
                    <div style="margin-bottom: 8px;">‚Ä¢ Avoid tumor spillage during surgery</div>
                    <div style="margin-bottom: 8px;">‚Ä¢ Genetic testing for high-risk features</div>
                    <div style="margin-bottom: 8px;">‚Ä¢ Monitor for late effects long-term</div>
                    <div style="margin-bottom: 8px;">‚Ä¢ Consider fertility preservation</div>
                </div>
            </div>

            <div style="margin-top: 20px; padding: 20px; background: #fff3e0; border-radius: 10px; border-left: 4px solid #ff9800;">
                <h4 style="margin-bottom: 10px;">üö® Red Flags</h4>
                <div style="font-size: 0.85em; line-height: 1.5;">
                    <div style="margin-bottom: 8px;">‚Ä¢ Tumor rupture/spillage</div>
                    <div style="margin-bottom: 8px;">‚Ä¢ Diffuse anaplasia</div>
                    <div style="margin-bottom: 8px;">‚Ä¢ Extra-pulmonary metastases</div>
                    <div style="margin-bottom: 8px;">‚Ä¢ Bilateral disease requiring nephrectomies</div>
                    <div style="margin-bottom: 8px;">‚Ä¢ Secondary malignancies</div>
                </div>
            </div>

            <div style="margin-top: 20px; padding: 20px; background: #e8f5e8; border-radius: 10px; border-left: 4px solid #4caf50;">
                <h4 style="margin-bottom: 10px;">‚úÖ Good Prognosis Factors</h4>
                <div style="font-size: 0.85em; line-height: 1.5;">
                    <div style="margin-bottom: 8px;">‚Ä¢ Favorable histology</div>
                    <div style="margin-bottom: 8px;">‚Ä¢ Stage I/II disease</div>
                    <div style="margin-bottom: 8px;">‚Ä¢ Complete resection</div>
                    <div style="margin-bottom: 8px;">‚Ä¢ Complete response to chemo</div>
                    <div style="margin-bottom: 8px;">‚Ä¢ Young age, small tumor</div>
                </div>
            </div>
        </aside>
    </div>

    <!-- Scroll to Top Button -->
    <button class="scroll-to-top" id="scrollTopBtn" onclick="scrollToTop()">
        <span>‚¨ÜÔ∏è</span>
    </button>

    <script>
        // Step expansion/collapse functionality
        function toggleStep(stepId) {
            const stepContainer = document.getElementById(stepId);
            const isExpanded = stepContainer.classList.contains('expanded');
            
            if (isExpanded) {
                stepContainer.classList.remove('expanded');
                updateProgressItem(stepId, false);
            } else {
                stepContainer.classList.add('expanded');
                updateProgressItem(stepId, true);
            }
            
            // Smooth scroll to the step
            setTimeout(() => {
                stepContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }, 100);
        }

        function expandAll() {
            const steps = ['assessment', 'diagnosis', 'treatment', 'followup'];
            steps.forEach(stepId => {
                document.getElementById(stepId).classList.add('expanded');
                updateProgressItem(stepId, true);
            });
        }

        function collapseAll() {
            const steps = ['assessment', 'diagnosis', 'treatment', 'followup'];
            steps.forEach(stepId => {
                document.getElementById(stepId).classList.remove('expanded');
                updateProgressItem(stepId, false);
            });
        }

        function updateProgressItem(stepId, completed) {
            const progressItems = document.querySelectorAll('.progress-item');
            progressItems.forEach((item, index) => {
                const stepOrder = ['assessment', 'diagnosis', 'treatment', 'followup'];
                const currentStepIndex = stepOrder.indexOf(stepId);
                
                if (index === currentStepIndex) {
                    if (completed) {
                        item.classList.add('completed');
                        item.classList.remove('active');
                    } else {
                        item.classList.remove('completed');
                        item.classList.add('active');
                    }
                }
            });
        }

        function scrollToSection(sectionId) {
            const element = document.getElementById(sectionId);
            if (element) {
                element.scrollIntoView({ behavior: 'smooth', block: 'start' });
                element.classList.add('expanded');
                updateProgressItem(sectionId, true);
            }
        }

        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Scroll to top button visibility
        window.addEventListener('scroll', function() {
            const scrollTopBtn = document.getElementById('scrollTopBtn');
            if (window.pageYOffset > 300) {
                scrollTopBtn.classList.add('show');
            } else {
                scrollTopBtn.classList.remove('show');
            }
        });

        // Auto-expand sections based on scroll position
        let lastScrollTop = 0;
        window.addEventListener('scroll', function() {
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            const windowHeight = window.innerHeight;
            const steps = ['assessment', 'diagnosis', 'treatment', 'followup'];
            
            steps.forEach(stepId => {
                const element = document.getElementById(stepId);
                const rect = element.getBoundingClientRect();
                const elementTop = rect.top;
                const elementBottom = rect.bottom;
                
                // If element is in view, mark it as active in progress bar
                if (elementTop < windowHeight * 0.5 && elementBottom > windowHeight * 0.5) {
                    // Remove active from all progress items
                    document.querySelectorAll('.progress-item').forEach(item => {
                        item.classList.remove('active');
                    });
                    
                    // Add active to current progress item
                    const stepOrder = ['assessment', 'diagnosis', 'treatment', 'followup'];
                    const currentStepIndex = stepOrder.indexOf(stepId);
                    const progressItems = document.querySelectorAll('.progress-item');
                    if (progressItems[currentStepIndex]) {
                        progressItems[currentStepIndex].classList.add('active');
                    }
                }
            });
            
            lastScrollTop = scrollTop;
        });

        // Add fade-in animation on scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        // Observe all step containers
        document.querySelectorAll('.step-container').forEach(step => {
            step.style.opacity = '0';
            step.style.transform = 'translateY(30px)';
            step.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
            observer.observe(step);
        });

        // Add pulse animation to critical alerts
        document.querySelectorAll('.alert-red').forEach(alert => {
            alert.classList.add('pulse');
        });

        // Initialize tooltips for badge explanations
        document.querySelectorAll('.severity-badge').forEach(badge => {
            badge.addEventListener('mouseenter', function() {
                const explanation = this.getAttribute('data-tooltip') || '';
                if (explanation) {
                    // Create tooltip element
                    const tooltip = document.createElement('div');
                    tooltip.className = 'tooltip';
                    tooltip.textContent = explanation;
                    tooltip.style.cssText = `
                        position: absolute;
                        background: #333;
                        color: white;
                        padding: 5px 10px;
                        border-radius: 4px;
                        font-size: 0.8em;
                        z-index: 10000;
                        white-space: nowrap;
                        margin-top: -30px;
                    `;
                    this.style.position = 'relative';
                    this.appendChild(tooltip);
                }
            });
            
            badge.addEventListener('mouseleave', function() {
                const tooltip = this.querySelector('.tooltip');
                if (tooltip) {
                    tooltip.remove();
                }
            });
        });

        // Initialize with assessment section expanded
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                document.getElementById('assessment').classList.add('expanded');
                updateProgressItem('assessment', true);
            }, 500);
        });

        // Add hover effects to treatment cards
        document.querySelectorAll('.treatment-card').forEach(card => {
            card.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-5px) scale(1.02)';
                this.style.boxShadow = '0 15px 35px rgba(0, 0, 0, 0.2)';
            });
            
            card.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0) scale(1)';
                this.style.boxShadow = 'none';
            });
        });

        // Add smooth transitions to all interactive elements
        document.querySelectorAll('.btn, .info-card, .step-container, .progress-item').forEach(element => {
            element.style.transition = 'all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1)';
        });

        // Keyboard navigation support
        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowDown') {
                // Scroll to next section
                const sections = ['assessment', 'diagnosis', 'treatment', 'followup'];
                const currentSection = document.querySelector('.step-container.expanded');
                if (currentSection) {
                    const currentId = currentSection.id;
                    const currentIndex = sections.indexOf(currentId);
                    if (currentIndex < sections.length - 1) {
                        scrollToSection(sections[currentIndex + 1]);
                    }
                }
            } else if (e.key === 'ArrowUp') {
                // Scroll to previous section
                const sections = ['assessment', 'diagnosis', 'treatment', 'followup'];
                const currentSection = document.querySelector('.step-container.expanded');
                if (currentSection) {
                    const currentId = currentSection.id;
                    const currentIndex = sections.indexOf(currentId);
                    if (currentIndex > 0) {
                        scrollToSection(sections[currentIndex - 1]);
                    }
                }
            } else if (e.key === 'Enter' || e.key === ' ') {
                // Toggle current section
                const currentSection = document.querySelector('.step-container.expanded');
                if (currentSection) {
                    toggleStep(currentSection.id);
                }
            }
        });

        // Add visual feedback for progress tracker clicks
        document.querySelectorAll('.progress-item').forEach(item => {
            item.addEventListener('click', function() {
                // Add ripple effect
                const ripple = document.createElement('div');
                ripple.className = 'ripple';
                ripple.style.cssText = `
                    position: absolute;
                    border-radius: 50%;
                    background: rgba(52, 152, 219, 0.3);
                    transform: scale(0);
                    animation: ripple 0.6s linear;
                    pointer-events: none;
                `;
                
                const rect = this.getBoundingClientRect();
                const size = Math.max(rect.width, rect.height);
                const x = event.clientX - rect.left - size / 2;
                const y = event.clientY - rect.top - size / 2;
                
                ripple.style.width = ripple.style.height = size + 'px';
                ripple.style.left = x + 'px';
                ripple.style.top = y + 'px';
                
                this.style.position = 'relative';
                this.style.overflow = 'hidden';
                this.appendChild(ripple);
                
                setTimeout(() => ripple.remove(), 600);
            });
        });

        // Add ripple animation to CSS
        const rippleStyle = document.createElement('style');
        rippleStyle.textContent = `
            @keyframes ripple {
                to {
                    transform: scale(4);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(rippleStyle);
    </script>
</body>
</html>