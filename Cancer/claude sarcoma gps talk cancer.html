<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sarcoma Clinical Rapid Reference</title>
    <style>
        :root {
            --red-border: #d32f2f;
            --red-bg: #ffebee;
            --red-text: #b71c1c;
            
            --yellow-border: #fbc02d;
            --yellow-bg: #fffde7;
            --yellow-text: #f57f17;
            
            --blue-border: #1976d2;
            --blue-bg: #e3f2fd;
            --blue-text: #0d47a1;

            --text-main: #333;
            --bg-body: #f4f6f8;
            --nav-width: 60px;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-body);
            color: var(--text-main);
            line-height: 1.5;
            padding-bottom: 50px;
        }

        /* Navigation */
        nav {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: white;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-around;
            padding: 10px 0;
            z-index: 1000;
        }

        nav a {
            text-decoration: none;
            color: #666;
            font-size: 0.8rem;
            font-weight: 600;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: color 0.3s;
        }

        nav a.active {
            color: var(--blue-border);
        }

        nav a span { font-size: 1.2rem; margin-bottom: 2px; }

        /* Main Layout */
        header {
            background: #2c3e50;
            color: white;
            padding: 15px;
            position: sticky;
            top: 0;
            z-index: 999;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        h1 { font-size: 1.2rem; font-weight: 700; margin: 0; }
        .subtitle { font-size: 0.8rem; opacity: 0.8; }

        main {
            padding: 15px;
            max-width: 800px;
            margin: 0 auto;
            margin-bottom: 60px; /* Space for nav */
        }

        /* Alert Boxes */
        section {
            scroll-margin-top: 70px;
            margin-bottom: 25px;
            opacity: 0;
            transform: translateY(10px);
            animation: fadeIn 0.5s forwards;
        }

        h2 {
            font-size: 1.1rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 10px;
            color: #555;
            border-bottom: 2px solid #ddd;
            padding-bottom: 5px;
        }

        .card {
            background: white;
            border-radius: 6px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            transition: transform 0.2s;
            position: relative;
        }

        .card-red {
            border-left: 6px solid var(--red-border);
            background-color: var(--red-bg);
        }
        .card-red h3 { color: var(--red-text); }

        .card-yellow {
            border-left: 6px solid var(--yellow-border);
            background-color: var(--yellow-bg);
        }
        .card-yellow h3 { color: #bf360c; } /* Darker orange for readability */

        .card-blue {
            border-left: 6px solid var(--blue-border);
            background-color: var(--blue-bg);
        }
        .card-blue h3 { color: var(--blue-text); }

        h3 {
            font-size: 1rem;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            cursor: pointer;
        }

        h3::after {
            content: '+';
            font-weight: bold;
            font-size: 1.2rem;
            transition: transform 0.3s;
        }

        .card.expanded h3::after {
            transform: rotate(45deg);
        }

        .content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }

        .card.expanded .content {
            max-height: 500px; /* Arbitrary large number */
            padding-top: 10px;
            border-top: 1px solid rgba(0,0,0,0.05);
        }

        /* Always visible content within card */
        .summary {
            font-weight: 600;
            margin-bottom: 5px;
            display: block;
        }

        ul { margin-left: 20px; font-size: 0.95rem; }
        li { margin-bottom: 6px; }

        /* Key Metrics Grid */
        .grid-box {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }
        .stat-item {
            background: white;
            padding: 10px;
            border-radius: 4px;
            text-align: center;
            border: 1px solid #ddd;
        }
        .stat-val { font-weight: bold; font-size: 1.1rem; display: block;}
        .stat-label { font-size: 0.75rem; color: #666; }

        /* Animation */
        @keyframes fadeIn {
            to { opacity: 1; transform: translateY(0); }
        }

        /* Desktop Adjustments */
        @media (min-width: 768px) {
            nav {
                top: 70px;
                left: auto;
                right: 20px;
                bottom: auto;
                width: 120px;
                flex-direction: column;
                background: transparent;
                box-shadow: none;
                height: auto;
                padding: 0;
            }
            nav a {
                background: white;
                margin-bottom: 10px;
                padding: 10px;
                border-radius: 8px;
                box-shadow: 0 2px 5px rgba(0,0,0,0.1);
                align-items: flex-start;
                padding-left: 15px;
            }
            main { margin-right: 140px; }
        }
    </style>
</head>
<body>

<header>
    <h1>Sarcoma Rapid Reference</h1>
    <div class="subtitle">Based on GatewayC: GPs Talk Cancer</div>
</header>

<main>
    <!-- Soft Tissue Section -->
    <section id="soft-tissue">
        <h2>Soft Tissue Sarcoma</h2>
        
        <div class="card card-red expanded" onclick="toggleCard(this)">
            <h3>The 5 Red Flags (Referral Criteria)</h3>
            <div class="content" style="max-height: 500px;"> <!-- Default open -->
                <p><strong>Action:</strong> Urgent Ultrasound (or referral depending on local pathway) if <strong>ANY</strong> of these are present.</p>
                <ul>
                    <li><strong>Size:</strong> > 5cm (Larger than a golf ball)</li>
                    <li><strong>Growth:</strong> Increasing in size (Progressive)</li>
                    <li><strong>Depth:</strong> Deep to fascia (Cannot move skin over it/Hard to feel edges)</li>
                    <li><strong>Pain:</strong> Is it painful? (Though painless does not rule out)</li>
                    <li><strong>Recurrence:</strong> A lump that has returned after removal</li>
                </ul>
            </div>
        </div>

        <div class="card card-yellow" onclick="toggleCard(this)">
            <h3><span class="summary">Diagnostic Pitfalls</span></h3>
            <div class="content">
                <ul>
                    <li><strong>Lipoma:</strong> Do not assume lipoma without imaging if >5cm or growing.</li>
                    <li><strong>Cyst/Hematoma:</strong> "Growing hematoma" without clear trauma could be a bleeding tumor.</li>
                    <li><strong>Normal Bloods:</strong> Sarcomas rarely cause abnormal bloods/systemic symptoms until very late stages.</li>
                </ul>
            </div>
        </div>
    </section>

    <!-- Bone Sarcoma Section -->
    <section id="bone">
        <h2>Bone Sarcoma</h2>

        <div class="card card-red expanded" onclick="toggleCard(this)">
            <h3>Bone Red Flags</h3>
            <div class="content" style="max-height: 500px;">
                <ul>
                    <li><strong>Night Pain:</strong> Wakes patient from sleep.</li>
                    <li><strong>Rest Pain:</strong> Non-mechanical (hurts when not weight bearing).</li>
                    <li><strong>Analgesia Escalation:</strong> Rapid increase in need (e.g., morphine for "frozen shoulder").</li>
                    <li><strong>Age Peaks:</strong> 12-25 years (Osteosarcoma/Ewing's) & >65 years.</li>
                </ul>
            </div>
        </div>

        <div class="card card-blue" onclick="toggleCard(this)">
            <h3><span class="summary">Investigation Protocol</span></h3>
            <div class="content">
                <ul>
                    <li><strong>First Line:</strong> X-Ray. (Detects majority of bone sarcomas).</li>
                    <li><strong>If X-Ray Normal:</strong> If symptoms persist/red flags remain, <strong>REPEAT X-Ray in 6 weeks</strong> or refer for MRI.</li>
                    <li><strong>Warning:</strong> A "Normal" reported X-ray creates false reassurance. Re-evaluate if clinical picture doesn't fit.</li>
                </ul>
            </div>
        </div>
    </section>

    <!-- Clinical Exam -->
    <section id="exam">
        <h2>Clinical Examination</h2>
        
        <div class="card card-blue" onclick="toggleCard(this)">
            <h3><span class="summary">Examination Techniques</span></h3>
            <div class="content">
                <ul>
                    <li><strong>Examine BOTH sides:</strong> Look for asymmetry (muscle wasting vs. mass).</li>
                    <li><strong>Look from behind:</strong> Essential for shoulder/scapula lesions.</li>
                    <li><strong>Deep Palpation:</strong> Is the mass fixed? Is the bone tender?</li>
                    <li><strong>Referred Pain:</strong> Check proximal joints. (e.g., Sciatica could be a mass pressing on sciatic nerve in the thigh).</li>
                </ul>
            </div>
        </div>
    </section>

    <!-- Risk Factors -->
    <section id="risks">
        <h2>Risk Factors</h2>
        <div class="card card-yellow" onclick="toggleCard(this)">
            <h3><span class="summary">History Taking</span></h3>
            <div class="content">
                <ul>
                    <li><strong>Radiotherapy:</strong> History of radiation (can occur at edge of field).</li>
                    <li><strong>Neurofibromatosis:</strong> Malignant change in neurofibromas.</li>
                    <li><strong>Family History:</strong> Li-Fraumeni syndrome.</li>
                    <li><strong>Trauma:</strong> Patients often attribute tumors to a minor injury (Recall bias). Treat persistent post-injury pain with suspicion.</li>
                </ul>
            </div>
        </div>
    </section>

</main>

<nav>
    <a href="#soft-tissue" class="nav-link active">
        <span>‚óè</span> Soft Tissue
    </a>
    <a href="#bone" class="nav-link">
        <span>ü¶¥</span> Bone
    </a>
    <a href="#exam" class="nav-link">
        <span>‚úã</span> Exam
    </a>
    <a href="#risks" class="nav-link">
        <span>‚ö†</span> Risk
    </a>
</nav>

<script>
    // Accordion Logic
    function toggleCard(card) {
        card.classList.toggle('expanded');
        // Smooth scroll if opening pushes content off screen could be added here
        // but kept simple for speed
    }

    // Scroll Spy Logic
    const sections = document.querySelectorAll('section');
    const navLinks = document.querySelectorAll('.nav-link');

    const observerOptions = {
        root: null,
        rootMargin: '0px',
        threshold: 0.3
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href').substring(1) === entry.target.id) {
                        link.classList.add('active');
                    }
                });
            }
        });
    }, observerOptions);

    sections.forEach(section => {
        observer.observe(section);
    });

    // Smooth Scroll for Nav Links
    navLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            const targetId = this.getAttribute('href').substring(1);
            const targetSection = document.getElementById(targetId);
            
            window.scrollTo({
                top: targetSection.offsetTop - 80, // Offset for sticky header
                behavior: 'smooth'
            });
        });
    });
</script>

</body>
</html>