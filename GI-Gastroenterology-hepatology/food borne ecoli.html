<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clinical Reference: Foodborne E. coli</title>
    <style>
        :root {
            /* Color Palette */
            --primary: #0288d1;       /* Blue - General Info */
            --primary-light: #e1f5fe;
            --danger: #d32f2f;         /* Red - Emergency/Contraindication */
            --danger-light: #ffebee;
            --success: #2e7d32;        /* Green - Safe/Standard Action */
            --success-light: #e8f5e9;
            --warning: #f57f17;        /* Orange - Caution */
            --text-main: #263238;
            --text-muted: #546e7a;
            --bg-body: #f4f6f8;
            --bg-card: #ffffff;
            --shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06);
            --radius: 8px;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; background-color: var(--bg-body); color: var(--text-main); line-height: 1.5; }

        /* Typography */
        h1, h2, h3 { font-weight: 700; letter-spacing: -0.025em; }
        h1 { font-size: 1.75rem; color: var(--primary); }
        h2 { font-size: 1.25rem; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem; }
        h3 { font-size: 1rem; margin-bottom: 0.5rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.05em; }
        
        /* Layout Utilities */
        .container { max-width: 1200px; margin: 0 auto; padding: 1rem; }
        .grid-2 { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1rem; }
        .grid-3 { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; }
        .flex-between { display: flex; justify-content: space-between; align-items: center; }
        .mt-2 { margin-top: 1rem; }
        .mb-1 { margin-bottom: 0.5rem; }

        /* Navigation */
        nav { background: white; padding: 1rem 0; position: sticky; top: 0; z-index: 100; border-bottom: 1px solid #e0e0e0; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
        .nav-container { display: flex; justify-content: space-between; align-items: center; overflow-x: auto; }
        .nav-links { display: flex; gap: 0.5rem; }
        .nav-btn { background: none; border: none; padding: 0.5rem 1rem; cursor: pointer; font-weight: 600; color: var(--text-muted); border-radius: 20px; white-space: nowrap; transition: all 0.2s; }
        .nav-btn:hover { background: var(--primary-light); color: var(--primary); }
        .nav-btn.active { background: var(--primary); color: white; }

        /* Critical Alerts */
        .alert-banner { padding: 1rem; border-radius: var(--radius); border-left: 5px solid; margin-bottom: 1.5rem; animation: slideIn 0.5s ease-out; }
        .alert-danger { background: var(--danger-light); border-color: var(--danger); color: var(--danger); }
        .alert-success { background: var(--success-light); border-color: var(--success); color: var(--success); }
        .alert-icon { font-size: 1.5rem; margin-right: 0.5rem; vertical-align: middle; }

        /* Cards */
        .card { background: var(--bg-card); padding: 1.5rem; border-radius: var(--radius); box-shadow: var(--shadow); transition: transform 0.2s, box-shadow 0.2s; border: 1px solid transparent; height: 100%; display: flex; flex-direction: column; }
        .card:hover { transform: translateY(-2px); box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1); }
        
        /* Strain Cards specific styling */
        .strain-card.ehec { border-top: 4px solid var(--danger); }
        .strain-card.etec { border-top: 4px solid var(--primary); }
        .strain-card p { font-size: 0.9rem; color: var(--text-muted); flex-grow: 1; }
        .tag { display: inline-block; padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.75rem; font-weight: 700; margin-bottom: 0.5rem; }
        .tag-danger { background: var(--danger-light); color: var(--danger); }
        .tag-info { background: var(--primary-light); color: var(--primary); }

        /* Tables */
        .data-table { width: 100%; border-collapse: collapse; font-size: 0.9rem; }
        .data-table th { text-align: left; padding: 0.75rem; background: #f8fafc; border-bottom: 2px solid #e2e8f0; color: var(--text-muted); }
        .data-table td { padding: 0.75rem; border-bottom: 1px solid #e2e8f0; }
        .data-table tr:last-child td { border-bottom: none; }
        .data-table .highlight { font-weight: 600; color: var(--primary); }

        /* Tabs */
        .tabs { display: flex; gap: 0.5rem; margin-bottom: 1rem; border-bottom: 1px solid #e0e0e0; }
        .tab-btn { padding: 0.75rem 1.5rem; border: none; background: none; cursor: pointer; font-weight: 600; color: var(--text-muted); border-bottom: 3px solid transparent; }
        .tab-btn.active { color: var(--primary); border-bottom-color: var(--primary); }
        .tab-content { display: none; animation: fadeIn 0.3s; }
        .tab-content.active { display: block; }

        /* Action Box (Management) */
        .action-box { display: flex; gap: 1rem; align-items: start; margin-bottom: 1rem; padding: 1rem; background: #fafafa; border-radius: var(--radius); border-left: 4px solid #ccc; }
        .action-box.step-1 { border-color: var(--primary); }
        .action-box.step-2 { border-color: var(--warning); }
        .action-box.step-3 { border-color: var(--danger); }
        
        .check-icon { color: var(--success); font-weight: bold; }
        .cross-icon { color: var(--danger); font-weight: bold; }

        /* Dosage Tag */
        .dosage { font-family: monospace; font-size: 0.85rem; background: #eee; padding: 0.2rem 0.4rem; border-radius: 4px; color: #555; margin-top: 0.25rem; display: inline-block;}

        /* Footer */
        footer { text-align: center; padding: 2rem; color: var(--text-muted); font-size: 0.8rem; margin-top: 2rem; border-top: 1px solid #e0e0e0; }

        /* Animations */
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes slideIn { from { transform: translateX(-10px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }

        /* Utility */
        .hidden { display: none; }
        .text-small { font-size: 0.85rem; }
        .bold { font-weight: 700; }
    </style>
</head>
<body>

<!-- Navigation -->
<nav>
    <div class="container nav-container">
        <div style="font-weight:800; font-size:1.2rem; color:var(--primary);">E. coli Reference</div>
        <div class="nav-links">
            <button class="nav-btn active" onclick="scrollToSection('overview')">Overview</button>
            <button class="nav-btn" onclick="scrollToSection('classification')">Types</button>
            <button class="nav-btn" onclick="scrollToSection('diagnosis')">Diagnosis</button>
            <button class="nav-btn" onclick="scrollToSection('management')">Management</button>
            <button class="nav-btn" onclick="scrollToSection('red-flags')">Red Flags</button>
        </div>
    </div>
</nav>

<main class="container">

    <!-- CRITICAL ALERTS SECTION -->
    <section id="red-flags" style="margin-top: 1.5rem;">
        <div class="alert-banner alert-danger">
            <span class="alert-icon">‚ö†Ô∏è</span>
            <strong>DO NOT USE ANTIBIOTICS for suspected or confirmed EHEC (O157:H7) or Shiga-toxin 2 producing strains.</strong> 
            <span class="text-small" style="display:block; margin-top:0.25rem;">Use increases risk of Haemolytic Uraemic Syndrome (HUS).</span>
        </div>
        
        <div class="alert-banner alert-success">
            <span class="alert-icon">‚úÖ</span>
            <strong>Primary Treatment for ALL types: Supportive Care.</strong> 
            <span class="text-small" style="display:block; margin-top:0.25rem;">Focus on Rehydration (Oral/IV) and electrolyte correction.</span>
        </div>
    </section>

    <!-- OVERVIEW & CLASSIFICATION -->
    <section id="overview" class="mt-2">
        <h2>Overview & Epidemiology</h2>
        <div class="card mb-1">
            <p>Foodborne Escherichia coli infection occurs via contaminated food/water. Transmission is fecal-oral. <strong>Incubation:</strong> 6-48 hours (ETEC) to 1-10 days (EHEC).</p>
            <div style="margin-top: 1rem;">
                <strong>Key Risk Factors:</strong>
                <div class="grid-3 mt-2">
                    <div class="text-small">ü•© Undercooked ground beef (EHEC)</div>
                    <div class="text-small">‚úàÔ∏è Travel to developing regions (ETEC)</div>
                    <div class="text-small">üë∂ Age: <5 years or >60 years</div>
                </div>
            </div>
        </div>
    </section>

    <section id="classification">
        <h2>Pathogenic Classification (The "6 Types")</h2>
        <div class="grid-3">
            <!-- EHEC -->
            <div class="card strain-card ehec">
                <span class="tag tag-danger">HIGH RISK</span>
                <h3>Enterohaemorrhagic (EHEC)</h3>
                <p class="bold">Also known as: STEC (Shiga toxin-producing)</p>
                <p>Key Feature: <strong>Bloody diarrhoea</strong>, severe abdominal pain.</p>
                <p>Serotype: <strong>O157:H7</strong> is most common.</p>
                <div style="margin-top:0.5rem; font-size:0.85rem; color:var(--danger);">
                    ‚ö†Ô∏è Risk: Hemolytic Uraemic Syndrome (HUS).
                </div>
            </div>

            <!-- ETEC -->
            <div class="card strain-card etec">
                <span class="tag tag-info">COMMON</span>
                <h3>Enterotoxigenic (ETEC)</h3>
                <p class="bold">The "Traveller's Diarrhoea" pathogen</p>
                <p>Key Feature: <strong>Profuse watery diarrhoea</strong>, non-bloody.</p>
                <p>Route: Contaminated water/food in developing regions.</p>
            </div>

            <!-- EIEC -->
            <div class="card strain-card">
                <span class="tag tag-info">LESS COMMON</span>
                <h3>Enteroinvasive (EIEC)</h3>
                <p>Key Feature: <strong>Dysentery</strong> (mucous/bloody stool, fever).</p>
                <p>Mechanism: Intracellular invasion (similar to Shigella).</p>
            </div>

            <!-- EPEC -->
            <div class="card strain-card">
                <span class="tag tag-info">PEDIATRIC</span>
                <h3>Enteropathogenic (EPEC)</h3>
                <p>Key Feature: <strong>Watery diarrhoea</strong> in infants.</p>
                <p>Setting: Outbreaks in child care centers.</p>
            </div>

            <!-- EAEC -->
            <div class="card strain-card">
                <span class="tag tag-info">PERSISTENT</span>
                <h3>Enteroaggregative (EAEC)</h3>
                <p>Key Feature: <strong>Chronic watery diarrhoea</strong>.</p>
                <p>Common in developing countries and some travellers (Latin America).</p>
            </div>

            <!-- DAEC -->
            <div class="card strain-card">
                <span class="tag tag-info">TRAVEL</span>
                <h3>Diffusely Adherent (DAEC)</h3>
                <p>Key Feature: Diarrhoea in children & travellers (North Africa/Mexico).</p>
            </div>
        </div>
    </section>

    <!-- DIAGNOSIS -->
    <section id="diagnosis" class="mt-2">
        <h2>Diagnosis & Investigations</h2>
        <div class="grid-2">
            <!-- Clinical -->
            <div class="card">
                <h3>üìã Clinical Assessment</h3>
                <ul style="padding-left: 1.2rem; margin-top:0.5rem;">
                    <li><strong>History:</strong> Travel (ETEC), Beef consumption (EHEC), Contacts.</li>
                    <li><strong>Symptoms:</strong> Diarrhoea (Bloody = EHEC; Watery = ETEC), Nausea, Cramps.</li>
                    <li><strong>Exam:</strong> Check for volume depletion (dry mucosa, tachycardia, hypotension).</li>
                    <li><strong>Fever:</strong> Uncommon in EHEC; suggests other pathogens or EIEC.</li>
                </ul>
            </div>

            <!-- Labs -->
            <div class="card">
                <h3>üß™ 1st Line Tests</h3>
                <table class="data-table mt-2">
                    <thead>
                        <tr>
                            <th>Test</th>
                            <th>Result / Indication</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="highlight">Stool Culture</td>
                            <td>Mandatory for bloody diarrhoea. Use Sorbitol MacConkey agar for O157.</td>
                        </tr>
                        <tr>
                            <td>Shiga Toxin (PCR/ELISA)</td>
                            <td>Confirms EHEC/STEC.</td>
                        </tr>
                        <tr>
                            <td>FBC (CBC)</td>
                            <td>Leukocytosis. Watch for Anemia/Thrombocytopenia (HUS signs).</td>
                        </tr>
                        <tr>
                            <td>U&E / Renal</td>
                            <td>Check for dehydration & renal failure (Urea/Creatinine).</td>
                        </tr>
                    </table>
            </div>
        </div>
    </section>

    <!-- MANAGEMENT ALGORITHM -->
    <section id="management" class="mt-2">
        <h2>Management Protocol</h2>
        
        <div class="tabs">
            <button class="tab-btn active" onclick="openTab('general')">General Support</button>
            <button class="tab-btn" onclick="openTab('etec')">ETEC (Traveller's)</button>
            <button class="tab-btn" onclick="openTab('ehec')">EHEC (Bloody)</button>
        </div>

        <!-- TAB: General Support -->
        <div id="general" class="tab-content active">
            <div class="grid-2">
                <div class="card">
                    <h3 style="color:var(--success)">Rehydration (Priority)</h3>
                    <p class="mb-1">Most patients can be managed with oral rehydration.</p>
                    <ul style="padding-left:1.2rem; font-size:0.9rem;">
                        <li><strong>Fluids:</strong> Glucose-containing fluids promote Na+ absorption.</li>
                        <li><strong>Avoid:</strong> Caffeine, milk (transient lactose intolerance).</li>
                        <li><strong>IV Fluids:</strong> If unable to tolerate oral intake, worsening depletion, or sepsis.</li>
                    </ul>
                </div>
                <div class="card">
                    <h3>Infection Control</h3>
                    <ul style="padding-left:1.2rem; font-size:0.9rem;">
                        <li>Strict hand hygiene.</li>
                        <li>Isolate hospitalised patients (Contact precautions).</li>
                        <li><strong>Notify Authorities:</strong> EHEC is a notifiable disease.</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- TAB: ETEC -->
        <div id="etec" class="tab-content">
            <div class="card mb-1" style="border-left: 5px solid var(--primary);">
                <h3>Condition: Enterotoxigenic E. coli (Watery Diarrhoea / Travel)</h3>
                <p>Antibiotics can shorten duration in severe cases.</p>
            </div>
            
            <div class="action-box step-1">
                <div style="font-size:1.5rem; color:var(--success);">‚ûú</div>
                <div>
                    <h4>Antibiotic Options</h4>
                    <p class="text-small">Choose one based on resistance patterns of travel region.</p>
                    <div class="mt-2">
                        <div><strong>Rifaximin:</strong> <span class="dosage">200mg PO TID x 3 days</span></div>
                        <div><strong>Azithromycin:</strong> <span class="dosage">1000mg single dose OR 500mg x 3 days</span></div>
                        <div><strong>Ciprofloxacin:</strong> <span class="dosage">750mg single dose (Use with caution - see side effects)</span></div>
                    </div>
                </div>
            </div>

            <div class="action-box step-1">
                <div style="font-size:1.5rem; color:var(--success);">‚ûú</div>
                <div>
                    <h4>Adjuncts</h4>
                    <div><strong>Bismuth Subsalicylate:</strong> <span class="dosage">524mg PO QID</span> (Reduces diarrhoea).</div>
                    <div><strong>Loperamide:</strong> Can be used for symptomatic relief in non-bloody diarrhoea.</div>
                </div>
            </div>
        </div>

        <!-- TAB: EHEC -->
        <div id="ehec" class="tab-content">
            <div class="card mb-1" style="border-left: 5px solid var(--danger); background: var(--danger-light);">
                <h3 style="color:var(--danger)">Condition: Enterohaemorrhagic E. coli (Bloody Diarrhoea)</h3>
                <p><strong>High Risk of HUS.</strong> Do NOT use antimotility agents or antibiotics.</p>
            </div>

            <div class="action-box step-3">
                <div style="font-size:1.5rem; color:var(--danger);">üö´</div>
                <div>
                    <h4>Avoid Antibiotics</h4>
                    <p><strong>Contraindicated:</strong> Ciprofloxacin, TMP-SMX, etc.</p>
                    <p class="text-small text-muted">Antibiotics increase phage induction of Shiga toxin, increasing risk of HUS.</p>
                </div>
            </div>

            <div class="action-box step-3">
                <div style="font-size:1.5rem; color:var(--danger);">üö´</div>
                <div>
                    <h4>Avoid Antimotility Agents</h4>
                    <p><strong>Contraindicated:</strong> Loperamide, Diphenoxylate/Atropine.</p>
                    <p class="text-small text-muted">These decrease bacterial elimination and increase risk of toxic megacolon/HUS.</p>
                </div>
            </div>

            <div class="action-box step-1">
                <div style="font-size:1.5rem; color:var(--success);">‚úÖ</div>
                <div>
                    <h4>Supportive Care Only</h4>
                    <p>IV fluids for hydration. Monitor Renal Function & FBC daily for HUS signs.</p>
                </div>
            </div>
        </div>

    </section>

    <!-- COMPLICATIONS -->
    <section id="complications" class="mt-2">
        <h2>Complications & Follow-up</h2>
        <div class="card" style="border: 1px solid var(--danger);">
            <h3 style="color:var(--danger)">Haemolytic Uraemic Syndrome (HUS)</h3>
            <p class="text-small">Occurs in approx 10% of E. coli O157:H7 infections (more common in children <5 and elderly).</p>
            <div class="grid-3 mt-2">
                <div class="text-small"><strong>Triad:</strong></div>
                <div class="text-small">‚Ä¢ Microangiopathic Hemolytic Anemia</div>
                <div class="text-small">‚Ä¢ Thrombocytopenia</div>
                <div class="text-small">‚Ä¢ Acute Kidney Injury</div>
            </div>
            <p class="text-small mt-2"><strong>Action:</strong> Hospital admission, nephrology consult, avoid platelet transfusions if possible (can worsen thrombosis).</p>
        </div>
    </section>

</main>

<footer>
    <p><strong>Disclaimer:</strong> This tool is for reference only based on BMJ Best Practice (Feb 2024). Clinical decisions remain the responsibility of the treating physician.</p>
    <p style="margin-top:0.5rem">¬© 2025 Clinical Quick-Scan App</p>
</footer>

<script>
    // Tab functionality for Management section
    function openTab(tabId) {
        // Hide all tab content
        const contents = document.querySelectorAll('.tab-content');
        contents.forEach(content => content.classList.remove('active'));

        // Remove active class from buttons
        const buttons = document.querySelectorAll('.tab-btn');
        buttons.forEach(btn => btn.classList.remove('active'));

        // Show specific tab and activate button
        document.getElementById(tabId).classList.add('active');
        
        // Find the button that triggered this (approximated by text matching or event logic, 
        // but here simple iteration works since we call specific IDs)
        // Actually simpler way: pass event or loop to find match
        event.target.classList.add('active');
    }

    // Smooth Scroll for Navigation
    function scrollToSection(id) {
        const element = document.getElementById(id);
        const navHeight = document.querySelector('nav').offsetHeight;
        const elementPosition = element.getBoundingClientRect().top;
        const offsetPosition = elementPosition + window.pageYOffset - navHeight - 20;

        window.scrollTo({
            top: offsetPosition,
            behavior: "smooth"
        });
    }

    // Optional: Highlight active nav link on scroll
    window.addEventListener('scroll', () => {
        let current = '';
        const sections = document.querySelectorAll('section');
        const navLi = document.querySelectorAll('.nav-links .nav-btn');

        sections.forEach(section => {
            const sectionTop = section.offsetTop;
            const sectionHeight = section.clientHeight;
            if (pageYOffset >= (sectionTop - 150)) {
                current = section.getAttribute('id');
            }
        });

        navLi.forEach(btn => {
            btn.classList.remove('active');
            if (btn.getAttribute('onclick').includes(current)) {
                btn.classList.add('active');
            }
        });
    });
</script>

</body>
</html>