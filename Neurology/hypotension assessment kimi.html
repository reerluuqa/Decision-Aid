<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hypotension Assessment & Management Algorithm</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --assessment-color: #3498db;
            --diagnosis-color: #9b59b6;
            --treatment-color: #e74c3c;
            --followup-color: #27ae60;
            --urgent-color: #e74c3c;
            --caution-color: #f39c12;
            --stable-color: #27ae60;
            --bg-color: #f5f7fa;
            --card-bg: #ffffff;
            --text-primary: #2c3e50;
            --text-secondary: #7f8c8d;
            --border-color: #e1e8ed;
            --hover-shadow: 0 8px 25px rgba(0,0,0,0.15);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-primary);
            line-height: 1.6;
        }

        header {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: white;
            padding: 1.5rem 2rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        h1 {
            font-size: 1.8rem;
            font-weight: 600;
        }

        .controls {
            display: flex;
            gap: 1rem;
            align-items: center;
            flex-wrap: wrap;
        }

        .controls button {
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.3);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            cursor: pointer;
            transition: var(--transition);
            font-size: 0.9rem;
        }

        .controls button:hover {
            background: rgba(255,255,255,0.2);
            transform: translateY(-2px);
        }

        .controls input {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 6px;
            width: 250px;
            font-size: 0.9rem;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            gap: 2rem;
            padding: 2rem;
        }

        /* Sidebar */
        .sidebar {
            width: 280px;
            position: sticky;
            top: 100px;
            height: fit-content;
            background: var(--card-bg);
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .sidebar h3 {
            margin-bottom: 1.5rem;
            color: var(--text-primary);
            font-size: 1.1rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem;
            margin-bottom: 0.5rem;
            border-radius: 8px;
            text-decoration: none;
            color: var(--text-secondary);
            transition: var(--transition);
            cursor: pointer;
        }

        .nav-item:hover {
            background: var(--bg-color);
            color: var(--text-primary);
        }

        .nav-item.active {
            background: linear-gradient(135deg, var(--assessment-color), var(--diagnosis-color));
            color: white;
        }

        .nav-item .icon {
            font-size: 1.2rem;
            width: 24px;
            text-align: center;
        }

        .nav-item .badge {
            margin-left: auto;
            background: var(--urgent-color);
            color: white;
            font-size: 0.7rem;
            padding: 0.2rem 0.5rem;
            border-radius: 12px;
            min-width: 20px;
            text-align: center;
        }

        /* Main Content */
        main {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .section {
            scroll-margin-top: 120px;
        }

        .card {
            background: var(--card-bg);
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            overflow: hidden;
            transition: var(--transition);
        }

        .card:hover {
            transform: translateY(-4px);
            box-shadow: var(--hover-shadow);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem;
            color: white;
            cursor: pointer;
            transition: var(--transition);
        }

        .assessment-card .card-header {
            background: linear-gradient(135deg, var(--assessment-color), #2980b9);
        }

        .diagnosis-card .card-header {
            background: linear-gradient(135deg, var(--diagnosis-color), #8e44ad);
        }

        .treatment-card .card-header {
            background: linear-gradient(135deg, var(--treatment-color), #c0392b);
        }

        .followup-card .card-header {
            background: linear-gradient(135deg, var(--followup-color), #229954);
        }

        .card-title {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .card-title .icon {
            font-size: 1.5rem;
        }

        .card-title h2 {
            font-size: 1.3rem;
            font-weight: 600;
        }

        .expand-icon {
            font-size: 1.5rem;
            font-weight: 300;
            transition: var(--transition);
        }

        .card.expanded .expand-icon {
            transform: rotate(45deg);
        }

        .card-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .card.expanded .card-content {
            max-height: 5000px;
        }

        .card-body {
            padding: 2rem;
        }

        /* Content Styling */
        .sub-section {
            margin-bottom: 2rem;
            padding-bottom: 2rem;
            border-bottom: 1px solid var(--border-color);
        }

        .sub-section:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .sub-section h3 {
            color: var(--text-primary);
            margin-bottom: 1rem;
            font-size: 1.1rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .sub-section h4 {
            color: var(--text-primary);
            margin: 1rem 0 0.5rem;
            font-size: 1rem;
            font-weight: 600;
        }

        .badge {
            display: inline-block;
            padding: 0.3rem 0.75rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-left: 0.5rem;
        }

        .badge-urgent {
            background: var(--urgent-color);
            color: white;
        }

        .badge-caution {
            background: var(--caution-color);
            color: white;
        }

        .badge-stable {
            background: var(--stable-color);
            color: white;
        }

        .badge-info {
            background: var(--assessment-color);
            color: white;
        }

        /* Lists */
        ul, ol {
            margin: 1rem 0;
            padding-left: 1.5rem;
        }

        li {
            margin-bottom: 0.5rem;
        }

        .checklist {
            list-style: none;
            padding: 0;
        }

        .checklist li {
            display: flex;
            align-items: flex-start;
            gap: 0.5rem;
            padding: 0.75rem;
            background: var(--bg-color);
            margin-bottom: 0.5rem;
            border-radius: 6px;
            transition: var(--transition);
        }

        .checklist li:hover {
            background: #e8f4f8;
        }

        .checklist li::before {
            content: "‚úì";
            color: var(--stable-color);
            font-weight: bold;
            margin-top: 0.1rem;
        }

        /* Tables */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
            font-size: 0.9rem;
        }

        .data-table th,
        .data-table td {
            padding: 0.75rem;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        .data-table th {
            background: var(--bg-color);
            font-weight: 600;
            color: var(--text-primary);
        }

        .data-table tr:hover {
            background: #f8f9fa;
        }

        /* Flowchart */
        .flowchart {
            background: var(--bg-color);
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1rem 0;
            font-family: monospace;
            font-size: 0.85rem;
            overflow-x: auto;
            white-space: pre-wrap;
        }

        /* Highlight for search */
        .highlight {
            background: #ffeb3b;
            color: #000;
            padding: 0.2rem;
            border-radius: 3px;
        }

        /* Floating Alert */
        .floating-alert {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background: var(--urgent-color);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 50px;
            box-shadow: 0 4px 15px rgba(231, 76, 60, 0.4);
            display: flex;
            align-items: center;
            gap: 0.75rem;
            cursor: pointer;
            transition: var(--transition);
            z-index: 1000;
        }

        .floating-alert:hover {
            transform: translateY(-4px);
            box-shadow: 0 6px 20px rgba(231, 76, 60, 0.5);
        }

        .floating-alert .alert-count {
            background: white;
            color: var(--urgent-color);
            font-weight: bold;
            padding: 0.25rem 0.5rem;
            border-radius: 50%;
            min-width: 24px;
            text-align: center;
        }

        /* Print Styles */
        @media print {
            header, .sidebar, .floating-alert {
                display: none;
            }

            .container {
                padding: 0;
            }

            .card {
                box-shadow: none;
                border: 1px solid #ddd;
                margin-bottom: 1rem;
            }

            .card-content {
                max-height: none !important;
            }
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .container {
                flex-direction: column;
            }

            .sidebar {
                width: 100%;
                position: static;
            }

            .header-content {
                flex-direction: column;
                align-items: flex-start;
            }

            .controls {
                width: 100%;
            }

            .controls input {
                flex: 1;
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }

            h1 {
                font-size: 1.4rem;
            }

            .card-body {
                padding: 1.5rem;
            }

            .controls {
                flex-direction: column;
                width: 100%;
            }

            .controls input {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <h1>ü©∫ Hypotension Assessment & Management Algorithm</h1>
            <div class="controls">
                <button id="printBtn">üñ®Ô∏è Print View</button>
                <button id="expandAllBtn">üìÇ Expand All</button>
                <button id="collapseAllBtn">üìÅ Collapse All</button>
                <input type="text" id="searchBox" placeholder="üîç Search algorithm...">
            </div>
        </div>
    </header>

    <div class="container">
        <aside class="sidebar">
            <h3>Progress Tracker</h3>
            <nav>
                <a href="#assessment" class="nav-item active" data-section="assessment">
                    <span class="icon">üìã</span>
                    <span class="text">Assessment</span>
                    <span class="badge" data-count="0">0</span>
                </a>
                <a href="#diagnosis" class="nav-item" data-section="diagnosis">
                    <span class="icon">üîç</span>
                    <span class="text">Diagnosis</span>
                    <span class="badge" data-count="0">0</span>
                </a>
                <a href="#treatment" class="nav-item" data-section="treatment">
                    <span class="icon">üíä</span>
                    <span class="text">Treatment</span>
                    <span class="badge" data-count="0">0</span>
                </a>
                <a href="#followup" class="nav-item" data-section="followup">
                    <span class="icon">üìÖ</span>
                    <span class="text">Follow-up</span>
                    <span class="badge" data-count="0">0</span>
                </a>
            </nav>
            <div style="margin-top: 2rem; padding-top: 1rem; border-top: 1px solid var(--border-color);">
                <small style="color: var(--text-secondary);">
                    <span class="badge badge-urgent">Red</span> = Urgent<br>
                    <span class="badge badge-caution">Amber</span> = Caution<br>
                    <span class="badge badge-stable">Green</span> = Stable
                </small>
            </div>
        </aside>

        <main>
            <!-- Assessment Section -->
            <section id="assessment" class="section">
                <div class="card assessment-card" data-section="assessment">
                    <div class="card-header" onclick="toggleCard(this)">
                        <div class="card-title">
                            <span class="icon">üìã</span>
                            <h2>Assessment</h2>
                        </div>
                        <span class="expand-icon">+</span>
                    </div>
                    <div class="card-content">
                        <div class="card-body">
                            <div class="sub-section">
                                <h3>Blood Pressure Measurement <span class="badge badge-info">Critical</span></h3>
                                <ul class="checklist">
                                    <li>Use appropriate cuff size (under-cuffing overestimates BP, over-cuffing underestimates)</li>
                                    <li>Patient seated comfortably for 5 minutes before measurement</li>
                                    <li>Cuff at heart level, lower edge 2-3 cm above antecubital fossa</li>
                                    <li>If not hypotensive at assessment, perform lying and standing BP</li>
                                    <li>Orthostatic hypotension: SBP drop ‚â•20 mmHg or DBP ‚â•10 mmHg within 3 minutes</li>
                                    <li>Palpate pulse to exclude arrhythmia before using automatic sphygmomanometer</li>
                                </ul>
                            </div>

                            <div class="sub-section">
                                <h3>Initial Assessment <span class="badge badge-urgent">ABC First</span></h3>
                                <p><strong>Determine if shock is present:</strong> Shock is life-threatening failure of adequate oxygen delivery. Look for:</p>
                                <ul class="checklist">
                                    <li>Tachycardia</li>
                                    <li>Altered cognition/reduced consciousness</li>
                                    <li>Diaphoresis</li>
                                    <li>Oliguria</li>
                                    <li>Hypotension (commonly SBP &lt;90 mmHg)</li>
                                </ul>
                                
                                <p style="margin-top: 1rem;"><strong>History pointers to specific causes:</strong></p>
                                <ul>
                                    <li><strong>Pregnancy:</strong> Consider ruptured ectopic pregnancy</li>
                                    <li><strong>Cardiac disease:</strong> Cardiogenic shock</li>
                                    <li><strong>Chronic liver disease:</strong> Gastrointestinal bleed</li>
                                    <li><strong>Allergen exposure:</strong> Anaphylaxis</li>
                                    <li><strong>Recent infection/immunodeficiency:</strong> Sepsis</li>
                                    <li><strong>Trauma:</strong> Haemorrhage</li>
                                    <li><strong>Aortic aneurysm:</strong> Rupture risk</li>
                                    <li><strong>Endocrine disorder:</strong> Addisonian crisis, severe hypothyroidism</li>
                                </ul>
                            </div>

                            <div class="sub-section">
                                <h3>Determine Type of Shock</h3>
                                <h4>1. Assess Fluid Responsiveness:</h4>
                                <ul>
                                    <li><strong>Passive leg raise:</strong> Increase legs to 45¬∞, positive if cardiac output increases ‚â•10%</li>
                                    <li><strong>IV fluid bolus:</strong> 300-500mL crystalloid, positive if stroke volume increases 10-12%</li>
                                    <li><strong>Ultrasound:</strong> IVC diameter and respiratory variation</li>
                                </ul>

                                <h4 style="margin-top: 1rem;">2. Assess if fluid responsive:</h4>
                                <ul>
                                    <li>Good response ‚Üí <strong>Decreased preload</strong> (hypovolaemic)</li>
                                    <li>Poor response ‚Üí Assess cardiac function and vascular tone</li>
                                </ul>
                            </div>

                            <div class="sub-section">
                                <h3>Acute Hypotension Without Shock</h3>
                                <p><strong>Comprehensive history:</strong> Fever, chest pain, dyspnea, abdominal pain, medications, allergies</p>
                                <p><strong>Examination:</strong> Volume status, JVP, heart sounds, lung sounds, abdomen, neurological signs</p>
                                <p><strong>Basic investigations for all:</strong></p>
                                <ul>
                                    <li>FBC, serum electrolytes, glucose, LFTs</li>
                                    <li>Serum troponin, D-dimer</li>
                                    <li>Coagulation profile</li>
                                    <li>12-lead ECG</li>
                                    <li>Pulse oximetry</li>
                                    <li><strong>Older adults:</strong> TSH, free T4, serum B12</li>
                                </ul>
                            </div>

                            <div class="sub-section">
                                <h3>Chronic or Recurring Hypotension</h3>
                                <p>Consider age-specific causes:</p>
                                <ul>
                                    <li><strong>Younger adults:</strong> Pregnancy, vasovagal syncope, situational syncope</li>
                                    <li><strong>Any age:</strong> Diabetes mellitus, Addison's disease, chronic liver disease, amyloidosis</li>
                                    <li><strong>Older adults:</strong> Parkinson's disease, carotid sinus syndrome, vitamin B12 deficiency</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Diagnosis Section -->
            <section id="diagnosis" class="section">
                <div class="card diagnosis-card" data-section="diagnosis">
                    <div class="card-header" onclick="toggleCard(this)">
                        <div class="card-title">
                            <span class="icon">üîç</span>
                            <h2>Diagnosis</h2>
                        </div>
                        <span class="expand-icon">+</span>
                    </div>
                    <div class="card-content">
                        <div class="card-body">
                            <div class="sub-section">
                                <h3>Common Differentials <span class="badge badge-caution">Frequent</span></h3>
                                <ul>
                                    <li>Non-haemorrhagic volume losses (vomiting, diarrhea, diuretics)</li>
                                    <li>Upper/lower gastrointestinal bleed</li>
                                    <li>Dialysis-induced hypotension</li>
                                    <li>Trauma</li>
                                    <li>Acute coronary syndrome</li>
                                    <li>Acute heart failure</li>
                                    <li>Dysrhythmia</li>
                                    <li>Acute pulmonary embolism</li>
                                    <li>Drug-related hypotension</li>
                                    <li>Sepsis</li>
                                    <li>Chronic liver disease</li>
                                    <li>Parkinson's disease</li>
                                    <li>Vasovagal syncope</li>
                                </ul>
                            </div>

                            <div class="sub-section">
                                <h3>Uncommon Differentials <span class="badge badge-urgent">Critical</span></h3>
                                <ul>
                                    <li>Ruptured abdominal aortic aneurysm</li>
                                    <li>Ectopic pregnancy</li>
                                    <li>Retroperitoneal bleed</li>
                                    <li>Tension pneumothorax</li>
                                    <li>Cardiac tamponade</li>
                                    <li>Anaphylaxis</li>
                                    <li>Severe acute pancreatitis</li>
                                    <li>Addisonian crisis</li>
                                    <li>Neurogenic hypotension</li>
                                    <li>Primary autonomic failure</li>
                                    <li>Amyloidosis</li>
                                </ul>
                            </div>

                            <div class="sub-section">
                                <h3>Key Diagnostic Features</h3>
                                
                                <h4>Hypovolaemia <span class="badge badge-urgent">Urgent</span></h4>
                                <ul>
                                    <li><strong>History:</strong> Vomiting, diarrhea, diuretics, blood loss</li>
                                    <li><strong>Exam:</strong> Dry mucous membranes, decreased skin turgor, tachycardia</li>
                                    <li><strong>Tests:</strong> Elevated urea/creatinine, haematocrit; urine Na+ &lt;20mmol/L</li>
                                </ul>

                                <h4>Septic Shock <span class="badge badge-urgent">Emergency</span></h4>
                                <ul>
                                    <li><strong>Presentation:</strong> Fever/hypothermia, tachycardia, tachypnea, altered mental state</li>
                                    <li><strong>Tests:</strong> WBC abnormalities, elevated lactate &gt;2 mmol/L, positive cultures</li>
                                    <li><strong>Risk factors:</strong> Age &lt;1 or &gt;75, immunosuppression, recent surgery, IV drug use</li>
                                </ul>

                                <h4>Cardiogenic Shock <span class="badge badge-urgent">Emergency</span></h4>
                                <ul>
                                    <li><strong>Causes:</strong> Acute coronary syndrome, acute heart failure, valvular lesions, dysrhythmia</li>
                                    <li><strong>Signs:</strong> Distended JVP, crackles, new murmur, diaphoresis</li>
                                    <li><strong>Tests:</strong> Elevated troponin, ECG changes, BNP &gt;400 ng/L, echo abnormalities</li>
                                </ul>

                                <h4>Pulmonary Embolism <span class="badge badge-urgent">Emergency</span></h4>
                                <ul>
                                    <li><strong>Features:</strong> Pleuritic chest pain, dyspnea, hemoptysis, tachypnea</li>
                                    <li><strong>Risk factors:</strong> Recent immobilization, surgery, pregnancy, malignancy</li>
                                    <li><strong>Tests:</strong> CT pulmonary angiography, V/Q scan, elevated D-dimer</li>
                                </ul>
                            </div>

                            <div class="sub-section">
                                <h3>Medication-Induced Hypotension <span class="badge badge-caution">Common</span></h3>
                                <p><strong>Common culprits:</strong> Beta-blockers, alpha-blockers, diuretics, nitrates, calcium channel blockers, ACE inhibitors, L-dopa, tricyclic antidepressants, phenothiazines, opioids</p>
                                <p><strong>Diagnosis:</strong> Temporal relationship with medication changes, improvement after discontinuation</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Treatment Section -->
            <section id="treatment" class="section">
                <div class="card treatment-card" data-section="treatment">
                    <div class="card-header" onclick="toggleCard(this)">
                        <div class="card-title">
                            <span class="icon">üíä</span>
                            <h2>Treatment</h2>
                        </div>
                        <span class="expand-icon">+</span>
                    </div>
                    <div class="card-content">
                        <div class="card-body">
                            <div class="sub-section">
                                <h3>Immediate Resuscitation <span class="badge badge-urgent">Airway-Breathing-Circulation</span></h3>
                                <ul class="checklist">
                                    <li><strong>Airway:</strong> Assess and secure airway, consider intubation if needed</li>
                                    <li><strong>Breathing:</strong> Supplemental oxygen 15 L/min via reservoir mask initially</li>
                                    <li><strong>Circulation:</strong> Large-bore IV access, monitor BP/HR/urine output</li>
                                    <li><strong>Target SpO2:</strong> 94-98% (88-92% if hypercapnia risk)</li>
                                </ul>
                            </div>

                            <div class="sub-section">
                                <h3>Hypovolaemic Shock Treatment</h3>
                                
                                <h4>Haemorrhagic <span class="badge badge-urgent">Massive Transfusion</span></h4>
                                <ul class="checklist">
                                    <li>Immediate blood transfusion (2-4 units for large haemorrhage)</li>
                                    <li>Crystalloid resuscitation (0.9% saline)</li>
                                    <li>Fresh frozen plasma/coagulation factors if coagulopathy</li>
                                    <li>Antifibrinolytics (tranexamic acid) ASAP - survival benefit decreases 10% per 15 min</li>
                                    <li>Reverse anticoagulation per local guidelines</li>
                                    <li>Urgent surgical/radiological intervention to control bleeding</li>
                                    <li>Target SBP &lt;90 mmHg for penetrating trauma (controlled hypotension)</li>
                                </ul>

                                <h4>Non-haemorrhagic <span class="badge badge-caution">Aggressive Rehydration</span></h4>
                                <ul class="checklist">
                                    <li>Isotonic saline 1L rapidly, then 4-6L over 24 hours</li>
                                    <li>Monitor CVP (target 8-12 cm H‚ÇÇO)</li>
                                    <li>Electrolyte monitoring and correction</li>
                                    <li>Specific treatment of underlying cause (diarrhea, vomiting, etc.)</li>
                                </ul>
                            </div>

                            <div class="sub-section">
                                <h3>Septic Shock Treatment <span class="badge badge-urgent">1-Hour Bundle</span></h3>
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>Intervention</th>
                                            <th>Target/Timing</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Measure lactate level</td>
                                            <td>Within 1 hour</td>
                                        </tr>
                                        <tr>
                                            <td>Blood cultures</td>
                                            <td>Before antibiotics</td>
                                        </tr>
                                        <tr>
                                            <td>Broad-spectrum antibiotics</td>
                                            <td>Within 1 hour (high-risk)</td>
                                        </tr>
                                        <tr>
                                            <td>Crystalloid fluids</td>
                                            <td>30 mL/kg for hypotension/lactate ‚â•4 mmol/L</td>
                                        </tr>
                                        <tr>
                                            <td>Vasopressors</td>
                                            <td>Start if hypotensive after fluids (MAP ‚â•65 mmHg)</td>
                                        </tr>
                                    </tbody>
                                </table>
                                <p><strong>Noradrenaline (norepinephrine)</strong> is first-line vasopressor</p>
                            </div>

                            <div class="sub-section">
                                <h3>Cardiogenic Shock Treatment</h3>
                                <ul class="checklist">
                                    <li><strong>Acute Coronary Syndrome:</strong> Primary PCI within 120 min, or fibrinolysis if delayed</li>
                                    <li><strong>Analgesia and antiplatelets</strong> (avoid nitrates if hypotensive)</li>
                                    <li><strong>ACS with hypotension:</strong> Stop antihypertensives, consider fluid bolus</li>
                                    <li><strong>Acute Heart Failure:</strong> ICU transfer, consider inotropes, vasodilators, diuretics</li>
                                    <li><strong>Dysrhythmia:</strong> Immediate cardioversion if unstable, antiarrhythmics, pacing</li>
                                </ul>
                            </div>

                            <div class="sub-section">
                                <h3>Obstructive Shock Treatment</h3>
                                
                                <h4>Pulmonary Embolism <span class="badge badge-urgent">Massive PE</span></h4>
                                <ul class="checklist">
                                    <li>High-dependency unit admission</li>
                                    <li>Oxygen if hypoxaemic</li>
                                    <li>IV fluids (avoid aggressive fluids - worsens RV strain)</li>
                                    <li>Vasopressors</li>
                                    <li>Anticoagulation</li>
                                    <li>Consider thrombolysis or surgical embolectomy</li>
                                </ul>

                                <h4>Tension Pneumothorax <span class="badge badge-urgent">Immediate Decompression</span></h4>
                                <ul class="checklist">
                                    <li>Needle thoracostomy <strong>without</strong> waiting for CXR</li>
                                    <li>Second intercostal space, midclavicular line OR</li>
                                    <li>Fourth/fifth intercostal space, anterior-mid axillary line</li>
                                    <li>Subsequent chest drain insertion</li>
                                </ul>

                                <h4>Cardiac Tamponade <span class="badge badge-urgent">Emergency Drainage</span></h4>
                                <ul class="checklist">
                                    <li>Urgent pericardiocentesis (echo/fluoroscopy guided if possible)</li>
                                    <li>Surgical drainage for haemopericardium, pus, or tumour</li>
                                    <li>Fluid/blood replacement if hypovolaemic</li>
                                </ul>
                            </div>

                            <div class="sub-section">
                                <h3>Anaphylactic Shock <span class="badge badge-urgent">Adrenaline First</span></h3>
                                <ul class="checklist">
                                    <li><strong>IM Adrenaline (epinephrine)</strong> immediately (can repeat)</li>
                                    <li>Airway control, high-flow oxygen</li>
                                    <li>IV fluids</li>
                                    <li>Antihistamines and steroids (limited evidence)</li>
                                    <li>Remove offending agent</li>
                                </ul>
                            </div>

                            <div class="sub-section">
                                <h3>Other Specific Treatments</h3>
                                
                                <h4>Addisonian Crisis <span class="badge badge-urgent">Steroids + Fluids</span></h4>
                                <ul>
                                    <li>IV saline 1L rapidly, then 4-6L over 24 hours</li>
                                    <li>IV hydrocortisone immediately (don't wait for lab confirmation)</li>
                                    <li>IV glucose if hypoglycaemic</li>
                                </ul>

                                <h4>Neurogenic Hypotension <span class="badge badge-caution">Supportive</span></h4>
                                <ul>
                                    <li>Spine immobilization if trauma suspected</li>
                                    <li>Central line placement, volume resuscitation</li>
                                    <li>Vasopressors</li>
                                    <li>Consider epidural blood patch for CSF leak</li>
                                </ul>

                                <h4>Drug-Induced <span class="badge badge-stable">Reversible</span></h4>
                                <ul>
                                    <li>Stop or reduce offending medication</li>
                                    <li>Gradual re-introduction if essential</li>
                                    <li>Consider alternative medications</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Follow-up Section -->
            <section id="followup" class="section">
                <div class="card followup-card" data-section="followup">
                    <div class="card-header" onclick="toggleCard(this)">
                        <div class="card-title">
                            <span class="icon">üìÖ</span>
                            <h2>Follow-up & Monitoring</h2>
                        </div>
                        <span class="expand-icon">+</span>
                    </div>
                    <div class="card-content">
                        <div class="card-body">
                            <div class="sub-section">
                                <h3>Monitoring Parameters <span class="badge badge-info">Essential</span></h3>
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>Parameter</th>
                                            <th>Frequency</th>
                                            <th>Target/Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Blood Pressure</td>
                                            <td>Continuous/15 min intervals</td>
                                            <td>MAP ‚â•65 mmHg, SBP ‚â•90 mmHg</td>
                                        </tr>
                                        <tr>
                                            <td>Heart Rate</td>
                                            <td>Continuous</td>
                                            <td>60-100 bpm (varies by condition)</td>
                                        </tr>
                                        <tr>
                                            <td>Urinary Output</td>
                                            <td>Hourly</td>
                                            <td>>0.5 mL/kg/hr</td>
                                        </tr>
                                        <tr>
                                            <td>SpO‚ÇÇ</td>
                                            <td>Continuous</td>
                                            <td>94-98% (88-92% if hypercapnic)</td>
                                        </tr>
                                        <tr>
                                            <td>Lactate</td>
                                            <td>2-4 hours</td>
                                            <td>Target <2 mmol/L</td>
                                        </tr>
                                        <tr>
                                            <td>CVP</td>
                                            <td>Continuous if line</td>
                                            <td>8-12 cm H‚ÇÇO</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <div class="sub-section">
                                <h3>Disposition & Referral</h3>
                                
                                <h4>Admit to ICU/HDU <span class="badge badge-urgent">Critical</span></h4>
                                <ul>
                                    <li>Persistent hypotension despite treatment</li>
                                    <li>Need for vasopressors</li>
                                    <li>Mechanical ventilation required</li>
                                    <li>Multi-organ dysfunction</li>
                                    <li>Ongoing hemorrhage</li>
                                    <li>Cardiogenic shock requiring inotropes</li>
                                </ul>

                                <h4>Ward Admission <span class="badge badge-caution">Moderate Risk</span></h4>
                                <ul>
                                    <li>Stabilized but requiring monitoring</li>
                                    <li>Sepsis responding to treatment</li>
                                    <li>Dehydration requiring IV fluids</li>
                                    <li>Drug-induced hypotension under investigation</li>
                                </ul>

                                <h4>Discharge/Outpatient <span class="badge badge-stable">Low Risk</span></h4>
                                <ul>
                                    <li>Vasovagal syncope with clear trigger</li>
                                    <li>Medication-induced (resolved)</li>
                                    <li>Stable chronic hypotension (e.g., Parkinson's)</li>
                                    <li>Appropriate follow-up arranged</li>
                                </ul>
                            </div>

                            <div class="sub-section">
                                <h3>Long-term Management</h3>
                                
                                <h4>Chronic Orthostatic Hypotension <span class="badge badge-stable">Chronic Care</span></h4>
                                <ul class="checklist">
                                    <li>Education on rising slowly from lying/sitting</li>
                                    <li>Compression stockings/abdominal binder</li>
                                    <li>Increased salt intake (if not contraindicated)</li>
                                    <li>Small, frequent meals</li>
                                    <li>Avoid hot environments and alcohol</li>
                                    <li>Review and adjust medications</li>
                                    <li>Consider midodrine or fludrocortisone</li>
                                </ul>

                                <h4>Endocrine Causes <span class="badge badge-caution">Hormone Replacement</span></h4>
                                <ul>
                                    <li>Addison's disease: Lifelong hydrocortisone + fludrocortisone</li>
                                    <li>Hypothyroidism: Levothyroxine</li>
                                    <li>Diabetes: Optimize glycaemic control</li>
                                </ul>

                                <h4>Neurological Causes <span class="badge badge-stable">Symptomatic</span></h4>
                                <ul>
                                    <li>Parkinson's disease: Adjust dopaminergic medications</li>
                                    <li>Autonomic failure: Physical counter-maneuvers, medications</li>
                                </ul>
                            </div>

                            <div class="sub-section">
                                <h3>Patient Education <span class="badge badge-info">Essential</span></h3>
                                <ul class="checklist">
                                    <li>Recognize warning signs (dizziness, syncope)</li>
                                    <li>Hydration importance (2-3L/day unless contraindicated)</li>
                                    <li>Fall prevention strategies</li>
                                    <li>When to seek urgent medical attention</li>
                                    <li>Medication adherence and timing</li>
                                    <li>Keep BP diary (lying/standing values)</li>
                                </ul>
                            </div>

                            <div class="sub-section">
                                <h3>Follow-up Timeline</h3>
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>Condition</th>
                                            <th>Follow-up</th>
                                            <th>Investigations</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Sepsis (resolved)</td>
                                            <td>1-2 weeks</td>
                                            <td>FBC, CRP</td>
                                        </tr>
                                        <tr>
                                            <td>Cardiogenic shock</td>
                                            <td>1 week, then cardio clinic</td>
                                            <td>Echo, troponin, ECG</td>
                                        </tr>
                                        <tr>
                                            <td>Chronic hypotension</td>
                                            <td>4-6 weeks</td>
                                            <td>BP monitoring, electrolytes</td>
                                        </tr>
                                        <tr>
                                            <td>Addison's disease</td>
                                            <td>3 months</td>
                                            <td>Serum cortisol, electrolytes</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Floating Alert Counter -->
    <div class="floating-alert" onclick="scrollToSection('treatment')" style="display: none;">
        <span class="alert-count">0</span>
        <span class="alert-text">Urgent Actions Identified</span>
    </div>

    <script>
        // State management
        const state = {
            expandedCards: new Set(),
            urgentActions: 0,
            searchTerm: '',
            currentSection: 'assessment'
        };

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            initializeEventListeners();
            loadState();
            updateProgress();
            updateFloatingAlert();
        });

        // Event listeners
        function initializeEventListeners() {
            // Search functionality
            const searchBox = document.getElementById('searchBox');
            searchBox.addEventListener('input', handleSearch);

            // Control buttons
            document.getElementById('printBtn').addEventListener('click', () => {
                window.print();
            });

            document.getElementById('expandAllBtn').addEventListener('click', expandAllCards);
            document.getElementById('collapseAllBtn').addEventListener('click', collapseAllCards);

            // Navigation
            document.querySelectorAll('.nav-item').forEach(item => {
                item.addEventListener('click', (e) => {
                    e.preventDefault();
                    const targetId = item.getAttribute('href').substring(1);
                    scrollToSection(targetId);
                });
            });

            // Scroll tracking
            window.addEventListener('scroll', trackScrollPosition);

            // Card state persistence
            document.querySelectorAll('.card').forEach(card => {
                const section = card.dataset.section;
                if (localStorage.getItem(`card-${section}`) === 'expanded') {
                    expandCard(card);
                }
            });
        }

        // Card functions
        function toggleCard(header) {
            const card = header.closest('.card');
            const section = card.dataset.section;
            
            if (card.classList.contains('expanded')) {
                collapseCard(card);
                localStorage.setItem(`card-${section}`, 'collapsed');
            } else {
                expandCard(card);
                localStorage.setItem(`card-${section}`, 'expanded');
            }
            
            updateProgress();
        }

        function expandCard(card) {
            card.classList.add('expanded');
            state.expandedCards.add(card.dataset.section);
        }

        function collapseCard(card) {
            card.classList.remove('expanded');
            state.expandedCards.delete(card.dataset.section);
        }

        function expandAllCards() {
            document.querySelectorAll('.card').forEach(card => {
                expandCard(card);
                localStorage.setItem(`card-${card.dataset.section}`, 'expanded');
            });
            updateProgress();
        }

        function collapseAllCards() {
            document.querySelectorAll('.card').forEach(card => {
                collapseCard(card);
                localStorage.setItem(`card-${card.dataset.section}`, 'collapsed');
            });
            updateProgress();
        }

        // Search functionality
        function handleSearch(e) {
            state.searchTerm = e.target.value.toLowerCase();
            
            if (state.searchTerm === '') {
                clearHighlights();
                return;
            }

            highlightSearchTerms();
            updateProgress();
        }

        function highlightSearchTerms() {
            clearHighlights();
            
            const content = document.querySelectorAll('.card-body');
            const regex = new RegExp(`(${state.searchTerm})`, 'gi');
            
            content.forEach(section => {
                const walker = document.createTreeWalker(
                    section,
                    NodeFilter.SHOW_TEXT,
                    null,
                    false
                );
                
                const textNodes = [];
                let node;
                
                while (node = walker.nextNode()) {
                    if (node.textContent.toLowerCase().includes(state.searchTerm)) {
                        textNodes.push(node);
                    }
                }
                
                textNodes.forEach(node => {
                    const span = document.createElement('span');
                    span.innerHTML = node.textContent.replace(regex, '<span class="highlight">$1</span>');
                    node.parentNode.replaceChild(span, node);
                });
            });
        }

        function clearHighlights() {
            document.querySelectorAll('.highlight').forEach(highlight => {
                const parent = highlight.parentNode;
                parent.replaceChild(document.createTextNode(highlight.textContent), highlight);
                parent.normalize();
            });
        }

        // Progress tracking
        function trackScrollPosition() {
            const sections = ['assessment', 'diagnosis', 'treatment', 'followup'];
            const scrollPosition = window.scrollY + 150;
            
            sections.forEach(sectionId => {
                const section = document.getElementById(sectionId);
                if (section) {
                    const top = section.offsetTop;
                    const bottom = top + section.offsetHeight;
                    
                    if (scrollPosition >= top && scrollPosition < bottom) {
                        setActiveSection(sectionId);
                    }
                }
            });
        }

        function setActiveSection(sectionId) {
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
                if (item.dataset.section === sectionId) {
                    item.classList.add('active');
                }
            });
            state.currentSection = sectionId;
        }

        function scrollToSection(sectionId) {
            const section = document.getElementById(sectionId);
            if (section) {
                section.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        }

        function updateProgress() {
            const sections = ['assessment', 'diagnosis', 'treatment', 'followup'];
            let totalAlerts = 0;
            
            sections.forEach(sectionId => {
                const card = document.querySelector(`[data-section="${sectionId}"]`);
                const navItem = document.querySelector(`.nav-item[data-section="${sectionId}"]`);
                const badge = navItem.querySelector('.badge');
                
                if (card.classList.contains('expanded')) {
                    // Count urgent actions in expanded sections
                    const urgentBadges = card.querySelectorAll('.badge-urgent');
                    badge.textContent = urgentBadges.length;
                    badge.style.display = urgentBadges.length > 0 ? 'inline-block' : 'none';
                    totalAlerts += urgentBadges.length;
                } else {
                    badge.style.display = 'none';
                }
            });
            
            state.urgentActions = totalAlerts;
            updateFloatingAlert();
        }

        function updateFloatingAlert() {
            const alert = document.querySelector('.floating-alert');
            const count = alert.querySelector('.alert-count');
            
            if (state.urgentActions > 0) {
                alert.style.display = 'flex';
                count.textContent = state.urgentActions;
            } else {
                alert.style.display = 'none';
            }
        }

        // State persistence
        function saveState() {
            localStorage.setItem('hypotension-state', JSON.stringify({
                expandedCards: Array.from(state.expandedCards)
            }));
        }

        function loadState() {
            const saved = localStorage.getItem('hypotension-state');
            if (saved) {
                const loaded = JSON.parse(saved);
                state.expandedCards = new Set(loaded.expandedCards);
            }
        }

        // Save state on unload
        window.addEventListener('beforeunload', saveState);
    </script>
</body>
</html>