<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LEMS Interactive Algorithm</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', 'Roboto', 'Helvetica Neue', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #e4e7f1 100%);
            color: #2c3e50;
            line-height: 1.6;
        }

        .container {
            display: flex;
            min-height: 100vh;
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            gap: 20px;
        }

        /* Sidebar */
        .sidebar {
            width: 250px;
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 25px;
            position: sticky;
            top: 20px;
            height: fit-content;
            box-shadow: 0 8px 32px rgba(31, 38, 135, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.5);
        }

        .sidebar h3 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.2rem;
            text-align: center;
            font-weight: 600;
        }

        .progress-item {
            display: flex;
            align-items: center;
            padding: 12px 15px;
            margin: 8px 0;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: rgba(236, 240, 241, 0.6);
        }

        .progress-item:hover {
            background: rgba(236, 240, 241, 0.9);
            transform: translateX(5px);
        }

        .progress-item.active {
            background: linear-gradient(135deg, #3498db 0%, #2c3e50 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
        }

        .progress-icon {
            width: 24px;
            height: 24px;
            margin-right: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            padding: 0;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 30px;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(31, 38, 135, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.5);
        }

        .header h1 {
            color: #2c3e50;
            font-size: 2.8rem;
            margin-bottom: 10px;
            font-weight: 700;
            letter-spacing: -0.5px;
        }

        .header p {
            color: #7f8c8d;
            font-size: 1.2rem;
            max-width: 700px;
            margin: 0 auto;
        }

        /* Cards */
        .card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(31, 38, 135, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.5);
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .card:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 40px rgba(31, 38, 135, 0.2);
        }

        .card-header {
            padding: 25px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .card-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(255,255,255,0.2) 0%, transparent 100%);
            z-index: 1;
        }

        .card-header-content {
            display: flex;
            align-items: center;
            flex: 1;
            position: relative;
            z-index: 2;
        }

        .card-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 20px;
            font-size: 1.8rem;
            color: white;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        .card-title {
            flex: 1;
        }

        .card-title h2 {
            font-size: 1.6rem;
            margin-bottom: 5px;
            font-weight: 600;
            color: #2c3e50;
        }

        .card-title p {
            color: #7f8c8d;
            font-size: 0.95rem;
        }

        .expand-icon {
            font-size: 1.3rem;
            transition: transform 0.3s ease;
            color: #7f8c8d;
            position: relative;
            z-index: 2;
        }

        .card.expanded .expand-icon {
            transform: rotate(180deg);
            color: #3498db;
        }

        .card-content {
            padding: 0 25px;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s cubic-bezier(0.215, 0.61, 0.355, 1), padding 0.5s ease;
        }

        .card.expanded .card-content {
            padding: 25px;
            max-height: 2000px;
        }

        /* Card Colors */
        .assessment-card .card-header {
            background: linear-gradient(135deg, #3498db 0%, #2c3e50 100%);
            color: white;
        }

        .assessment-card .card-icon {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(5px);
        }

        .diagnosis-card .card-header {
            background: linear-gradient(135deg, #1abc9c 0%, #16a085 100%);
            color: white;
        }

        .diagnosis-card .card-icon {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(5px);
        }

        .treatment-card .card-header {
            background: linear-gradient(135deg, #e67e22 0%, #d35400 100%);
            color: white;
        }

        .treatment-card .card-icon {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(5px);
        }

        .followup-card .card-header {
            background: linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%);
            color: white;
        }

        .followup-card .card-icon {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(5px);
        }

        /* Badges */
        .badge {
            display: inline-block;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            margin: 8px 8px 8px 0;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            transition: all 0.3s ease;
        }

        .badge:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 10px rgba(0,0,0,0.1);
        }

        .badge-urgent {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            color: white;
        }

        .badge-caution {
            background: linear-gradient(135deg, #f39c12 0%, #d35400 100%);
            color: white;
        }

        .badge-stable {
            background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);
            color: white;
        }

        /* Content Styles */
        .content-section {
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(236, 240, 241, 0.8);
        }

        .content-section:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .content-section h3 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            font-weight: 600;
        }

        .content-section h3::before {
            content: '‚ñ∏';
            margin-right: 10px;
            color: #3498db;
            font-size: 1.2rem;
        }

        .step-list {
            list-style: none;
            padding-left: 0;
        }

        .step-list li {
            padding: 15px;
            margin: 12px 0;
            background: rgba(236, 240, 241, 0.5);
            border-radius: 12px;
            border-left: 4px solid #3498db;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0,0,0,0.03);
        }

        .step-list li:hover {
            background: rgba(236, 240, 241, 0.8);
            transform: translateX(5px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.08);
        }

        .step-list li strong {
            color: #2c3e50;
            font-weight: 600;
        }

        .drug-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .drug-item {
            background: rgba(236, 240, 241, 0.5);
            padding: 20px;
            border-radius: 12px;
            border-left: 4px solid #1abc9c;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0,0,0,0.03);
        }

        .drug-item:hover {
            background: rgba(236, 240, 241, 0.8);
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(0,0,0,0.08);
        }

        .drug-item strong {
            color: #2c3e50;
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .drug-item small {
            color: #7f8c8d;
            display: block;
            margin-top: 8px;
        }

        .warning-box {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 1px solid rgba(255, 193, 7, 0.3);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            display: flex;
            align-items: flex-start;
            box-shadow: 0 4px 15px rgba(255, 193, 7, 0.1);
        }

        .warning-box::before {
            content: '‚ö†';
            font-size: 1.8rem;
            margin-right: 15px;
            color: #f39c12;
            flex-shrink: 0;
        }

        .info-box {
            background: linear-gradient(135deg, #d1ecf1 0%, #a8e6cf 100%);
            border: 1px solid rgba(23, 162, 184, 0.3);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            display: flex;
            align-items: flex-start;
            box-shadow: 0 4px 15px rgba(23, 162, 184, 0.1);
        }

        .info-box::before {
            content: '‚Ñπ';
            font-size: 1.8rem;
            margin-right: 15px;
            color: #17a2b8;
            flex-shrink: 0;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
                padding: 15px;
            }
            
            .sidebar {
                width: 100%;
                position: static;
                order: 2;
            }
            
            .main-content {
                order: 1;
            }
            
            .header h1 {
                font-size: 2.2rem;
            }
            
            .card-header {
                padding: 20px;
            }
            
            .card-title h2 {
                font-size: 1.4rem;
            }
            
            .drug-list {
                grid-template-columns: 1fr;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .card {
            animation: fadeIn 0.6s ease forwards;
        }

        .card:nth-child(1) { animation-delay: 0.1s; }
        .card:nth-child(2) { animation-delay: 0.2s; }
        .card:nth-child(3) { animation-delay: 0.3s; }
        .card:nth-child(4) { animation-delay: 0.4s; }

        /* Smooth scroll */
        html {
            scroll-behavior: smooth;
        }

        /* Scrollbar styling */
        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(236, 240, 241, 0.5);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #3498db 0%, #2c3e50 100%);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, #2980b9 0%, #1a2530 100%);
        }
    </style>
</head>
<body>
    <div class="container">
        <aside class="sidebar">
            <h3>Algorithm Progress</h3>
            <div class="progress-item active" data-step="assessment">
                <div class="progress-icon">üìã</div>
                <span>Assessment</span>
            </div>
            <div class="progress-item" data-step="diagnosis">
                <div class="progress-icon">üîç</div>
                <span>Diagnosis</span>
            </div>
            <div class="progress-item" data-step="treatment">
                <div class="progress-icon">üíä</div>
                <span>Treatment</span>
            </div>
            <div class="progress-item" data-step="followup">
                <div class="progress-icon">üìà</div>
                <span>Follow-up</span>
            </div>
        </aside>

        <main class="main-content">
            <div class="header">
                <h1>Lambert-Eaton Myasthenic Syndrome</h1>
                <p>Interactive Clinical Decision Algorithm</p>
            </div>

            <!-- Assessment Card -->
            <div class="card assessment-card" id="assessment">
                <div class="card-header" onclick="toggleCard(this)">
                    <div class="card-header-content">
                        <div class="card-icon">üìã</div>
                        <div class="card-title">
                            <h2>Initial Assessment</h2>
                            <p>Clinical evaluation and risk stratification</p>
                        </div>
                    </div>
                    <div class="expand-icon">‚ñº</div>
                </div>
                <div class="card-content">
                    <div class="content-section">
                        <h3>Key Clinical Features</h3>
                        <ul class="step-list">
                            <li><strong>Proximal muscle weakness</strong> - typically starts in lower limbs</li>
                            <li><strong>Autonomic dysfunction</strong> - dry mouth (78%), impotence (65%)</li>
                            <li><strong>Hyporeflexia</strong> - reflexes may improve briefly after exercise</li>
                            <li><strong>Gradual onset</strong> - symptoms develop over months</li>
                        </ul>
                    </div>

                    <div class="content-section">
                        <h3>Risk Factors</h3>
                        <span class="badge badge-urgent">Smoking history</span>
                        <span class="badge badge-caution">Autoimmune disease</span>
                        <span class="badge badge-urgent">Age >50 years</span>
                        <span class="badge badge-caution">Family history of autoimmune disease</span>
                    </div>

                    <div class="warning-box">
                        <strong>Red Flags:</strong> Rapid progression, weight loss, or respiratory symptoms may indicate underlying malignancy
                    </div>

                    <div class="content-section">
                        <h3>Initial Investigations</h3>
                        <ul class="step-list">
                            <li><strong>Electrophysiology:</strong> Low CMAP amplitude with >100% facilitation post-exercise</li>
                            <li><strong>Repetitive nerve stimulation:</strong> >10% decrement at low frequency (2-3Hz)</li>
                            <li><strong>VGCC antibodies:</strong> Present in 76-95% of patients</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Diagnosis Card -->
            <div class="card diagnosis-card" id="diagnosis">
                <div class="card-header" onclick="toggleCard(this)">
                    <div class="card-header-content">
                        <div class="card-icon">üîç</div>
                        <div class="card-title">
                            <h2>Diagnostic Workup</h2>
                            <p>Confirm diagnosis and screen for malignancy</p>
                        </div>
                    </div>
                    <div class="expand-icon">‚ñº</div>
                </div>
                <div class="card-content">
                    <div class="content-section">
                        <h3>Diagnostic Criteria</h3>
                        <ul class="step-list">
                            <li><strong>Electrophysiological evidence:</strong> Presynaptic neuromuscular junction dysfunction</li>
                            <li><strong>Positive VGCC antibodies:</strong> P/Q-type voltage-gated calcium channel antibodies</li>
                            <li><strong>Clinical presentation:</strong> Compatible symptoms and signs</li>
                        </ul>
                    </div>

                    <div class="content-section">
                        <h3>Malignancy Screening</h3>
                        <div class="warning-box">
                            <strong>Critical:</strong> 50% of LEMS patients have underlying cancer, usually small cell lung cancer (SCLC)
                        </div>
                        <ul class="step-list">
                            <li><strong>Chest CT:</strong> All patients at diagnosis and every 6 months for 2 years</li>
                            <li><strong>SOX1 antibodies:</strong> 64% sensitive for SCLC detection</li>
                            <li><strong>Consider PET-CT:</strong> If initial CT negative but high suspicion</li>
                        </ul>
                    </div>

                    <div class="content-section">
                        <h3>Differential Diagnosis</h3>
                        <span class="badge badge-caution">Myasthenia gravis</span>
                        <span class="badge badge-caution">Botulism</span>
                        <span class="badge badge-stable">Inflammatory myopathy</span>
                        <span class="badge badge-caution">CIDP</span>
                    </div>
                </div>
            </div>

            <!-- Treatment Card -->
            <div class="card treatment-card" id="treatment">
                <div class="card-header" onclick="toggleCard(this)">
                    <div class="card-header-content">
                        <div class="card-icon">üíä</div>
                        <div class="card-title">
                            <h2>Treatment Approach</h2>
                            <p>Symptomatic and immunomodulatory therapy</p>
                        </div>
                    </div>
                    <div class="expand-icon">‚ñº</div>
                </div>
                <div class="card-content">
                    <div class="content-section">
                        <h3>First-line Symptomatic Treatment</h3>
                        <div class="drug-list">
                            <div class="drug-item">
                                <strong>Amifampridine (3,4-DAP)</strong><br>
                                FDA-approved for LEMS<br>
                                <small>Start 15-30mg/day, max 80mg/day</small>
                            </div>
                            <div class="drug-item">
                                <strong>Pyridostigmine</strong><br>
                                May add to amifampridine<br>
                                <small>60-120mg every 3-4 hours</small>
                            </div>
                        </div>
                        <div class="warning-box">
                            <strong>Contraindication:</strong> Seizure history (amifampridine)
                        </div>
                    </div>

                    <div class="content-section">
                        <h3>Immunomodulatory Therapy</h3>
                        <ul class="step-list">
                            <li><strong>Prednisolone:</strong> 40-60mg daily, taper based on response</li>
                            <li><strong>Azathioprine:</strong> 2-3mg/kg/day, monitor for toxicity</li>
                            <li><strong>IVIG/Plasma exchange:</strong> For severe weakness or acute exacerbations</li>
                        </ul>
                    </div>

                    <div class="content-section">
                        <h3>Cancer Treatment</h3>
                        <div class="info-box">
                            <strong>Priority:</strong> Treat underlying malignancy - often improves LEMS symptoms significantly
                        </div>
                    </div>

                    <div class="content-section">
                        <h3>Medications to Avoid</h3>
                        <span class="badge badge-urgent">Aminoglycosides</span>
                        <span class="badge badge-urgent">Fluoroquinolones</span>
                        <span class="badge badge-caution">Beta-blockers</span>
                        <span class="badge badge-caution">Calcium channel blockers</span>
                    </div>
                </div>
            </div>

            <!-- Follow-up Card -->
            <div class="card followup-card" id="followup">
                <div class="card-header" onclick="toggleCard(this)">
                    <div class="card-header-content">
                        <div class="card-icon">üìà</div>
                        <div class="card-title">
                            <h2>Monitoring & Follow-up</h2>
                            <p>Long-term management and surveillance</p>
                        </div>
                    </div>
                    <div class="expand-icon">‚ñº</div>
                </div>
                <div class="card-content">
                    <div class="content-section">
                        <h3>Regular Monitoring</h3>
                        <ul class="step-list">
                            <li><strong>Clinical assessment:</strong> Every 3-6 months or as needed</li>
                            <li><strong>Quantitative Myasthenia Gravis score:</strong> Objective measure of improvement</li>
                            <li><strong>Triple Timed Up-and-Go test:</strong> Functional mobility assessment</li>
                        </ul>
                    </div>

                    <div class="content-section">
                        <h3>Cancer Surveillance</h3>
                        <div class="warning-box">
                            <strong>Essential:</strong> Continue screening even if initial evaluation negative
                        </div>
                        <ul class="step-list">
                            <li><strong>Chest CT:</strong> Every 6 months for 2 years, then annually</li>
                            <li><strong>Clinical vigilance:</strong> New symptoms may indicate cancer development</li>
                        </ul>
                    </div>

                    <div class="content-section">
                        <h3>Treatment Monitoring</h3>
                        <div class="drug-list">
                            <div class="drug-item">
                                <strong>Azathioprine monitoring</strong><br>
                                FBC and LFTs every 1-2 weeks initially<br>
                                <small>Watch for cytopenias and hepatotoxicity</small>
                            </div>
                            <div class="drug-item">
                                <strong>Steroid monitoring</strong><br>
                                Bone density, glucose, BP monitoring<br>
                                <small>Osteoporosis prophylaxis as needed</small>
                            </div>
                        </div>
                    </div>

                    <div class="content-section">
                        <h3>Prognosis Indicators</h3>
                        <span class="badge badge-stable">Good response to cancer treatment</span>
                        <span class="badge badge-caution">Slow progression over months</span>
                        <span class="badge badge-urgent">Rapid deterioration</span>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        function toggleCard(header) {
            const card = header.parentElement;
            card.classList.toggle('expanded');
            
            // Update progress indicator
            const cardId = card.id;
            updateProgress(cardId);
            
            // Smooth scroll to card
            setTimeout(() => {
                card.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }, 100);
        }

        function updateProgress(activeStep) {
            const progressItems = document.querySelectorAll('.progress-item');
            progressItems.forEach(item => {
                item.classList.remove('active');
                if (item.dataset.step === activeStep) {
                    item.classList.add('active');
                }
            });
        }

        // Add click handlers to progress items
        document.querySelectorAll('.progress-item').forEach(item => {
            item.addEventListener('click', function() {
                const stepId = this.dataset.step;
                const targetCard = document.getElementById(stepId);
                
                // Expand the target card
                targetCard.classList.add('expanded');
                
                // Update progress
                updateProgress(stepId);
                
                // Scroll to card
                setTimeout(() => {
                    targetCard.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }, 100);
            });
        });

        // Auto-expand first card on load
        window.addEventListener('load', function() {
            setTimeout(() => {
                document.getElementById('assessment').classList.add('expanded');
            }, 500);
        });

        // Add intersection observer for automatic progress updates
        const observerOptions = {
            threshold: 0.5,
            rootMargin: '-100px 0px -50% 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const cardId = entry.target.id;
                    updateProgress(cardId);
                }
            });
        }, observerOptions);

        // Observe all cards
        document.querySelectorAll('.card').forEach(card => {
            observer.observe(card);
        });

        // Add keyboard navigation
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                // Collapse all cards
                document.querySelectorAll('.card.expanded').forEach(card => {
                    card.classList.remove('expanded');
                });
            }
        });

        // Add print functionality
        function printAlgorithm() {
            window.print();
        }

        // Add smooth transitions for all interactive elements
        document.querySelectorAll('.badge, .step-list li, .drug-item').forEach(element => {
            element.style.transition = 'all 0.3s ease';
        });

        // Add hover effects for badges
        document.querySelectorAll('.badge').forEach(badge => {
            badge.addEventListener('mouseenter', function() {
                this.style.transform = 'scale(1.05)';
            });
            badge.addEventListener('mouseleave', function() {
                this.style.transform = 'scale(1)';
            });
        });
    </script>
</body>
</html>