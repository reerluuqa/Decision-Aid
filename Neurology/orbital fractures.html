<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Orbital Fractures | Quick-Scan Clinical Reference</title>
    <style>
        /* CSS VARIABLES & RESET */
        :root {
            --primary-blue: #1976d2;
            --light-blue: #e3f2fd;
            --emergency-red: #d32f2f;
            --light-red: #ffebee;
            --safe-green: #2e7d32;
            --light-green: #e8f5e9;
            --text-dark: #263238;
            --text-light: #546e7a;
            --bg-body: #f4f6f8;
            --card-shadow: 0 4px 6px rgba(0,0,0,0.05), 0 1px 3px rgba(0,0,0,0.1);
            --transition-speed: 0.3s;
            --font-main: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: var(--font-main);
            background-color: var(--bg-body);
            color: var(--text-dark);
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
        }

        /* LAYOUT & GRID */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
            border-bottom: 2px solid #ddd;
            padding-bottom: 16px;
        }

        .header-title h1 {
            font-size: 1.8rem;
            color: var(--primary-blue);
        }

        .header-title span {
            font-size: 0.9rem;
            color: var(--text-light);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .disclaimer-badge {
            background-color: #fff3e0;
            color: #ef6c00;
            padding: 6px 12px;
            border-radius: 4px;
            font-size: 0.8rem;
            border: 1px solid #ffe0b2;
        }

        /* DASHBOARD GRID */
        .dashboard {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 24px;
        }

        @media (max-width: 900px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
        }

        /* CARDS */
        .card {
            background: white;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 24px;
            box-shadow: var(--card-shadow);
            border: 1px solid #eee;
            transition: transform var(--transition-speed) ease, box-shadow var(--transition-speed) ease;
        }

        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.08);
        }

        .card-header {
            display: flex;
            align-items: center;
            margin-bottom: 16px;
            border-bottom: 1px solid #f0f0f0;
            padding-bottom: 12px;
        }

        .card-title {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--text-dark);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* URGENCY INDICATORS */
        .alert-red {
            border-left: 6px solid var(--emergency-red);
            background: linear-gradient(to right, var(--light-red), white);
        }

        .alert-green {
            border-left: 6px solid var(--safe-green);
            background: linear-gradient(to right, var(--light-green), white);
        }

        .alert-blue {
            border-left: 6px solid var(--primary-blue);
            background: linear-gradient(to right, var(--light-blue), white);
        }

        /* BADGES */
        .badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
        }
        .badge-red { background-color: var(--emergency-red); color: white; }
        .badge-green { background-color: var(--safe-green); color: white; }
        .badge-blue { background-color: var(--primary-blue); color: white; }

        /* INTERACTIVE TRIAGE TOOL */
        .triage-panel {
            background: #fff;
            border: 2px solid var(--primary-blue);
            border-radius: 8px;
            padding: 20px;
        }

        .triage-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 12px;
            margin-bottom: 20px;
        }

        .control-item {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            padding: 10px;
            border-radius: 6px;
            border: 1px solid #eee;
            transition: background 0.2s;
        }
        .control-item:hover { background-color: #f5f5f5; }
        .control-item input { width: 18px; height: 18px; accent-color: var(--primary-blue); }

        .result-box {
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            font-weight: bold;
            transition: all 0.4s ease;
            opacity: 0.6;
        }

        .result-box.active {
            opacity: 1;
            transform: scale(1.02);
        }

        .urgent-result {
            background-color: var(--emergency-red);
            color: white;
            border: 2px solid #b71c1c;
            animation: pulse-red 2s infinite;
        }

        .routine-result {
            background-color: var(--safe-green);
            color: white;
            border: 2px solid #1b5e20;
        }

        /* LISTS & TABLES */
        .info-list {
            list-style: none;
        }

        .info-list li {
            position: relative;
            padding-left: 24px;
            margin-bottom: 10px;
            color: var(--text-dark);
        }

        .info-list li::before {
            content: "•";
            color: var(--primary-blue);
            font-weight: bold;
            position: absolute;
            left: 0;
            font-size: 1.2rem;
            line-height: 1.4rem;
        }

        .data-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
        }

        .data-item {
            background: #f8f9fa;
            padding: 12px;
            border-radius: 6px;
        }
        .data-label {
            font-size: 0.8rem;
            color: var(--text-light);
            text-transform: uppercase;
            font-weight: 700;
        }
        .data-value {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-dark);
        }

        /* ALGORITHM VISUALIZATION */
        .algo-step {
            position: relative;
            padding: 16px;
            margin-bottom: 12px;
            background: white;
            border: 1px solid #ddd;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        .algo-step::after {
            content: "↓";
            position: absolute;
            bottom: -20px;
            left: 50%;
            transform: translateX(-50%);
            color: #aaa;
            font-weight: bold;
        }
        .algo-step:last-child::after { display: none; }

        /* ICONS (SVG) */
        .icon { width: 24px; height: 24px; fill: currentColor; }
        .icon-sm { width: 18px; height: 18px; }

        /* FOOTER */
        footer {
            margin-top: 40px;
            text-align: center;
            font-size: 0.85rem;
            color: var(--text-light);
            border-top: 1px solid #ddd;
            padding-top: 20px;
        }

        /* ANIMATIONS */
        @keyframes pulse-red {
            0% { box-shadow: 0 0 0 0 rgba(211, 47, 47, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(211, 47, 47, 0); }
            100% { box-shadow: 0 0 0 0 rgba(211, 47, 47, 0); }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }

    </style>
</head>
<body>

<div class="container">
    <header>
        <div class="header-title">
            <span>Clinical Reference</span>
            <h1>Orbital Fractures</h1>
        </div>
        <div class="disclaimer-badge">
            Updated: Apr 01, 2025
        </div>
    </header>

    <!-- MAIN DASHBOARD -->
    <div class="dashboard">
        
        <!-- LEFT COLUMN: DIAGNOSIS & CRITICAL INFO -->
        <div class="main-column">
            
            <!-- TRIAGE TOOL -->
            <section class="card alert-blue fade-in" style="animation-delay: 0.1s;">
                <div class="card-header">
                    <div class="card-title">
                        <svg class="icon" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/></svg>
                        Quick Triage Assessment
                    </div>
                </div>
                <p style="margin-bottom: 15px; color: var(--text-light);">Select present symptoms to determine urgency.</p>
                
                <div class="triage-panel">
                    <div class="triage-controls">
                        <label class="control-item">
                            <input type="checkbox" id="chk-paediatric">
                            <span>Paediatric Patient</span>
                        </label>
                        <label class="control-item">
                            <input type="checkbox" id="chk-brady">
                            <span>Bradycardia / Hypotension</span>
                        </label>
                        <label class="control-item">
                            <input type="checkbox" id="chk-nausea">
                            <span>Nausea / Vomiting</span>
                        </label>
                        <label class="control-item">
                            <input type="checkbox" id="chk-upgaze">
                            <span>Upgaze Limitation</span>
                        </label>
                        <label class="control-item">
                            <input type="checkbox" id="chk-vision">
                            <span>Vision Loss</span>
                        </label>
                    </div>

                    <div id="result-urgent" class="result-box urgent-result" style="display:none;">
                        <div style="font-size: 1.5rem; margin-bottom: 5px;">⚠️ URGENT SURGERY INDICATED</div>
                        <div style="font-size: 0.9rem; font-weight: normal;">Signs of soft tissue entrapment or oculovagal response.</div>
                    </div>

                    <div id="result-routine" class="result-box routine-result" style="display:none;">
                        <div style="font-size: 1.5rem; margin-bottom: 5px;">STANDARD MANAGEMENT</div>
                        <div style="font-size: 0.9rem; font-weight: normal;">No acute entrapment signs. Delayed surgery or conservative care.</div>
                    </div>

                    <div id="result-neutral" class="result-box" style="border: 1px dashed #ccc;">
                        Select symptoms to generate recommendation.
                    </div>
                </div>
            </section>

            <!-- RED FLAGS -->
            <section class="card alert-red fade-in" style="animation-delay: 0.2s;">
                <div class="card-header">
                    <div class="card-title">
                        <svg class="icon" viewBox="0 0 24 24" style="color:var(--emergency-red)"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/></svg>
                        Red Flags & Emergencies
                    </div>
                    <span class="badge badge-red">High Priority</span>
                </div>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px;">
                    <div>
                        <h4 style="margin-bottom: 8px;">Oculovagal Response</h4>
                        <ul class="info-list" style="font-size: 0.9rem;">
                            <li>Bradycardia</li>
                            <li>Hypotension</li>
                            <li>Nausea/Vomiting</li>
                            <li>Common in children</li>
                        </ul>
                    </div>
                    <div>
                        <h4 style="margin-bottom: 8px;">Trapdoor Fracture (Peds)</h4>
                        <ul class="info-list" style="font-size: 0.9rem;">
                            <li>Severe upgaze limitation</li>
                            <li>Often NO subconjunctival hemorrhage</li>
                            <li>Irreversible ischemia if not released in 24-48h</li>
                        </ul>
                    </div>
                    <div>
                        <h4 style="margin-bottom: 8px;">Vision Threats</h4>
                        <ul class="info-list" style="font-size: 0.9rem;">
                            <li>Globe perforation</li>
                            <li>Retrobulbar haemorrhage</li>
                            <li>Optic nerve damage</li>
                            <li>Loss of colour vision (Red lost first)</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- DIAGNOSTIC CRITERIA -->
            <section class="card fade-in" style="animation-delay: 0.3s;">
                <div class="card-header">
                    <div class="card-title">
                        <svg class="icon" viewBox="0 0 24 24" style="color:var(--primary-blue)"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
                        Diagnosis & Imaging
                    </div>
                </div>
                
                <div class="data-grid">
                    <div class="data-item">
                        <div class="data-label">Key Sign</div>
                        <div class="data-value" style="color: var(--emergency-red);">Diplopia on Upgaze</div>
                        <div style="font-size: 0.8rem; color: #666;">Pathognomonic for blow-out</div>
                    </div>
                    <div class="data-item">
                        <div class="data-label">Classic X-ray Sign</div>
                        <div class="data-value" style="color: var(--primary-blue);">"Teardrop Sign"</div>
                        <div style="font-size: 0.8rem; color: #666;">Herniated contents in maxillary antrum</div>
                    </div>
                    <div class="data-item">
                        <div class="data-label">Globe Position</div>
                        <div class="data-value">Enophthalmos / Hypoglobus</div>
                        <div style="font-size: 0.8rem; color: #666;">Sunken eye (posterior/downward)</div>
                    </div>
                    <div class="data-item">
                        <div class="data-label">1st Line Scan</div>
                        <div class="data-value">CT Orbit</div>
                        <div style="font-size: 0.8rem; color: #666;">Coronal & Sagittal reconstruction</div>
                    </div>
                </div>

                <div style="margin-top: 16px; padding-top: 16px; border-top: 1px solid #eee;">
                    <h4 style="margin-bottom: 10px; font-size: 1rem;">Physical Examination Checklist</h4>
                    <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                        <span class="badge badge-blue">Visual Acuity</span>
                        <span class="badge badge-blue">Pupil Response</span>
                        <span class="badge badge-blue">Colour Vision</span>
                        <span class="badge badge-blue">Step Defect</span>
                        <span class="badge badge-blue">Infra-orbital Nerve Sensation</span>
                    </div>
                </div>
            </section>
        </div>

        <!-- RIGHT COLUMN: MANAGEMENT & ACTIONS -->
        <div class="side-column">
            
            <!-- MANAGEMENT ALGORITHM -->
            <section class="card alert-green fade-in" style="animation-delay: 0.4s;">
                <div class="card-header">
                    <div class="card-title">
                        <svg class="icon" viewBox="0 0 24 24" style="color:var(--safe-green)"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
                        Management Path
                    </div>
                    <span class="badge badge-green">Action</span>
                </div>
                
                <div class="algo-step" style="border-left: 4px solid var(--emergency-red);">
                    <div>
                        <strong style="display:block; font-size: 0.95rem;">Urgent Eye Morbidity</strong>
                        <span style="font-size: 0.8rem; color: #666;">Entrapment / Vagal Response</span>
                    </div>
                    <svg class="icon-sm" viewBox="0 0 24 24"><path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"/></svg>
                </div>
                <div class="algo-step" style="border-left: 4px solid var(--emergency-red); background: #fff5f5;">
                    <strong>Urgent Surgery</strong>
                </div>
                <div class="algo-step" style="border-left: 4px solid var(--primary-blue);">
                    <div>
                        <strong style="display:block; font-size: 0.95rem;">No Urgent Morbidity</strong>
                        <span style="font-size: 0.8rem; color: #666;">Adults / Stable Peds</span>
                    </div>
                </div>
                <div class="algo-step" style="border-left: 4px solid var(--safe-green); background: #f1f8e9;">
                    <strong>Conservative / Delayed Surgery</strong>
                </div>

                <div style="margin-top: 15px; font-size: 0.85rem; color: var(--text-light); font-style: italic;">
                    Adults: Surgery often delayed 1 week for edema resolution.
                </div>
            </section>

            <!-- MEDICATIONS -->
            <section class="card fade-in" style="animation-delay: 0.5s;">
                <div class="card-header">
                    <div class="card-title">Pharmacology</div>
                </div>
                <div style="display: flex; flex-direction: column; gap: 12px;">
                    
                    <div style="background: #f8f9fa; padding: 10px; border-radius: 6px;">
                        <div style="display:flex; justify-content:space-between; align-items:center;">
                            <strong style="color:var(--emergency-red);">Atropine (Adjunct)</strong>
                            <span class="badge badge-red">Severe Vagal</span>
                        </div>
                        <div style="margin-top:5px; font-size: 0.85rem;">
                            Adult: 0.5mg IV (Max 2mg)<br>
                            Child: 0.01mg/kg IV (Max 0.4mg)
                        </div>
                    </div>

                    <div style="background: #f8f9fa; padding: 10px; border-radius: 6px;">
                        <div style="display:flex; justify-content:space-between; align-items:center;">
                            <strong>Amoxicillin (Prophylaxis)</strong>
                            <span class="badge badge-blue">Selective</span>
                        </div>
                        <div style="margin-top:5px; font-size: 0.85rem;">
                            500mg PO TDS (1 week)<br>
                            <em>Indication: Open fracture, surgical emphysema, grafting.</em>
                        </div>
                    </div>

                    <div style="background: #f8f9fa; padding: 10px; border-radius: 6px;">
                        <strong>Ibuprofen</strong>
                        <div style="margin-top:5px; font-size: 0.85rem;">
                            Adult: 300-400mg PO q6-8h (Max 2.4g)<br>
                            Child: 5-10mg/kg PO q6-8h
                        </div>
                    </div>

                </div>
            </section>

            <!-- PREVENTION & FOLLOW UP -->
            <section class="card fade-in" style="animation-delay: 0.6s;">
                <div class="card-header">
                    <div class="card-title">
                        <svg class="icon" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
                        Safety & Follow-up
                    </div>
                </div>
                <ul class="info-list" style="font-size: 0.9rem;">
                    <li><strong>Avoid nose blowing:</strong> Risk of surgical emphysema for 2 weeks.</li>
                    <li><strong>Ice packs:</strong> Use wrapped packs to reduce edema.</li>
                    <li><strong>Eye Protection:</strong> Goggles in contact sports.</li>
                    <li><strong>Review:</strong> Adults in 1 week (post-edema resolution).</li>
                </ul>
            </section>

            <!-- EMERGING TECH -->
            <section class="card fade-in" style="animation-delay: 0.7s; border: 1px dashed #ccc;">
                <div class="card-header" style="border:none; padding-bottom: 0;">
                    <div class="card-title" style="font-size: 1rem;">Emerging Tech</div>
                </div>
                <div style="font-size: 0.85rem; color: #555;">
                    • 3D Stereotactic Navigation Imaging<br>
                    • CAD/CAM Customized Prosthesis
                </div>
            </section>

        </div>
    </div>

    <footer>
        <p><strong>Disclaimer:</strong> This tool is based on BMJ Best Practice (Last updated Apr 01, 2025). It is for reference only and does not replace professional clinical judgment. Always follow local protocols.</p>
    </footer>

</div>

<script>
    // INTERACTIVE TRIAGE LOGIC
    document.addEventListener('DOMContentLoaded', () => {
        const checkboxes = document.querySelectorAll('.triage-controls input');
        const resultUrgent = document.getElementById('result-urgent');
        const resultRoutine = document.getElementById('result-routine');
        const resultNeutral = document.getElementById('result-neutral');

        function checkStatus() {
            let isPediatric = document.getElementById('chk-paediatric').checked;
            let hasVagal = document.getElementById('chk-brady').checked || document.getElementById('chk-nausea').checked;
            let hasUpgaze = document.getElementById('chk-upgaze').checked;
            let hasVisionLoss = document.getElementById('chk-vision').checked;

            let urgent = false;
            let routine = false;

            // Logic: Urgent if Paediatric + Vagal OR Upgaze OR Vision Loss
            // Also Urgent for Adult Vision Loss
            
            if (isPediatric && (hasVagal || hasUpgaze)) {
                urgent = true;
            } else if (hasVisionLoss) {
                urgent = true; // Vision loss is always urgent
            } else if (hasUpgaze) {
                // Upgaze limitation with vague other signs implies entrapment
                urgent = true;
            }

            // If nothing critical checked, assume routine/conservative
            if (!urgent && (isPediatric || hasVagal || hasUpgaze)) {
                routine = true;
            } else if (!urgent && !hasVisionLoss && !isPediatric && !hasVagal && !hasUpgaze) {
                // Empty selection
                resultNeutral.style.display = 'block';
                resultNeutral.classList.remove('active');
                resultUrgent.style.display = 'none';
                resultUrgent.classList.remove('active');
                resultRoutine.style.display = 'none';
                resultRoutine.classList.remove('active');
                return;
            } else if (!urgent) {
                routine = true;
            }

            // Update UI
            resultNeutral.style.display = 'none';
            
            if (urgent) {
                resultUrgent.style.display = 'block';
                setTimeout(() => resultUrgent.classList.add('active'), 10);
                resultRoutine.style.display = 'none';
                resultRoutine.classList.remove('active');
            } else if (routine) {
                resultRoutine.style.display = 'block';
                setTimeout(() => resultRoutine.classList.add('active'), 10);
                resultUrgent.style.display = 'none';
                resultUrgent.classList.remove('active');
            }
        }

        checkboxes.forEach(box => {
            box.addEventListener('change', checkStatus);
        });
    });
</script>

</body>
</html>