<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Opioid Dependence: Clinical Quick Reference</title>
    <style>
        :root {
            /* Color Palette */
            --color-emergency: #d90429;
            --color-emergency-bg: #ffcad4;
            --color-warning: #ffb703;
            --color-success: #2a9d8f;
            --color-success-bg: #dbfadd;
            --color-primary: #457b9d;
            --color-primary-dark: #1d3557;
            --color-neutral-bg: #f8f9fa;
            --color-surface: #ffffff;
            --color-text: #333333;
            --color-text-light: #666666;
            --border-radius: 12px;
            --shadow-sm: 0 2px 4px rgba(0,0,0,0.05);
            --shadow-md: 0 4px 8px rgba(0,0,0,0.1);
            --shadow-lg: 0 8px 16px rgba(0,0,0,0.15);
            --font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        }

    * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
    }

    body {
        font-family: var(--font-family);
        background-color: #eef2f5;
        color: var(--color-text);
        line-height: 1.5;
        overflow-x: hidden;
    }

    /* --- Header & Nav --- */
    header {
        background-color: var(--color-primary-dark);
        color: white;
        padding: 1rem 2rem;
        position: sticky;
        top: 0;
        z-index: 1000;
        display: flex;
        justify-content: space-between;
        align-items: center;
        box-shadow: var(--shadow-md);
    }

    .brand {
        display: flex;
        align-items: center;
        gap: 1rem;
    }

    .brand h1 {
        font-size: 1.25rem;
        font-weight: 600;
    }

    .badge {
        background-color: var(--color-emergency);
        font-size: 0.75rem;
        padding: 0.2rem 0.6rem;
        border-radius: 20px;
        text-transform: uppercase;
        font-weight: bold;
        animation: pulse 2s infinite;
    }

    nav {
        display: flex;
        gap: 1rem;
    }

    .nav-btn {
        background: transparent;
        border: 1px solid rgba(255,255,255,0.3);
        color: white;
        padding: 0.5rem 1rem;
        border-radius: var(--border-radius);
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: 0.9rem;
    }

    .nav-btn:hover, .nav-btn.active {
        background-color: rgba(255,255,255,0.15);
        border-color: white;
    }

    /* --- Layout --- */
    main {
        max-width: 1200px;
        margin: 2rem auto;
        padding: 0 1rem;
        display: grid;
        gap: 2rem;
    }

    .section-title {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        margin-bottom: 1rem;
        color: var(--color-primary-dark);
        font-size: 1.5rem;
        font-weight: 700;
    }

    /* --- Emergency Section (RED) --- */
    .emergency-banner {
        background: linear-gradient(135deg, var(--color-emergency) 0%, #ef233c 100%);
        color: white;
        padding: 2rem;
        border-radius: var(--border-radius);
        box-shadow: var(--shadow-lg);
        display: grid;
        grid-template-columns: 1fr 2fr;
        gap: 2rem;
        animation: slideDown 0.6s ease-out;
    }

    .emergency-icon {
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 4rem;
    }

    .emergency-content h2 {
        font-size: 1.8rem;
        margin-bottom: 1rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

    .symptom-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 1rem;
        margin-top: 1rem;
    }

    .symptom-card {
        background: rgba(255, 255, 255, 0.15);
        backdrop-filter: blur(5px);
        padding: 1rem;
        border-radius: 8px;
        border: 1px solid rgba(255,255,255,0.2);
    }

    .symptom-card h3 {
        font-size: 1.1rem;
        margin-bottom: 0.5rem;
        border-bottom: 1px solid rgba(255,255,255,0.3);
        padding-bottom: 0.25rem;
    }

    .symptom-list li {
        margin-bottom: 0.25rem;
        list-style-position: inside;
        font-size: 0.95rem;
    }

    /* --- Diagnosis & Assessment (BLUE/NEUTRAL) --- */
    .grid-2-col {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
        gap: 1.5rem;
    }

    .card {
        background: var(--color-surface);
        border-radius: var(--border-radius);
        padding: 1.5rem;
        box-shadow: var(--shadow-sm);
        transition: transform 0.2s, box-shadow 0.2s;
        border-left: 5px solid var(--color-primary);
    }

    .card:hover {
        transform: translateY(-4px);
        box-shadow: var(--shadow-md);
    }

    .card-header {
        font-weight: 700;
        font-size: 1.2rem;
        margin-bottom: 1rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .checklist-item {
        display: flex;
        align-items: flex-start;
        gap: 0.75rem;
        margin-bottom: 0.8rem;
        padding-bottom: 0.8rem;
        border-bottom: 1px solid #eee;
    }

    .checklist-item:last-child {
        border-bottom: none;
    }

    .check-icon {
        color: var(--color-success);
        min-width: 20px;
    }

    /* --- Interactive Tool: ICD-11 Checker --- */
    .tool-container {
        background: white;
        border-radius: var(--border-radius);
        padding: 2rem;
        box-shadow: var(--shadow-md);
        border-top: 5px solid var(--color-primary);
    }

    .checkbox-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 1rem;
        margin: 1.5rem 0;
    }

    .checkbox-wrapper {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        padding: 0.75rem;
        background: var(--color-neutral-bg);
        border-radius: 8px;
        cursor: pointer;
        transition: background 0.2s;
    }

    .checkbox-wrapper:hover {
        background: #e2e6ea;
    }

    input[type="checkbox"] {
        width: 20px;
        height: 20px;
        accent-color: var(--color-primary);
    }

    .result-box {
        margin-top: 1.5rem;
        padding: 1rem;
        border-radius: 8px;
        text-align: center;
        font-weight: 600;
        display: none; /* Hidden by default */
    }

    .result-positive {
        background-color: var(--color-success-bg);
        color: #1b5e20;
        border: 1px solid #4caf50;
        display: block;
        animation: fadeIn 0.5s;
    }

    .result-negative {
        background-color: #f8d7da;
        color: #721c24;
        border: 1px solid #f5c6cb;
        display: block;
        animation: fadeIn 0.5s;
    }

    /* --- Complications (Warning) --- */
    .complication-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 1.5rem;
    }

    .comp-card {
        background: white;
        padding: 1.5rem;
        border-radius: var(--border-radius);
        box-shadow: var(--shadow-sm);
        position: relative;
        overflow: hidden;
        border-top: 4px solid var(--color-warning);
    }

    .comp-card:hover {
        box-shadow: var(--shadow-md);
    }

    .comp-card h3 {
        color: #d68910;
        margin-bottom: 0.5rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

    /* --- Management (Green) --- */
    .action-steps {
        list-style: none;
    }

    .action-step {
        background: var(--color-success-bg);
        border: 1px solid #b2dfdb;
        padding: 1rem;
        margin-bottom: 0.75rem;
        border-radius: 8px;
        display: flex;
        align-items: center;
        gap: 1rem;
        transition: transform 0.2s;
    }

    .action-step:hover {
        transform: scale(1.01);
        background: #c8e6c9;
    }

    .step-number {
        background: var(--color-success);
        color: white;
        width: 28px;
        height: 28px;
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
        font-weight: bold;
        flex-shrink: 0;
    }

    /* --- Footer --- */
    footer {
        text-align: center;
        padding: 2rem;
        color: var(--color-text-light);
        font-size: 0.85rem;
        border-top: 1px solid #ddd;
        margin-top: 3rem;
    }

    /* --- Toast Notification --- */
    .toast {
        position: fixed;
        bottom: 2rem;
        right: 2rem;
        background: #333;
        color: white;
        padding: 1rem 1.5rem;
        border-radius: 8px;
        box-shadow: var(--shadow-lg);
        opacity: 0;
        transform: translateY(20px);
        transition: opacity 0.3s, transform 0.3s;
        z-index: 2000;
    }

    .toast.show {
        opacity: 1;
        transform: translateY(0);
    }

    /* --- Animations --- */
    @keyframes pulse {
        0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(217, 4, 41, 0.7); }
        70% { transform: scale(1.05); box-shadow: 0 0 0 10px rgba(217, 4, 41, 0); }
        100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(217, 4, 41, 0); }
    }

    @keyframes slideDown {
        from { opacity: 0; transform: translateY(-20px); }
        to { opacity: 1; transform: translateY(0); }
    }

    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }

    /* Responsive */
    @media (max-width: 768px) {
        .emergency-banner {
            grid-template-columns: 1fr;
        }
        .nav-btn span {
            display: none; /* Hide text on small screens, icons only if needed */
        }
        .nav-btn::after {
            content: attr(data-label);
        }
    }
</style></head>
<body>

<header>
    <div class="brand">
        <!-- SVG Icon: Stethoscope/Medical Cross -->
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M22 12h-4l-3 9L9 3l-3 9H2"/>
        </svg>
        <h1>Opioid Dependence</h1>
        <span class="badge">Quick Scan</span>
    </div>
    <nav>
        <button class="nav-btn active" onclick="scrollToSection('emergency')" data-label="Emergency">Emergency</button>
        <button class="nav-btn" onclick="scrollToSection('diagnosis')" data-label="Diagnosis">Diagnosis</button>
        <button class="nav-btn" onclick="scrollToSection('complications')" data-label="Complications">Complications</button>
        <button class="nav-btn" onclick="scrollToSection('management')" data-label="Management">Management</button>
    </nav>
</header>

<main>
    <!-- EMERGENCY SECTION -->
    <section id="emergency">
        <div class="emergency-banner">
            <div class="emergency-icon">
                <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="12" y1="8" x2="12" y2="12"></line>
                    <line x1="12" y1="16" x2="12.01" y2="16"></line>
                </svg>
            </div>
            <div class="emergency-content">
                <h2>
                    <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right:10px;">
                        <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>
                        <line x1="12" y1="9" x2="12" y2="13"></line>
                        <line x1="12" y1="17" x2="12.01" y2="17"></line>
                    </svg>
                    Immediate Threats
                </h2>
                <p style="margin-bottom: 1rem; opacity: 0.9;">Prioritize these conditions. If present, manage ABCDE immediately and seek urgent assistance.</p>
                
                <div class="symptom-grid">
                    <div class="symptom-card">
                        <h3>Intoxication / Overdose</h3>
                        <ul class="symptom-list">
                            <li>Respiratory depression / Hypoventilation</li>
                            <li>Reduced level of consciousness</li>
                            <li>Constricted pupils (pinpoint)</li>
                            <li>Bradycardia & Hypotension</li>
                        </ul>
                    </div>
                    <div class="symptom-card">
                        <h3>Severe Withdrawal</h3>
                        <ul class="symptom-list">
                            <li>Vomiting & Aspiration risk</li>
                            <li>Severe agitation or seizures</li>
                            <li>Hypertension & Tachypnoea</li>
                            <li>Diarrhoea leading to dehydration</li>
                        </ul>
                    </div>
                    <div class="symptom-card">
                        <h3>Acute Infection</h3>
                        <ul class="symptom-list">
                            <li>Sepsis signs (High fever, rigors)</li>
                            <li>Necrotizing fasciitis (Severe pain, swelling)</li>
                            <li>Endocarditis signs</li>
                            <li>Anthrax or Botulism symptoms</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- DIAGNOSIS & ASSESSMENT -->
    <section id="diagnosis">
        <div class="section-title">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>
            Diagnosis & Assessment
        </div>
        
        <div class="grid-2-col">
            <!-- Clinical Features Card -->
            <article class="card">
                <div class="card-header">Key Clinical Features</div>
                <div class="checklist-item">
                    <div class="check-icon">●</div>
                    <div>
                        <strong>General Misuse:</strong> Constipation, weight loss, sedation, needle marks/scars.
                    </div>
                </div>
                <div class="checklist-item">
                    <div class="check-icon">●</div>
                    <div>
                        <strong>Intoxication:</strong> Mood swings (euphoria/dysphoria), impaired judgement, itching.
                    </div>
                </div>
                <div class="checklist-item">
                    <div class="check-icon">●</div>
                    <div>
                        <strong>Withdrawal:</strong> Watering eyes, rhinorrhoea, yawning, sweats, piloerection, abdominal cramps.
                    </div>
                </div>
                <div class="checklist-item">
                    <div class="check-icon">●</div>
                    <div>
                        <strong>Behavioral:</strong> Criminality (theft), social disintegration, relationship breakdown.
                    </div>
                </div>
            </article>

            <!-- Assessment Checklist Card -->
            <article class="card">
                <div class="card-header">Assessment Checklist</div>
                <p style="font-size: 0.9rem; color: #666; margin-bottom: 1rem;">Use the ASSIST-Lite tool for risk screening.</p>
                <div class="checklist-item">
                    <span class="badge" style="background:var(--color-primary); margin:0;">Ask</span>
                    <div>Drug type, quantity, frequency, route (injecting?), sharing habits.</div>
                </div>
                <div class="checklist-item">
                    <span class="badge" style="background:var(--color-primary); margin:0;">Medical</span>
                    <div>Blood-borne viruses (HIV/Hep), overdose history, pregnancy status.</div>
                </div>
                <div class="checklist-item">
                    <span class="badge" style="background:var(--color-primary); margin:0;">Mental</span>
                    <div>Self-harm risk, depression, psychosis, gambling harms.</div>
                </div>
                <div class="checklist-item">
                    <span class="badge" style="background:var(--color-primary); margin:0;">Social</span>
                    <div>Housing, employment, finance, safeguarding concerns.</div>
                </div>
            </article>
        </div>

        <!-- Interactive ICD-11 Tool -->
        <div class="tool-container" style="margin-top: 2rem;">
            <div class="card-header" style="color: var(--color-primary-dark);">
                <span>ICD-11 Dependency Checker</span>
                <button onclick="resetTool()" style="font-size: 0.8rem; padding: 4px 8px; cursor: pointer;">Reset</button>
            </div>
            <p style="margin-bottom: 1rem;">Select features present (Diagnosis requires pattern of use + <strong>2 or more</strong> criteria):</p>
            
            <div class="checkbox-grid">
                <label class="checkbox-wrapper">
                    <input type="checkbox" class="icd-check" onchange="checkDependency()">
                    <span>Impaired control (onset, termination, levels)</span>
                </label>
                <label class="checkbox-wrapper">
                    <input type="checkbox" class="icd-check" onchange="checkDependency()">
                    <span>Increasing precedence over other life aspects</span>
                </label>
                <label class="checkbox-wrapper">
                    <input type="checkbox" class="icd-check" onchange="checkDependency()">
                    <span>Tolerance (need for increased amounts)</span>
                </label>
                <label class="checkbox-wrapper">
                    <input type="checkbox" class="icd-check" onchange="checkDependency()">
                    <span>Withdrawal symptoms upon cessation</span>
                </label>
                <label class="checkbox-wrapper">
                    <input type="checkbox" class="icd-check" onchange="checkDependency()">
                    <span>Repeated use to prevent/alleviate withdrawal</span>
                </label>
            </div>

            <div id="tool-result" class="result-box"></div>
        </div>
    </section>

    <!-- COMPLICATIONS -->
    <section id="complications">
        <div class="section-title">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>
            Complications & Risks
        </div>
        <div class="complication-grid">
            <div class="comp-card">
                <h3>
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
                    Infection
                </h3>
                <p><strong>Blood-borne:</strong> HIV, Hep B, Hep C (very common).</p>
                <p><strong>Bacterial:</strong> Staph aureus, Group A Strep, Sepsis, Tetanus, Botulism.</p>
            </div>
            <div class="comp-card">
                <h3>
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>
                    Vascular
                </h3>
                <p>DVT, Pulmonary Emboli.</p>
                <p>Superficial thrombophlebitis (irritation from mixtures/cutting agents).</p>
                <p>Venous/Arterial thrombosis (especially groin injecting).</p>
            </div>
            <div class="comp-card">
                <h3>
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/></svg>
                    Mental Health
                </h3>
                <p>Depression, Anxiety, Self-harm, Suicide risk.</p>
                <p>Comorbid psychosis or substance-induced psychosis.</p>
                <p>Cognitive impairment or memory loss.</p>
            </div>
            <div class="comp-card">
                <h3>
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
                    Mortality
                </h3>
                <p>Premature mortality rate is 10-20x general population.</p>
                <p><strong>Risks:</strong> Overdose, Suicide, Violence, Accidents.</p>
            </div>
        </div>
    </section>

    <!-- MANAGEMENT -->
    <section id="management">
        <div class="section-title">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline></svg>
            Management & Goals
        </div>
        <div class="grid-2-col">
            <div class="card" style="border-left-color: var(--color-success);">
                <div class="card-header">Primary Care Goals</div>
                <ul class="action-steps">
                    <li class="action-step">
                        <div class="step-number">1</div>
                        <div>Keep person healthy & reduce harm (injecting risks).</div>
                    </li>
                    <li class="action-step">
                        <div class="step-number">2</div>
                        <div>Refer to specialist drug services if abstinence is not possible.</div>
                    </li>
                    <li class="action-step">
                        <div class="step-number">3</div>
                        <div>Support reduction/cessation of illicit use & lifestyle change.</div>
                    </li>
                </ul>
            </div>

            <div class="card" style="border-left-color: var(--color-success);">
                <div class="card-header">Treatment Options (Specialist)</div>
                <p style="margin-bottom: 1rem; font-size: 0.95rem;">Discuss these options with the patient:</p>
                <div class="checklist-item">
                    <div class="check-icon">+</div>
                    <div><strong>Harm-reduction:</strong> Needle exchange, safe injecting advice.</div>
                </div>
                <div class="checklist-item">
                    <div class="check-icon">+</div>
                    <div><strong>Maintenance:</strong> Opioid substitution treatment (Methadone/Buprenorphine).</div>
                </div>
                <div class="checklist-item">
                    <div class="check-icon">+</div>
                    <div><strong>Detoxification:</strong> Structured withdrawal.</div>
                </div>
                <div class="checklist-item">
                    <div class="check-icon">+</div>
                    <div><strong>Abstinence:</strong> Residential rehab, mutual aid.</div>
                </div>
            </div>
        </div>
    </section>
</main>

<footer>
    <p><strong>Reference:</strong> NICE CKS Opioid Dependence (Last revised Feb 2025).</p>
    <p>Target audience: Generalist primary healthcare professionals (UK NHS). This tool is for quick reference only and does not replace full specialist guidelines.</p>
</footer>

<!-- Toast Element -->
<div id="toast" class="toast">Action feedback</div>

<script>
    // --- Smooth Scrolling & Nav Highlighting ---
    function scrollToSection(id) {
        const element = document.getElementById(id);
        const headerOffset = 80;
        const elementPosition = element.getBoundingClientRect().top;
        const offsetPosition = elementPosition + window.pageYOffset - headerOffset;

        window.scrollTo({
            top: offsetPosition,
            behavior: "smooth"
        });

        // Update active button state
        document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
        event.currentTarget.classList.add('active');
    }

    // --- Intersection Observer for Nav Active State ---
    const sections = document.querySelectorAll('section');
    const navLi = document.querySelectorAll('nav .nav-btn');

    window.addEventListener('scroll', () => {
        let current = '';
        sections.forEach(section => {
            const sectionTop = section.offsetTop;
            const sectionHeight = section.clientHeight;
            if (pageYOffset >= (sectionTop - 150)) {
                current = section.getAttribute('id');
            }
        });

        navLi.forEach(btn => {
            btn.classList.remove('active');
            if (btn.getAttribute('onclick').includes(current)) {
                btn.classList.add('active');
            }
        });
    });

    // --- ICD-11 Interactive Checker Logic ---
    function checkDependency() {
        const checkboxes = document.querySelectorAll('.icd-check');
        const resultBox = document.getElementById('tool-result');
        let count = 0;

        checkboxes.forEach(box => {
            if (box.checked) count++;
        });

        // Animation reset
        resultBox.style.animation = 'none';
        resultBox.offsetHeight; /* trigger reflow */
        resultBox.style.animation = 'fadeIn 0.5s';

        if (count >= 2) {
            resultBox.className = 'result-box result-positive';
            resultBox.innerHTML = `
                <div style="font-size: 1.5rem; margin-bottom: 0.5rem;">✓</div>
                <div>Criteria met (2+ features). Supports diagnosis of Opioid Dependence.</div>
            `;
            showToast("Dependency criteria met.");
        } else {
            resultBox.className = 'result-box result-negative';
            resultBox.innerHTML = `
                <div style="font-size: 1.5rem; margin-bottom: 0.5rem;">!</div>
                <div>Insufficient criteria (${count}/5). Continue assessment.</div>
            `;
        }
    }

    function resetTool() {
        const checkboxes = document.querySelectorAll('.icd-check');
        checkboxes.forEach(box => box.checked = false);
        document.getElementById('tool-result').style.display = 'none';
        showToast("Tool reset.");
    }

    // --- Toast Notification ---
    function showToast(message) {
        const toast = document.getElementById('toast');
        toast.textContent = message;
        toast.classList.add('show');
        setTimeout(() => {
            toast.classList.remove('show');
        }, 3000);
    }

    // Initialize state
    document.getElementById('tool-result').style.display = 'none';

</script></body>
</html>