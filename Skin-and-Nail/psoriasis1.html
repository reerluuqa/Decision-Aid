<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Psoriasis | Clinical Quick Reference</title>
    <style>
        :root {
            --critical: #DC2626;
            --critical-bg: #FEF2F2;
            --critical-border: #F87171;
            --safe: #16A34A;
            --safe-bg: #F0FDF4;
            --safe-border: #4ADE80;
            --info: #2563EB;
            --info-bg: #EFF6FF;
            --info-border: #60A5FA;
            --warning: #D97706;
            --warning-bg: #FFFBEB;
            --gray-50: #F9FAFB;
            --gray-100: #F3F4F6;
            --gray-200: #E5E7EB;
            --gray-600: #4B5563;
            --gray-800: #1F2937;
            --gray-900: #111827;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--gray-100);
            color: var(--gray-800);
            line-height: 1.5;
        }

        /* Header */
        .header {
            position: sticky;
            top: 0;
            z-index: 100;
            background: linear-gradient(135deg, #1E40AF 0%, #3B82F6 100%);
            padding: 12px 24px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        .header-inner {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            gap: 20px;
            flex-wrap: wrap;
        }
        .logo {
            color: white;
            font-size: 22px;
            font-weight: 800;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .logo svg { width: 28px; height: 28px; }
        .search-box {
            flex: 1;
            min-width: 200px;
            max-width: 400px;
            position: relative;
        }
        .search-box input {
            width: 100%;
            padding: 10px 16px 10px 42px;
            border: none;
            border-radius: 8px;
            font-size: 15px;
            background: rgba(255,255,255,0.95);
        }
        .search-box svg {
            position: absolute;
            left: 14px;
            top: 50%;
            transform: translateY(-50%);
            width: 18px;
            height: 18px;
            color: var(--gray-600);
        }
        .legend {
            display: flex;
            gap: 16px;
            margin-left: auto;
        }
        .legend-item {
            display: flex;
            align-items: center;
            gap: 6px;
            color: white;
            font-size: 13px;
            font-weight: 500;
        }
        .legend-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }
        .legend-dot.red { background: var(--critical); }
        .legend-dot.green { background: var(--safe); }
        .legend-dot.blue { background: var(--info); }

        /* Main Container */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Grid Layout */
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(420px, 1fr));
            gap: 20px;
        }
        @media (max-width: 500px) {
            .grid { grid-template-columns: 1fr; }
        }

        /* Cards */
        .card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.08);
            overflow: hidden;
            transition: transform 0.2s, box-shadow 0.2s;
            border-left: 5px solid var(--gray-200);
        }
        .card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.12);
        }
        .card.critical { border-left-color: var(--critical); }
        .card.safe { border-left-color: var(--safe); }
        .card.info { border-left-color: var(--info); }
        .card.warning { border-left-color: var(--warning); }

        .card-header {
            padding: 14px 18px;
            display: flex;
            align-items: center;
            gap: 12px;
            border-bottom: 1px solid var(--gray-100);
        }
        .card.critical .card-header { background: var(--critical-bg); }
        .card.safe .card-header { background: var(--safe-bg); }
        .card.info .card-header { background: var(--info-bg); }
        .card.warning .card-header { background: var(--warning-bg); }

        .card-icon {
            width: 36px;
            height: 36px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        .card-icon svg { width: 20px; height: 20px; }
        .card.critical .card-icon { background: var(--critical); color: white; }
        .card.safe .card-icon { background: var(--safe); color: white; }
        .card.info .card-icon { background: var(--info); color: white; }
        .card.warning .card-icon { background: var(--warning); color: white; }

        .card-title {
            font-size: 17px;
            font-weight: 700;
            color: var(--gray-900);
        }
        .card-badge {
            margin-left: auto;
            font-size: 11px;
            font-weight: 700;
            text-transform: uppercase;
            padding: 4px 10px;
            border-radius: 20px;
        }
        .card.critical .card-badge { background: var(--critical); color: white; }
        .card.safe .card-badge { background: var(--safe); color: white; }

        .card-body { padding: 16px 18px; }

        /* Alert Banner */
        .alert-banner {
            background: linear-gradient(90deg, var(--critical) 0%, #B91C1C 100%);
            color: white;
            padding: 10px 14px;
            font-weight: 600;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 8px;
            animation: pulse-bg 2s infinite;
        }
        @keyframes pulse-bg {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.85; }
        }
        .alert-banner svg { width: 18px; height: 18px; flex-shrink: 0; }

        /* Lists */
        .list { list-style: none; }
        .list li {
            padding: 8px 0;
            border-bottom: 1px solid var(--gray-100);
            display: flex;
            align-items: flex-start;
            gap: 10px;
            font-size: 14px;
        }
        .list li:last-child { border-bottom: none; }
        .list li::before {
            content: '';
            width: 6px;
            height: 6px;
            background: var(--gray-600);
            border-radius: 50%;
            flex-shrink: 0;
            margin-top: 7px;
        }
        .list.critical li::before { background: var(--critical); }
        .list.safe li::before { background: var(--safe); }

        /* Table */
        .table-wrap { overflow-x: auto; }
        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 13px;
        }
        th, td {
            padding: 10px 12px;
            text-align: left;
            border-bottom: 1px solid var(--gray-200);
        }
        th {
            background: var(--gray-50);
            font-weight: 600;
            color: var(--gray-600);
            font-size: 12px;
            text-transform: uppercase;
        }
        tr:nth-child(even) { background: var(--gray-50); }
        tr:hover { background: #E0F2FE; }

        /* Two Column */
        .two-col {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
        }
        @media (max-width: 600px) {
            .two-col { grid-template-columns: 1fr; }
        }
        .col-section h4 {
            font-size: 13px;
            font-weight: 700;
            color: var(--gray-600);
            text-transform: uppercase;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        /* Tags */
        .tags { display: flex; gap: 6px; flex-wrap: wrap; margin-top: 12px; }
        .tag {
            font-size: 11px;
            padding: 4px 10px;
            border-radius: 20px;
            font-weight: 600;
        }
        .tag.red { background: var(--critical-bg); color: var(--critical); }
        .tag.green { background: var(--safe-bg); color: var(--safe); }
        .tag.blue { background: var(--info-bg); color: var(--info); }

        /* PASI Calculator */
        .calc-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-top: 12px;
        }
        .calc-item {
            text-align: center;
            padding: 10px;
            background: var(--gray-50);
            border-radius: 8px;
        }
        .calc-item label {
            display: block;
            font-size: 11px;
            color: var(--gray-600);
            margin-bottom: 4px;
        }
        .calc-item input {
            width: 100%;
            padding: 6px;
            border: 1px solid var(--gray-200);
            border-radius: 4px;
            text-align: center;
            font-size: 14px;
        }
        .calc-result {
            background: var(--info-bg);
            padding: 12px;
            border-radius: 8px;
            text-align: center;
            margin-top: 12px;
        }
        .calc-result .score {
            font-size: 28px;
            font-weight: 800;
            color: var(--info);
        }
        .calc-result .label { font-size: 12px; color: var(--gray-600); }

        /* Severity Indicator */
        .severity-bar {
            display: flex;
            margin-top: 12px;
            border-radius: 8px;
            overflow: hidden;
        }
        .severity-seg {
            flex: 1;
            padding: 8px;
            text-align: center;
            font-size: 11px;
            font-weight: 600;
            color: white;
        }
        .severity-seg.mild { background: var(--safe); }
        .severity-seg.moderate { background: var(--warning); }
        .severity-seg.severe { background: var(--critical); }

        /* Hidden for search */
        .hidden { display: none !important; }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-inner">
            <div class="logo">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>
                Psoriasis Quick Reference
            </div>
            <div class="search-box">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg>
                <input type="text" id="searchInput" placeholder="Search conditions, treatments..." autofocus>
            </div>
            <div class="legend">
                <span class="legend-item"><span class="legend-dot red"></span>Urgent</span>
                <span class="legend-item"><span class="legend-dot green"></span>Routine</span>
                <span class="legend-item"><span class="legend-dot blue"></span>Info</span>
            </div>
        </div>
    </header>

    <main class="container">
        <div class="grid" id="cardGrid">

            <!-- CRITICAL: Emergency Conditions -->
            <div class="card critical" data-keywords="emergency urgent pustular von zumbusch erythroderma">
                <div class="alert-banner">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>
                    URGENT REFERRAL REQUIRED
                </div>
                <div class="card-header">
                    <div class="card-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
                    </div>
                    <span class="card-title">Emergency Presentations</span>
                    <span class="card-badge">Critical</span>
                </div>
                <div class="card-body">
                    <div class="two-col">
                        <div class="col-section">
                            <h4><svg width="14" height="14" viewBox="0 0 24 24" fill="var(--critical)"><circle cx="12" cy="12" r="10"/></svg> Pustular (von Zumbusch)</h4>
                            <ul class="list critical">
                                <li>Acute generalised pustulosis</li>
                                <li>Rare, severe, life-threatening</li>
                                <li>Systemic symptoms common</li>
                            </ul>
                        </div>
                        <div class="col-section">
                            <h4><svg width="14" height="14" viewBox="0 0 24 24" fill="var(--critical)"><circle cx="12" cy="12" r="10"/></svg> Erythrodermic</h4>
                            <ul class="list critical">
                                <li>Generalised erythema >90% BSA</li>
                                <li>Fine scaling, severe pain</li>
                                <li>Risk of hypothermia, sepsis</li>
                            </ul>
                        </div>
                    </div>
                    <div class="tags">
                        <span class="tag red">Immediate Derm Consult</span>
                        <span class="tag red">Consider Admission</span>
                    </div>
                </div>
            </div>

            <!-- Red Flags -->
            <div class="card critical" data-keywords="red flags warning signs stop">
                <div class="card-header">
                    <div class="card-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></svg>
                    </div>
                    <span class="card-title">Red Flags & Contraindications</span>
                </div>
                <div class="card-body">
                    <ul class="list critical">
                        <li><strong>Stop steroids abruptly</strong> → Rebound flare / Pustular conversion</li>
                        <li><strong>Methotrexate + Alcohol</strong> → Severe hepatotoxicity</li>
                        <li><strong>Pregnancy + Acitretin</strong> → Teratogenic (avoid 3 yrs after)</li>
                        <li><strong>Active TB/Hepatitis + Biologics</strong> → Screen before starting</li>
                        <li><strong>Nail pitting + Joint pain</strong> → Screen for psoriatic arthritis (20% prevalence)</li>
                    </ul>
                </div>
            </div>

            <!-- Classification -->
            <div class="card info" data-keywords="types classification plaque guttate pustular inverse">
                <div class="card-header">
                    <div class="card-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/><line x1="3" y1="9" x2="21" y2="9"/><line x1="9" y1="21" x2="9" y2="9"/></svg>
                    </div>
                    <span class="card-title">Psoriasis Types</span>
                </div>
                <div class="card-body">
                    <div class="table-wrap">
                        <table>
                            <thead>
                                <tr><th>Type</th><th>Key Features</th><th>Trigger/Note</th></tr>
                            </thead>
                            <tbody>
                                <tr><td><strong>Plaque</strong></td><td>Silvery-white scaly plaques</td><td>Most common (80-90%)</td></tr>
                                <tr><td><strong>Guttate</strong></td><td>Water-drop papules, trunk/limbs</td><td>Post-strep infection</td></tr>
                                <tr><td><strong>Pustular</strong></td><td>Sterile pustules, generalised</td><td>Urgent! von Zumbusch</td></tr>
                                <tr><td><strong>Inverse</strong></td><td>Smooth red patches in folds</td><td>Axillae, groin, under breasts</td></tr>
                                <tr><td><strong>Erythrodermic</strong></td><td>Widespread erythema &amp; scaling</td><td>Medical emergency</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Psoriatic Arthritis -->
            <div class="card warning" data-keywords="arthritis joint psa dactylitis enthesitis">
                <div class="card-header">
                    <div class="card-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 8h1a4 4 0 0 1 0 8h-1"/><path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"/><line x1="6" y1="1" x2="6" y2="4"/><line x1="10" y1="1" x2="10" y2="4"/><line x1="14" y1="1" x2="14" y2="4"/></svg>
                    </div>
                    <span class="card-title">Psoriatic Arthritis Screening</span>
                </div>
                <div class="card-body">
                    <div class="two-col">
                        <div class="col-section">
                            <h4>Key Features</h4>
                            <ul class="list">
                                <li>Affects ~20% of psoriasis patients</li>
                                <li>Skin precedes arthritis in 70%</li>
                                <li>Asymmetric in ~50% of cases</li>
                                <li>Nail psoriasis = high risk</li>
                            </ul>
                        </div>
                        <div class="col-section">
                            <h4>Common Sites</h4>
                            <ul class="list">
                                <li>DIP joints (fingers/toes)</li>
                                <li>Dactylitis (sausage digits)</li>
                                <li>Enthesitis (Achilles, plantar)</li>
                                <li>Sacroiliac / Axial spine</li>
                            </ul>
                        </div>
                    </div>
                    <div class="tags">
                        <span class="tag red">Early Referral Prevents Damage</span>
                    </div>
                </div>
            </div>

            <!-- Severity Assessment -->
            <div class="card info" data-keywords="pasi severity assessment bsa mild moderate severe">
                <div class="card-header">
                    <div class="card-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 20V10"/><path d="M18 20V4"/><path d="M6 20v-4"/></svg>
                    </div>
                    <span class="card-title">Severity Assessment (PASI)</span>
                </div>
                <div class="card-body">
                    <p style="font-size:13px;color:var(--gray-600);margin-bottom:8px;">PASI Score: 0-72 scale based on erythema, scaling, thickness & BSA</p>
                    <div class="severity-bar">
                        <div class="severity-seg mild">Mild<br>&lt;10</div>
                        <div class="severity-seg moderate">Moderate<br>10-20</div>
                        <div class="severity-seg severe">Severe<br>&gt;20</div>
                    </div>
                    <div class="calc-grid">
                        <div class="calc-item"><label>Head (10%)</label><input type="number" id="pasiHead" min="0" max="72" value="0"></div>
                        <div class="calc-item"><label>Trunk (30%)</label><input type="number" id="pasiTrunk" min="0" max="72" value="0"></div>
                        <div class="calc-item"><label>Arms (20%)</label><input type="number" id="pasiArms" min="0" max="72" value="0"></div>
                        <div class="calc-item"><label>Legs (40%)</label><input type="number" id="pasiLegs" min="0" max="72" value="0"></div>
                    </div>
                    <div class="calc-result">
                        <div class="label">Estimated PASI Score</div>
                        <div class="score" id="pasiScore">0</div>
                    </div>
                </div>
            </div>

            <!-- Mild Treatment -->
            <div class="card safe" data-keywords="mild treatment topical corticosteroid vitamin d calcipotriol">
                <div class="card-header">
                    <div class="card-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
                    </div>
                    <span class="card-title">Mild Disease: First-Line Therapy</span>
                    <span class="card-badge">Routine</span>
                </div>
                <div class="card-body">
                    <div class="two-col">
                        <div class="col-section">
                            <h4 style="color:var(--safe)">Topical Corticosteroids</h4>
                            <ul class="list safe">
                                <li>Potent: Betamethasone 0.05%</li>
                                <li>Body: Use 2-4 weeks max</li>
                                <li>Face/Flexures: Mild potency only</li>
                                <li>Scalp: Solutions/foams preferred</li>
                            </ul>
                        </div>
                        <div class="col-section">
                            <h4 style="color:var(--safe)">Vitamin D Analogues</h4>
                            <ul class="list safe">
                                <li>Calcipotriol (Dovonex)</li>
                                <li>Calcitriol, Tacalcitol</li>
                                <li>Can combine with steroids</li>
                                <li>Good for long-term maintenance</li>
                            </ul>
                        </div>
                    </div>
                    <div class="tags">
                        <span class="tag green">Safe for Limited Disease</span>
                        <span class="tag blue">Emollients as Adjunct</span>
                    </div>
                </div>
            </div>

            <!-- Moderate-Severe Treatment -->
            <div class="card info" data-keywords="moderate severe phototherapy methotrexate ciclosporin acitretin systemic">
                <div class="card-header">
                    <div class="card-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/></svg>
                    </div>
                    <span class="card-title">Moderate-Severe: Systemic Options</span>
                </div>
                <div class="card-body">
                    <div class="table-wrap">
                        <table>
                            <thead>
                                <tr><th>Agent</th><th>Key Points</th><th>Monitoring</th></tr>
                            </thead>
                            <tbody>
                                <tr><td><strong>Phototherapy</strong></td><td>NB-UVB or PUVA; 2-3x/week</td><td>Skin cancer risk</td></tr>
                                <tr><td><strong>Methotrexate</strong></td><td>7.5-25mg/week; folic acid</td><td>FBC, LFTs, renal</td></tr>
                                <tr><td><strong>Ciclosporin</strong></td><td>2.5-5mg/kg/day; rapid onset</td><td>BP, renal function</td></tr>
                                <tr><td><strong>Acitretin</strong></td><td>Retinoid; good for pustular</td><td>Lipids, LFTs; teratogenic</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Biologics -->
            <div class="card info" data-keywords="biologics anti-tnf il-17 il-23 adalimumab secukinumab ustekinumab">
                <div class="card-header">
                    <div class="card-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19.69 14a6.9 6.9 0 0 0 .31-2V5l-8-3-3.16 1.18"/><path d="M4.73 4.73L4 5v7c0 6 8 10 8 10a20.29 20.29 0 0 0 5.62-4.38"/></svg>
                    </div>
                    <span class="card-title">Biologic Therapies</span>
                </div>
                <div class="card-body">
                    <div class="table-wrap">
                        <table>
                            <thead>
                                <tr><th>Class</th><th>Agents</th><th>Pre-Tx Screen</th></tr>
                            </thead>
                            <tbody>
                                <tr><td><strong>Anti-TNF</strong></td><td>Adalimumab, Etanercept, Infliximab</td><td rowspan="3" style="vertical-align:middle;">TB, Hep B/C, HIV<br>Baseline bloods<br>Vaccinations</td></tr>
                                <tr><td><strong>IL-17 Inhibitors</strong></td><td>Secukinumab, Ixekizumab, Brodalumab</td></tr>
                                <tr><td><strong>IL-23 Inhibitors</strong></td><td>Guselkumab, Risankizumab, Tildrakizumab</td></tr>
                                <tr><td><strong>IL-12/23</strong></td><td>Ustekinumab</td><td>As above</td></tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="tags">
                        <span class="tag red">Screen for Latent TB</span>
                        <span class="tag blue">Specialist Initiation</span>
                    </div>
                </div>
            </div>

            <!-- Diagnosis -->
            <div class="card info" data-keywords="diagnosis clinical auspitz koebner biopsy">
                <div class="card-header">
                    <div class="card-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
                    </div>
                    <span class="card-title">Diagnosis</span>
                </div>
                <div class="card-body">
                    <div class="two-col">
                        <div class="col-section">
                            <h4>Clinical Signs</h4>
                            <ul class="list">
                                <li><strong>Auspitz sign:</strong> Pinpoint bleeding on scale removal</li>
                                <li><strong>Koebner phenomenon:</strong> Lesions at trauma sites</li>
                                <li>Silvery-white scale on erythematous base</li>
                                <li>Nail pitting, onycholysis, oil spots</li>
                            </ul>
                        </div>
                        <div class="col-section">
                            <h4>When to Biopsy</h4>
                            <ul class="list">
                                <li>Atypical presentation</li>
                                <li>Diagnostic uncertainty</li>
                                <li>Treatment failure</li>
                                <li>Rule out malignancy</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Triggers -->
            <div class="card safe" data-keywords="triggers exacerbation lifestyle smoking alcohol stress infection">
                <div class="card-header">
                    <div class="card-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>
                    </div>
                    <span class="card-title">Modifiable Triggers</span>
                </div>
                <div class="card-body">
                    <div class="two-col">
                        <div class="col-section">
                            <h4 style="color:var(--critical)">Avoid / Modify</h4>
                            <ul class="list critical">
                                <li>Smoking (strong association)</li>
                                <li>Excess alcohol</li>
                                <li>Stress/psychological factors</li>
                                <li>Skin trauma (Koebner)</li>
                            </ul>
                        </div>
                        <div class="col-section">
                            <h4 style="color:var(--safe)">Patient Advice</h4>
                            <ul class="list safe">
                                <li>Smoking cessation support</li>
                                <li>Weight management (if obese)</li>
                                <li>Regular emollient use</li>
                                <li>Manage stress/sleep</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Drug Triggers -->
            <div class="card warning" data-keywords="drugs medications beta blockers lithium antimalarials nsaids">
                <div class="card-header">
                    <div class="card-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>
                    </div>
                    <span class="card-title">Drug-Induced Exacerbations</span>
                </div>
                <div class="card-body">
                    <div class="table-wrap">
                        <table>
                            <thead>
                                <tr><th>Drug Class</th><th>Examples</th><th>Action</th></tr>
                            </thead>
                            <tbody>
                                <tr><td>Beta-blockers</td><td>Propranolol, Atenolol</td><td>Consider alternatives</td></tr>
                                <tr><td>Lithium</td><td>Mood stabiliser</td><td>Monitor; may need switch</td></tr>
                                <tr><td>Antimalarials</td><td>Chloroquine, Hydroxychloroquine</td><td>Avoid if possible</td></tr>
                                <tr><td>ACE Inhibitors</td><td>Lisinopril, Enalapril</td><td>Potential trigger</td></tr>
                                <tr><td>Rapid steroid withdrawal</td><td>Any systemic corticosteroid</td><td>Taper gradually</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Comorbidities -->
            <div class="card info" data-keywords="comorbidities cardiovascular metabolic diabetes obesity depression">
                <div class="card-header">
                    <div class="card-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg>
                    </div>
                    <span class="card-title">Screen for Comorbidities</span>
                </div>
                <div class="card-body">
                    <ul class="list">
                        <li><strong>Cardiovascular disease</strong> – Increased risk; check lipids, BP, HbA1c</li>
                        <li><strong>Metabolic syndrome</strong> – Obesity, diabetes, dyslipidaemia</li>
                        <li><strong>Psoriatic arthritis</strong> – Screen all patients; early treatment key</li>
                        <li><strong>Depression/Anxiety</strong> – High prevalence; assess QoL (DLQI)</li>
                        <li><strong>Fatty liver disease</strong> – Especially with methotrexate use</li>
                    </ul>
                    <div class="tags">
                        <span class="tag blue">Holistic Assessment</span>
                        <span class="tag green">Annual Screening</span>
                    </div>
                </div>
            </div>

        </div>
    </main>

    <script>
        // Search functionality
        const searchInput = document.getElementById('searchInput');
        const cards = document.querySelectorAll('.card');

        searchInput.addEventListener('input', (e) => {
            const query = e.target.value.toLowerCase();
            cards.forEach(card => {
                const keywords = card.dataset.keywords || '';
                const title = card.querySelector('.card-title')?.textContent || '';
                const body = card.querySelector('.card-body')?.textContent || '';
                const searchText = (keywords + ' ' + title + ' ' + body).toLowerCase();
                
                if (query === '' || searchText.includes(query)) {
                    card.classList.remove('hidden');
                } else {
                    card.classList.add('hidden');
                }
            });
        });

        // Simple PASI calculator
        const pasiInputs = ['pasiHead', 'pasiTrunk', 'pasiArms', 'pasiLegs'];
        const weights = [0.1, 0.3, 0.2, 0.4];
        
        pasiInputs.forEach(id => {
            document.getElementById(id).addEventListener('input', calculatePASI);
        });

        function calculatePASI() {
            let total = 0;
            pasiInputs.forEach((id, i) => {
                const val = parseFloat(document.getElementById(id).value) || 0;
                total += val * weights[i];
            });
            const score = Math.min(72, Math.max(0, total)).toFixed(1);
            document.getElementById('pasiScore').textContent = score;
            
            // Color code result
            const scoreEl = document.getElementById('pasiScore');
            if (score >= 20) {
                scoreEl.style.color = 'var(--critical)';
            } else if (score >= 10) {
                scoreEl.style.color = 'var(--warning)';
            } else {
                scoreEl.style.color = 'var(--safe)';
            }
        }
    </script>
</body>
</html>
