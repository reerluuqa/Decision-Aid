<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clinical Guidance: Parvovirus B19 Infection</title>
    
    <style>
        :root {
            /* Color Palette */
            --color-emergency: #D93B3B;
            --color-action: #28A745;
            --color-caution: #FFC107;
            --color-info: #007BFF;
            --color-primary: #1C3B61;
            --color-text-dark: #333;
            --color-bg-light: #F8F9FA;
            --color-white: #ffffff;
            
            /* Spacing */
            --spacing-xs: 4px;
            --spacing-s: 8px;
            --spacing-m: 16px;
            --spacing-l: 24px;
            --spacing-xl: 40px;
            
            /* Border Radius */
            --radius-m: 8px;
        }
        
        /* Global Reset & Typography */
        * { box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            color: var(--color-text-dark);
            background-color: var(--color-bg-light);
            margin: 0;
            padding: 0;
        }
        
        h1, h2, h3 {
            color: var(--color-primary);
            font-weight: 700;
        }
        
        h2 { margin-top: var(--spacing-xl); }
        
        /* Sticky Header and Search */
        #global-header {
            position: sticky;
            top: 0;
            z-index: 1000;
            background-color: var(--color-white);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            padding: var(--spacing-s) var(--spacing-xl);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .search-box {
            position: relative;
        }
        
        .search-box input {
            border: 1px solid #ccc;
            border-radius: 50px;
            padding: var(--spacing-s) var(--spacing-m);
            padding-left: var(--spacing-l); /* Space for the icon */
            width: 250px;
            transition: width 0.3s;
        }
        .search-icon {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #aaa;
        }
        
        /* Two-Column Layout */
        .two-column-layout {
            display: flex;
            max-width: 1400px;
            margin: 0 auto;
            padding: var(--spacing-l) var(--spacing-xl);
        }
        
        #sticky-nav {
            position: sticky;
            top: 100px; /* Position below the header */
            flex: 0 0 250px;
            margin-right: var(--spacing-xl);
            padding: var(--spacing-l) 0;
            height: fit-content;
            border-right: 1px solid #ddd;
        }
        
        #sticky-nav ul {
            list-style: none;
            padding: 0;
        }
        
        #sticky-nav a {
            display: block;
            padding: var(--spacing-s) 0;
            color: var(--color-primary);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.2s;
        }

        #sticky-nav a:hover {
            color: var(--color-info);
            text-decoration: underline;
        }

        #content-area {
            flex-grow: 1;
        }
        
        /* --- STRUCTURED COMPONENTS --- */
        
        /* Alert Cards (Red Flag/Yellow Caution) */
        .alert-card, .action-box {
            padding: var(--spacing-l);
            margin-bottom: var(--spacing-xl);
            border-left: 8px solid;
            border-radius: var(--radius-m);
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            background-color: var(--color-white);
        }
        
        .alert-card.red-flag {
            border-color: var(--color-emergency);
        }
        
        .action-box.green-action {
            border-color: var(--color-action);
        }

        .action-text {
            font-weight: 700;
            color: var(--color-action);
        }
        
        /* Badges (for quick facts) */
        .badge-group {
            margin-top: var(--spacing-m);
        }

        .badge {
            display: inline-block;
            padding: var(--spacing-s) var(--spacing-m);
            border-radius: 50px;
            font-size: 0.9em;
            font-weight: 600;
            margin-right: var(--spacing-s);
            margin-top: var(--spacing-s);
            color: var(--color-white);
        }
        
        .badge.blue-neutral { background-color: var(--color-info); }
        .badge.yellow-caution { background-color: var(--color-caution); }
        
        /* Tabs Component */
        .tabs-container {
            margin-bottom: var(--spacing-xl);
        }
        .tab-buttons {
            display: flex;
            border-bottom: 2px solid #ddd;
            margin-bottom: var(--spacing-l);
        }
        .tab-button {
            padding: var(--spacing-m) var(--spacing-l);
            background: none;
            border: none;
            border-bottom: 3px solid transparent;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        .tab-button:hover {
            border-bottom-color: #aaa;
        }
        .tab-button.active {
            border-bottom-color: var(--color-primary);
            color: var(--color-primary);
        }
        
        .tab-content {
            display: none;
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .tab-content.active {
            display: block;
            opacity: 1;
        }

        /* Accordion Component */
        .accordion-item {
            margin-bottom: var(--spacing-m);
        }

        .accordion-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            padding: var(--spacing-m);
            background-color: #eee;
            border: none;
            border-radius: var(--radius-m);
            text-align: left;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .accordion-header:hover {
            background-color: #ddd;
        }

        .accordion-content {
            max-height: 0;
            overflow: hidden;
            padding: 0 var(--spacing-m);
            background-color: var(--color-white);
            border-radius: 0 0 var(--radius-m) var(--radius-m);
            border: 1px solid #eee;
            border-top: none;
            transition: max-height 0.4s ease-out, padding 0.4s ease-out;
        }
        .accordion-content.open {
            max-height: 500px; /* Needs to be large enough for content */
            padding: var(--spacing-m);
        }

        .accordion-header h3 {
            margin: 0;
        }
        
        /* Stepwise Pathway */
        .pathway-container {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-m);
            padding-left: var(--spacing-l);
            border-left: 2px dashed #ccc;
            margin-bottom: var(--spacing-xl);
        }
        
        .pathway-step {
            position: relative;
            padding: var(--spacing-m);
            border-radius: var(--radius-m);
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            background-color: var(--color-white);
            transition: all 0.3s;
        }
        
        .pathway-step::before {
            content: '';
            position: absolute;
            left: calc(-1 * var(--spacing-l) - 7px); /* Adjust position */
            top: 50%;
            transform: translateY(-50%);
            width: 14px;
            height: 14px;
            border-radius: 50%;
            background-color: #ccc;
            border: 3px solid var(--color-bg-light);
        }

        .pathway-step.blue-info::before { background-color: var(--color-info); }
        .pathway-step.yellow-caution::before { background-color: var(--color-caution); }
        .pathway-step.red-flag::before { background-color: var(--color-emergency); }
        
    </style>
</head>
<body>

    <header id="global-header">
        <h1>Parvovirus B19 Infection Guidance</h1>
        <div class="search-box">
            <input type="text" id="quick-search" placeholder="Quick Search: Symptoms, Referrals...">
            <span class="search-icon">&#128269;</span> </div>
    </header>

    <main class="two-column-layout">
        <nav id="sticky-nav">
            <h2 class="nav-title">Guidance Sections</h2>
            <ul>
                <li><a href="#red-flags" class="nav-link">ðŸ›‘ Red Flags (Emergencies)</a></li>
                <li><a href="#diagnosis" class="nav-link">ðŸ”¬ Diagnosis & Testing</a></li>
                <li><a href="#management-adults" class="nav-link">ðŸ‘¤ Management (Adults)</a></li>
                <li><a href="#management-pregnant" class="nav-link">ðŸ¤° Management (Pregnancy)</a></li>
                <li><a href="#follow-up" class="nav-link">âœ… Follow-up</a></li>
            </ul>
        </nav>

        <article id="content-area">
            
            <div class="tabs-container">
                <div class="tab-buttons">
                    <button class="tab-button active" data-tab="scenario-1">Adults & Children</button>
                    <button class="tab-button" data-tab="scenario-2">High-Risk & Pregnant Women</button>
                </div>
                
                <div id="scenario-1" class="tab-content active">
                    
                    <section id="red-flags">
                        <h2>ðŸ›‘ Urgent Red Flags & Complications</h2>
                        <div class="alert-card red-flag">
                            <h3 class="card-title">Immediate Hospital Admission Required</h3>
                            <p><strong>Aplastic Crisis:</strong> Severe pallor, signs of heart failure (tachycardia, tachypnoea), or lethargy in a patient with a known haematological disorder (e.g., Sickle Cell Disease, Thalassaemia).</p>
                            <p><strong>Action:</strong> <span class="action-text">Urgent admission and Haematology referral.</span></p>
                        </div>
                    </section>
                    
                    <section id="diagnosis">
                         <h2>ðŸ”¬ Diagnosis & Testing</h2>
                         <p>Diagnosis is usually clinical, based on the characteristic **'slapped cheek' rash**. Serology is needed for high-risk groups.</p>
                         
                         <div class="alert-card" style="border-color: var(--color-caution);">
                             <h3 class="card-title">Caution: Non-immune Adults</h3>
                             <p>Adults who are non-immune (IgG negative) are at risk, especially if they are contacts of confirmed cases. Advise on strict hygiene.</p>
                         </div>
                    </section>

                    <section id="management-adults">
                        <h2>ðŸ‘¤ First-Line Treatment: Symptom Relief</h2>
                        <div class="action-box green-action">
                            <h3 class="box-title">Self-Limiting Illness Advice</h3>
                            <p><strong>First-line treatment:</strong> Paracetamol or ibuprofen for fever and joint pain (polyarthropathy is common in adults).</p>
                            <p><strong>Advice:</strong> Reassure patients the illness is usually mild. **Exclude high-risk groups** before advising self-management.</p>
                        </div>

                        <div class="accordion-item">
                            <button class="accordion-header" aria-expanded="false">
                                <h3>Dosing for Common Analgesics</h3>
                                <span>&#9660;</span> </button>
                            <div class="accordion-content">
                                <p><strong>Paracetamol (Adults):</strong> 1g every 4â€“6 hours (max 4g/day).</p>
                                <p><strong>Ibuprofen (Adults):</strong> 200â€“400mg every 4â€“6 hours (max 1200mg/day).</p>
                            </div>
                        </div>
                    </section>
                    
                </div>
                
                <div id="scenario-2" class="tab-content">
                    
                    <section id="management-pregnant">
                        <h2>ðŸ¤° Management Pathway: Pregnant Women</h2>
                        <div class="pathway-container">
                            <div class="pathway-step start blue-info">
                                <p>Suspected Exposure/Symptoms in Pregnant Patient (Any Trimester)</p>
                            </div>
                            <div class="pathway-step blue-info">
                                <p><strong>Step 1:</strong> Arrange urgent serology (IgM/IgG testing) to determine infection status.</p>
                            </div>
                            <div class="pathway-step yellow-caution">
                                <p><strong>Step 2:</strong> If **Acute Infection Confirmed** (IgM positive), monitor fetal well-being with weekly ultrasound scans, especially between 9â€“20 weeks' gestation.</p>
                            </div>
                            <div class="pathway-step end red-flag">
                                <p><strong>Step 3:</strong> If signs of fetal hydrops are detected, <strong>Urgent Referral</strong> to a specialist in fetal medicine for assessment (e.g., intrauterine transfusion).</p>
                            </div>
                        </div>
                        
                        <div class="badge-group">
                            <span class="badge blue-neutral">&#128214; Referral Required: Fetal Medicine</span>
                            <span class="badge yellow-caution">&#9888; Peak Risk: Fetal loss highest before 20 weeks</span>
                        </div>
                    </section>
                    
                    <section id="follow-up">
                        <h2>âœ… Follow-up Steps</h2>
                        <p>For pregnant women with confirmed infection, monitoring should continue for 8â€“12 weeks after the onset of infection.</p>
                    </section>
                </div>
            </div>
            
        </article>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            
            // --- ACCORDION FUNCTIONALITY ---
            const accordionHeaders = document.querySelectorAll('.accordion-header');
            accordionHeaders.forEach(header => {
                header.addEventListener('click', () => {
                    const content = header.nextElementSibling;
                    const icon = header.querySelector('span'); // Assuming the icon is the single span
                    
                    // Toggle open/close state
                    const isOpen = content.classList.contains('open');
                    content.classList.toggle('open');
                    header.setAttribute('aria-expanded', !isOpen);
                    
                    // Toggle arrow direction (9660 is down, 9650 is up)
                    icon.innerHTML = isOpen ? '&#9660;' : '&#9650;'; 

                    // Close other open accordions (optional but helpful for focus)
                    accordionHeaders.forEach(otherHeader => {
                        if (otherHeader !== header && otherHeader.nextElementSibling.classList.contains('open')) {
                            otherHeader.nextElementSibling.classList.remove('open');
                            otherHeader.querySelector('span').innerHTML = '&#9660;';
                            otherHeader.setAttribute('aria-expanded', 'false');
                        }
                    });
                });
            });

            // --- TABS FUNCTIONALITY ---
            const tabButtons = document.querySelectorAll('.tab-button');
            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const targetId = button.getAttribute('data-tab');
                    const targetContent = document.getElementById(targetId);
                    
                    // Deactivate all
                    document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
                    document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));

                    // Activate current
                    button.classList.add('active');
                    targetContent.classList.add('active');
                });
            });

            // --- SMOOTH SCROLL FOR STICKY NAV ---
            document.querySelectorAll('#sticky-nav a').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    document.querySelector(targetId).scrollIntoView({
                        behavior: 'smooth',
                        block: 'start' // Scroll to the top of the target section
                    });
                    // Update URL hash for sharing/bookmarking
                    window.history.pushState(null, '', targetId);
                });
            });

            // --- QUICK SEARCH/FILTER (Concept) ---
            const quickSearchInput = document.getElementById('quick-search');
            quickSearchInput.addEventListener('input', (e) => {
                const query = e.target.value.toLowerCase().trim();
                const contentSections = document.querySelectorAll('#content-area section');
                
                contentSections.forEach(section => {
                    const sectionText = section.textContent.toLowerCase();
                    
                    if (sectionText.includes(query) || query.length === 0) {
                        section.style.display = 'block';
                        section.style.opacity = 1;
                    } else {
                        section.style.opacity = 0;
                        // Use a slight delay to allow the fade-out effect if needed, 
                        // though simple display: none is faster for quick search.
                        section.style.display = 'none';
                    }
                });
            });
        });
    </script>
</body>
</html>