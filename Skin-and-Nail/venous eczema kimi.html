<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Venous Eczema & Lipodermatosclerosis - Interactive Pathway</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            color: #2d3748;
            line-height: 1.6;
        }

        .container {
            display: flex;
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            gap: 25px;
        }

        /* Progress Sidebar */
        .progress-sidebar {
            position: sticky;
            top: 20px;
            width: 280px;
            height: fit-content;
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            z-index: 100;
        }

        .progress-title {
            font-size: 1.2em;
            font-weight: 600;
            margin-bottom: 20px;
            color: #4a5568;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .progress-item {
            display: flex;
            align-items: center;
            padding: 12px;
            margin-bottom: 10px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            border-left: 4px solid transparent;
        }

        .progress-item.active {
            background: #e6f2ff;
            border-left-color: #3182ce;
            font-weight: 600;
        }

        .progress-item.completed {
            background: #f0fff4;
            border-left-color: #38a169;
        }

        .progress-item:hover {
            transform: translateX(5px);
            background: #edf2f7;
        }

        .progress-icon {
            width: 20px;
            margin-right: 12px;
            text-align: center;
        }

        .progress-bar {
            height: 4px;
            background: #e2e8f0;
            border-radius: 2px;
            margin-top: 20px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #3182ce, #38a169);
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 2px;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            padding: 20px 0;
        }

        .page-title {
            text-align: center;
            margin-bottom: 40px;
            color: #2d3748;
            font-size: 2.2em;
            font-weight: 700;
        }

        .card {
            background: white;
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            opacity: 0;
            transform: translateY(30px);
            border-top: 6px solid;
        }

        .card.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }

        .card-header {
            display: flex;
            align-items: center;
            margin-bottom: 25px;
            cursor: pointer;
            user-select: none;
        }

        .card-icon {
            font-size: 2.2em;
            margin-right: 20px;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 12px;
            color: white;
        }

        .card-title {
            font-size: 1.6em;
            font-weight: 700;
            flex: 1;
        }

        .expand-icon {
            font-size: 1.4em;
            transition: transform 0.4s ease;
            color: #718096;
        }

        .expand-icon.rotated {
            transform: rotate(180deg);
        }

        /* Card-specific colors */
        .assessment-card {
            border-top-color: #3182ce;
        }

        .assessment-card .card-icon {
            background: #3182ce;
        }

        .diagnosis-card {
            border-top-color: #805ad5;
        }

        .diagnosis-card .card-icon {
            background: #805ad5;
        }

        .treatment-card {
            border-top-color: #38a169;
        }

        .treatment-card .card-icon {
            background: #38a169;
        }

        .followup-card {
            border-top-color: #dd6b20;
        }

        .followup-card .card-icon {
            background: #dd6b20;
        }

        .card-body {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease, padding 0.5s ease;
        }

        .card-body.expanded {
            max-height: 2000px;
            padding-top: 20px;
        }

        .section {
            margin-bottom: 25px;
            padding: 20px;
            background: #f7fafc;
            border-radius: 10px;
            border-left: 4px solid #cbd5e0;
            transition: all 0.3s ease;
        }

        .section:hover {
            background: #edf2f7;
            transform: translateX(5px);
        }

        .section-title {
            font-size: 1.2em;
            font-weight: 600;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-content {
            color: #4a5568;
        }

        .section-content ul {
            margin-left: 20px;
            margin-top: 10px;
        }

        .section-content li {
            margin-bottom: 8px;
        }

        .badge {
            display: inline-flex;
            align-items: center;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
            margin: 5px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .badge-red {
            background: #fed7d7;
            color: #c53030;
            border: 1px solid #feb2b2;
        }

        .badge-amber {
            background: #fef5e7;
            color: #c05621;
            border: 1px solid #fbd38d;
        }

        .badge-green {
            background: #f0fff4;
            color: #276749;
            border: 1px solid #9ae6b4;
        }

        .action-box {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .action-title {
            font-weight: 600;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .abpi-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .abpi-box {
            padding: 15px;
            border-radius: 10px;
            border: 1px solid;
            transition: transform 0.3s ease;
        }

        .abpi-box:hover {
            transform: scale(1.02);
        }

        .abpi-red {
            background: #fff5f5;
            border-color: #feb2b2;
        }

        .abpi-amber {
            background: #fffaf0;
            border-color: #fbd38d;
        }

        .abpi-green {
            background: #f0fff4;
            border-color: #9ae6b4;
        }

        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }
            
            .progress-sidebar {
                position: relative;
                width: 100%;
                top: 0;
            }
            
            .page-title {
                font-size: 1.8em;
            }
            
            .card {
                padding: 20px;
            }
        }

        .fade-in {
            animation: fadeIn 0.6s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(56, 161, 105, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(56, 161, 105, 0); }
            100% { box-shadow: 0 0 0 0 rgba(56, 161, 105, 0); }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Progress Sidebar -->
        <div class="progress-sidebar">
            <div class="progress-title">
                <i class="fas fa-route"></i>
                Pathway Progress
            </div>
            <div class="progress-item active" data-step="0">
                <div class="progress-icon"><i class="fas fa-clipboard-check"></i></div>
                <span>Assessment</span>
            </div>
            <div class="progress-item" data-step="1">
                <div class="progress-icon"><i class="fas fa-search"></i></div>
                <span>Diagnosis</span>
            </div>
            <div class="progress-item" data-step="2">
                <div class="progress-icon"><i class="fas fa-pills"></i></div>
                <span>Treatment</span>
            </div>
            <div class="progress-item" data-step="3">
                <div class="progress-icon"><i class="fas fa-calendar-check"></i></div>
                <span>Follow-up</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <h1 class="page-title fade-in">
                <i class="fas fa-procedures"></i>
                Venous Eczema & Lipodermatosclerosis
            </h1>

            <!-- Assessment Card -->
            <div class="card assessment-card fade-in">
                <div class="card-header" onclick="toggleCard(this)">
                    <div class="card-icon"><i class="fas fa-clipboard-check"></i></div>
                    <div class="card-title">Assessment</div>
                    <div class="expand-icon"><i class="fas fa-chevron-down"></i></div>
                </div>
                <div class="card-body">
                    <div class="section">
                        <div class="section-title">
                            <i class="fas fa-history"></i>
                            History Taking
                        </div>
                        <div class="section-content">
                            <ul>
                                <li>Symptoms of venous insufficiency: pain, heavy legs, fatigue, itching, swelling, aching</li>
                                <li>Symptoms worsen at end of day, relieve with leg elevation</li>
                                <li>Risk factors: immobility, previous DVT, trauma, obesity, family history</li>
                                <li>History of varicose veins, cellulitis, or venous leg ulcers</li>
                            </ul>
                        </div>
                    </div>

                    <div class="section">
                        <div class="section-title">
                            <i class="fas fa-eye"></i>
                            Physical Examination
                        </div>
                        <div class="section-content">
                            <ul>
                                <li><strong>Skin changes:</strong> hyperpigmentation, red itchy scaly skin, hardened tissue</li>
                                <li><strong>Lipodermatosclerosis:</strong> painful, tight, "inverted champagne bottle" appearance</li>
                                <li><strong>Atrophie blanche:</strong> ivory-white atrophic plaques with red spots</li>
                                <li><strong>Varicose veins:</strong> examine standing and lying</li>
                                <li><strong>Oedema:</strong> usually unilateral pitting, exclude cardiac/renal causes</li>
                                <li>Check for infection and ulceration</li>
                            </ul>
                        </div>
                    </div>

                    <div class="section">
                        <div class="section-title">
                            <i class="fas fa-ruler"></i>
                            Ankle Brachial Pressure Index (ABPI)
                        </div>
                        <div class="section-content">
                            <p class="badge badge-amber"><i class="fas fa-exclamation-triangle"></i> ESSENTIAL before compression therapy</p>
                            <div class="abpi-grid">
                                <div class="abpi-box abpi-red">
                                    <div class="action-title"><i class="fas fa-times-circle"></i> ABPI &lt; 0.5</div>
                                    <p>Severe arterial insufficiency. <span class="badge badge-red">COMPRESSION CONTRAINDICATED</span></p>
                                    <p><strong>Action:</strong> Urgent vascular referral</p>
                                </div>
                                <div class="abpi-box abpi-amber">
                                    <div class="action-title"><i class="fas fa-exclamation-triangle"></i> ABPI 0.5 - 0.8</div>
                                    <p>Arterial/mixed disease likely. <span class="badge badge-amber">CAUTION</span></p>
                                    <p><strong>Action:</strong> Specialist advice, reduced compression only</p>
                                </div>
                                <div class="abpi-box abpi-green">
                                    <div class="action-title"><i class="fas fa-check-circle"></i> ABPI 0.8 - 1.3</div>
                                    <p>Arterial disease unlikely. <span class="badge badge-green">SAFE FOR COMPRESSION</span></p>
                                    <p><strong>Action:</strong> Standard compression can be initiated</p>
                                </div>
                                <div class="abpi-box abpi-amber">
                                    <div class="action-title"><i class="fas fa-question-circle"></i> ABPI &gt; 1.3</div>
                                    <p>Possible arterial calcification. <span class="badge badge-amber">SPECIALIST ASSESSMENT</span></p>
                                    <p><strong>Action:</strong> Vascular referral (common in diabetes, renal failure)</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Diagnosis Card -->
            <div class="card diagnosis-card fade-in">
                <div class="card-header" onclick="toggleCard(this)">
                    <div class="card-icon"><i class="fas fa-search"></i></div>
                    <div class="card-title">Diagnosis</div>
                    <div class="expand-icon"><i class="fas fa-chevron-down"></i></div>
                </div>
                <div class="card-body">
                    <div class="section">
                        <div class="section-title">
                            <i class="fas fa-diagnoses"></i>
                            Clinical Diagnosis
                        </div>
                        <div class="section-content">
                            <p>Diagnosis is clinical based on characteristic skin changes in context of chronic venous insufficiency:</p>
                            <ul>
                                <li><strong>Venous eczema:</strong> Inflammatory, itchy, scaly skin on lower legs</li>
                                <li><strong>Acute lipodermatosclerosis:</strong> Painful inflammation above ankle (may mimic cellulitis)</li>
                                <li><strong>Chronic lipodermatosclerosis:</strong> Hardened, fibrotic skin with characteristic shape change</li>
                            </ul>
                        </div>
                    </div>

                    <div class="section">
                        <div class="section-title">
                            <i class="fas fa-microscope"></i>
                            Differential Diagnosis
                        </div>
                        <div class="section-content">
                            <ul>
                                <li>Cellulitis <span class="badge badge-amber">May coexist - consider swab</span></li>
                                <li>Contact dermatitis (topical treatments) <span class="badge badge-amber">Consider patch testing</span></li>
                                <li>Atopic eczema</li>
                                <li>Superficial thrombophlebitis</li>
                            </ul>
                        </div>
                    </div>

                    <div class="section">
                        <div class="section-title">
                            <i class="fas fa-layer-group"></i>
                            Severity Indicators
                        </div>
                        <div class="section-content">
                            <span class="badge badge-green"><i class="fas fa-band-aid"></i> Mild: Localized eczema, no ulceration</span>
                            <span class="badge badge-amber"><i class="fas fa-exclamation"></i> Moderate: Extensive eczema, early skin changes</span>
                            <span class="badge badge-red"><i class="fas fa-ambulance"></i> Severe: Lipodermatosclerosis, ulceration, infection</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Treatment Card -->
            <div class="card treatment-card fade-in">
                <div class="card-header" onclick="toggleCard(this)">
                    <div class="card-icon"><i class="fas fa-pills"></i></div>
                    <div class="card-title">Treatment</div>
                    <div class="expand-icon"><i class="fas fa-chevron-down"></i></div>
                </div>
                <div class="card-body">
                    <div class="action-box">
                        <div class="action-title">
                            <i class="fas fa-exclamation-circle"></i>
                            Pre-Treatment Checklist
                        </div>
                        <p>Ensure ABPI measured and arterial disease excluded before compression</p>
                    </div>

                    <div class="section">
                        <div class="section-title">
                            <i class="fas fa-pump-soap"></i>
                            Emollient Therapy
                        </div>
                        <div class="section-content">
                            <p class="badge badge-green"><i class="fas fa-clock"></i> Apply at least twice daily</p>
                            <ul>
                                <li>Regular emollient use is foundation of treatment</li>
                                <li>Apply in downward strokes in direction of hair growth</li>
                                <li>Choose fragrance-free, hypoallergenic preparations</li>
                                <li>Avoid applying between toes (maceration risk)</li>
                            </ul>
                        </div>
                    </div>

                    <div class="section">
                        <div class="section-title">
                            <i class="fas fa-prescription-bottle-alt"></i>
                            Topical Corticosteroids
                        </div>
                        <div class="section-content">
                            <p>Use for flare management:</p>
                            <ul>
                                <li><strong>Venous eczema flares:</strong> Potent topical steroid (e.g., betamethasone valerate)</li>
                                <li><strong>Lipodermatosclerosis flares:</strong> <span class="badge badge-amber">Very potent steroid may be required</span></li>
                                <li>Apply once daily during flares, review after 1-2 weeks</li>
                                <li>Avoid prolonged continuous use (skin atrophy risk)</li>
                            </ul>
                        </div>
                    </div>

                    <div class="section">
                        <div class="section-title">
                            <i class="fas fa-socks"></i>
                            Compression Therapy
                        </div>
                        <div class="section-content">
                            <p class="badge badge-green"><i class="fas fa-check"></i> First-line for venous hypertension</p>
                            <ul>
                                <li><strong>Class 2 (medium):</strong> Suitable for most patients</li>
                                <li><strong>Class 1 (light):</strong> If Class 2 not tolerated</li>
                                <li><strong>Class 3 (strong):</strong> For severe disease under supervision</li>
                                <li>Apply during day, remove at night</li>
                                <li>Replace every 3-6 months</li>
                            </ul>
                        </div>
                    </div>

                    <div class="section">
                        <div class="section-title">
                            <i class="fas fa-user-md"></i>
                            Referral Criteria
                        </div>
                        <div class="section-content">
                            <p class="badge badge-red"><i class="fas fa-ambulance"></i> Urgent Vascular Referral:</p>
                            <ul>
                                <li>ABPI &lt; 0.5 (severe arterial disease)</li>
                                <li>ABPI &gt; 1.5 (non-compressible vessels)</li>
                                <li>Varicose veins with skin changes</li>
                                <li>Active or healed venous leg ulcer</li>
                            </ul>
                            
                            <p class="badge badge-amber"><i class="fas fa-clinic-medical"></i> Dermatology Referral:</p>
                            <ul>
                                <li>Poor symptom control with primary care management</li>
                                <li>Suspected contact dermatitis (patch testing needed)</li>
                                <li>Diagnostic uncertainty</li>
                            </ul>
                        </div>
                    </div>

                    <div class="section">
                        <div class="section-title">
                            <i class="fas fa-heart"></i>
                            Self-Care & Lifestyle
                        </div>
                        <div class="section-content">
                            <ul>
                                <li><strong>Leg elevation:</strong> Above hip level when resting</li>
                                <li><strong>Exercise:</strong> Regular walking, calf raises</li>
                                <li><strong>Weight management:</strong> If overweight/obese</li>
                                <li><strong>Avoid:</strong> Prolonged standing, hot baths, scratching</li>
                                <li><strong>Skin care:</strong> Avoid injury, monitor for changes</li>
                            </ul>
                        </div>
                    </div>

                    <div class="section">
                        <div class="section-title">
                            <i class="fas fa-pain-killer"></i>
                            Complication Management
                        </div>
                        <div class="section-content">
                            <p><strong>Pain:</strong> Simple analgesia (paracetamol Â± codeine)</p>
                            <p><strong>Infection:</strong> 
                                <span class="badge badge-amber">Impetiginization</span> - topical antibiotics
                                <span class="badge badge-red">Cellulitis</span> - systemic antibiotics
                            </p>
                            <p><strong>Ulceration:</strong> <span class="badge badge-red">Urgent referral to leg ulcer service</span></p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Follow-up Card -->
            <div class="card followup-card fade-in">
                <div class="card-header" onclick="toggleCard(this)">
                    <div class="card-icon"><i class="fas fa-calendar-check"></i></div>
                    <div class="card-title">Follow-up & Monitoring</div>
                    <div class="expand-icon"><i class="fas fa-chevron-down"></i></div>
                </div>
                <div class="card-body">
                    <div class="section">
                        <div class="section-title">
                            <i class="fas fa-chart-line"></i>
                            Monitoring Schedule
                        </div>
                        <div class="section-content">
                            <ul>
                                <li><strong>Initial review:</strong> 2-4 weeks after treatment start</li>
                                <li><strong>Stable patients:</strong> 3-6 monthly review</li>
                                <li><strong>During flares:</strong> Weekly review until controlled</li>
                                <li><strong>ABPI:</strong> Repeat annually or if symptoms change</li>
                            </ul>
                        </div>
                    </div>

                    <div class="section">
                        <div class="section-title">
                            <i class="fas fa-shield-alt"></i>
                            Complication Watch
                        </div>
                        <div class="section-content">
                            <p class="badge badge-red"><i class="fas fa-exclamation-triangle"></i> Red Flags - Refer urgently:</p>
                            <ul>
                                <li>Rapid onset severe pain</li>
                                <li>Spreading redness, fever (possible cellulitis)</li>
                                <li>New ulceration or rapid deterioration</li>
                                <li>Signs of arterial insufficiency (cold, pale foot)</li>
                            </ul>
                        </div>
                    </div>

                    <div class="section">
                        <div class="section-title">
                            <i class="fas fa-user-friends"></i>
                            Patient Education Points
                        </div>
                        <div class="section-content">
                            <ul>
                                <li>Chronic condition requiring lifelong management</li>
                                <li>Importance of daily emollient use</li>
                                <li>Compression therapy benefits and correct application</li>
                                <li>When to seek medical attention</li>
                                <li>Provide written information: NHS website, BAD leaflets</li>
                            </ul>
                        </div>
                    </div>

                    <div class="section">
                        <div class="section-title">
                            <i class="fas fa-prognosis"></i>
                            Prognosis
                        </div>
                        <div class="section-content">
                            <p class="badge badge-amber"><i class="fas fa-info-circle"></i> Progressive but not limb-threatening</p>
                            <ul>
                                <li>Cannot be cured but can be managed</li>
                                <li>Treatment improves symptoms and slows progression</li>
                                <li>Conditions are chronic and recurring</li>
                                <li>Poorer prognosis with ulceration or arterial insufficiency</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Track progress and interactions
        let currentStep = 0;
        const totalSteps = 4;

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            // Reveal cards with staggered animation
            setTimeout(() => {
                document.querySelectorAll('.card').forEach((card, index) => {
                    setTimeout(() => {
                        card.classList.add('visible');
                    }, index * 200);
                });
            }, 100);

            // Set up scroll listener
            window.addEventListener('scroll', handleScroll);
            
            // Set up progress sidebar clicks
            document.querySelectorAll('.progress-item').forEach((item, index) => {
                item.addEventListener('click', () => scrollToCard(index));
            });

            // Auto-expand first card
            const firstCardHeader = document.querySelector('.assessment-card .card-header');
            if (firstCardHeader) {
                setTimeout(() => toggleCard(firstCardHeader), 800);
            }

            updateProgress();
        });

        function toggleCard(header) {
            const cardBody = header.nextElementSibling;
            const expandIcon = header.querySelector('.expand-icon');
            const isExpanded = cardBody.classList.contains('expanded');
            
            // Close all other cards
            document.querySelectorAll('.card-body.expanded').forEach(body => {
                if (body !== cardBody) {
                    body.classList.remove('expanded');
                    body.previousElementSibling.querySelector('.expand-icon').classList.remove('rotated');
                }
            });
            
            // Toggle current card
            if (isExpanded) {
                cardBody.classList.remove('expanded');
                expandIcon.classList.remove('rotated');
            } else {
                cardBody.classList.add('expanded');
                expandIcon.classList.add('rotated');
                
                // Add pulse effect to important badges
                setTimeout(() => {
                    const badges = cardBody.querySelectorAll('.badge-red, .badge-amber');
                    badges.forEach((badge, i) => {
                        setTimeout(() => {
                            badge.classList.add('pulse');
                            setTimeout(() => badge.classList.remove('pulse'), 2000);
                        }, i * 300);
                    });
                }, 300);
            }
        }

        function handleScroll() {
            const cards = document.querySelectorAll('.card');
            const scrollPosition = window.scrollY + 200;
            
            cards.forEach((card, index) => {
                const cardTop = card.offsetTop;
                const cardBottom = cardTop + card.offsetHeight;
                
                if (scrollPosition >= cardTop && scrollPosition <= cardBottom) {
                    if (currentStep !== index) {
                        currentStep = index;
                        updateProgress();
                        updateActiveCard(index);
                    }
                }
            });
        }

        function updateProgress() {
            const progressPercentage = ((currentStep + 1) / totalSteps) * 100;
            const progressFill = document.getElementById('progressFill');
            const progressItems = document.querySelectorAll('.progress-item');
            
            progressFill.style.width = progressPercentage + '%';
            
            progressItems.forEach((item, index) => {
                item.classList.remove('active', 'completed');
                if (index === currentStep) {
                    item.classList.add('active');
                } else if (index < currentStep) {
                    item.classList.add('completed');
                }
            });
        }

        function updateActiveCard(index) {
            const cards = document.querySelectorAll('.card');
            cards.forEach((card, i) => {
                if (i === index) {
                    card.style.transform = 'scale(1.01)';
                    card.style.boxShadow = '0 10px 25px rgba(0,0,0,0.15)';
                } else {
                    card.style.transform = '';
                    card.style.boxShadow = '';
                }
            });
        }

        function scrollToCard(index) {
            const targetCard = document.querySelectorAll('.card')[index];
            if (targetCard) {
                targetCard.scrollIntoView({ 
                    behavior: 'smooth', 
                    block: 'start',
                    inline: 'nearest'
                });
                
                // Auto-expand target card
                setTimeout(() => {
                    const header = targetCard.querySelector('.card-header');
                    if (!targetCard.querySelector('.card-body.expanded')) {
                        toggleCard(header);
                    }
                }, 600);
            }
        }

        // Add hover effects for sections
        document.querySelectorAll('.section').forEach(section => {
            section.addEventListener('mouseenter', function() {
                this.style.borderLeftColor = '#3182ce';
            });
            section.addEventListener('mouseleave', function() {
                this.style.borderLeftColor = '#cbd5e0';
            });
        });

        // Smooth scroll for all internal links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth' });
                }
            });
        });
    </script>
</body>
</html>