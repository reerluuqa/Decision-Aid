<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tonsillitis Quick Reference</title>
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    
    <style>
        :root {
            /* Clinical Color Palette */
            --primary-red: #D32F2F;       /* Emergency / Red Flags */
            --primary-orange: #F57C00;    /* Warning / Caution */
            --primary-green: #2E7D32;     /* Safe / Positive / Action */
            --primary-blue: #1565C0;      /* Standard Info / Protocol */
            --neutral-bg: #F4F6F8;
            --card-bg: #FFFFFF;
            --text-main: #263238;
            --text-muted: #607D8B;
            
            /* Spacing & Radius */
            --radius-md: 8px;
            --radius-lg: 12px;
            --shadow: 0 4px 6px rgba(0,0,0,0.05), 0 1px 3px rgba(0,0,0,0.1);
            --shadow-hover: 0 10px 15px rgba(0,0,0,0.1);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--neutral-bg);
            color: var(--text-main);
            line-height: 1.5;
            -webkit-font-smoothing: antialiased;
        }

        /* --- Layout --- */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
            padding-bottom: 16px;
            border-bottom: 2px solid #E0E0E0;
        }

        h1 {
            font-size: 1.8rem;
            color: var(--primary-blue);
            font-weight: 800;
        }

        .subtitle {
            font-size: 0.9rem;
            color: var(--text-muted);
            font-weight: 500;
        }

        /* --- Grid System --- */
        .main-grid {
            display: grid;
            grid-template-columns: 1fr 1fr; /* Two columns */
            gap: 24px;
        }

        @media (max-width: 900px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
        }

        /* --- Cards & Sections --- */
        .card {
            background: var(--card-bg);
            border-radius: var(--radius-lg);
            padding: 20px;
            box-shadow: var(--shadow);
            margin-bottom: 20px;
            transition: transform 0.2s, box-shadow 0.2s;
            border-left: 4px solid transparent;
        }

        .card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-hover);
        }

        .card-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
            font-weight: 700;
            font-size: 1.1rem;
        }

        .card-body {
            font-size: 0.95rem;
        }

        /* --- Visual Styles by Severity --- */
        .border-red { border-left-color: var(--primary-red); }
        .border-green { border-left-color: var(--primary-green); }
        .border-blue { border-left-color: var(--primary-blue); }
        .border-orange { border-left-color: var(--primary-orange); }

        .text-red { color: var(--primary-red); }
        .text-green { color: var(--primary-green); }
        .text-blue { color: var(--primary-blue); }
        .text-orange { color: var(--primary-orange); }
        .text-muted { color: var(--text-muted); }

        /* --- Emergency Section --- */
        .emergency-banner {
            background-color: #FFEBEE;
            border: 1px solid #FFCDD2;
            border-radius: var(--radius-lg);
            padding: 20px;
            margin-bottom: 30px;
            animation: pulse-red 2s infinite;
        }

        @keyframes pulse-red {
            0% { box-shadow: 0 0 0 0 rgba(211, 47, 47, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(211, 47, 47, 0); }
            100% { box-shadow: 0 0 0 0 rgba(211, 47, 47, 0); }
        }

        .emergency-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 16px;
            margin-top: 16px;
        }

        .emergency-item {
            background: white;
            padding: 15px;
            border-radius: var(--radius-md);
            border-left: 4px solid var(--primary-red);
        }

        .emergency-item h4 {
            color: var(--primary-red);
            margin-bottom: 6px;
        }

        /* --- Interactive Calculator --- */
        .centor-checklist {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            padding: 10px;
            background: #FAFAFA;
            border: 1px solid #EEE;
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: all 0.2s;
        }

        .checkbox-group:hover {
            background: #F0F4F8;
            border-color: var(--primary-blue);
        }

        .checkbox-group input {
            margin-right: 12px;
            transform: scale(1.3);
            accent-color: var(--primary-blue);
        }

        .score-display {
            margin-top: 20px;
            padding: 15px;
            background: #E3F2FD;
            border-radius: var(--radius-md);
            text-align: center;
            font-weight: 700;
            color: var(--primary-blue);
            font-size: 1.2rem;
        }

        /* --- Tables --- */
        .info-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
        }

        .info-table th {
            text-align: left;
            padding: 12px;
            background-color: #F5F5F5;
            color: var(--text-muted);
            font-weight: 600;
        }

        .info-table td {
            padding: 12px;
            border-bottom: 1px solid #EEE;
        }

        .info-table tr:last-child td {
            border-bottom: none;
        }

        /* --- Badges & Chips --- */
        .badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
        }

        .badge-red { background: #FFEBEE; color: var(--primary-red); }
        .badge-green { background: #E8F5E9; color: var(--primary-green); }
        .badge-blue { background: #E3F2FD; color: var(--primary-blue); }

        /* --- Dosage Cards --- */
        .dosage-grid {
            display: grid;
            gap: 12px;
        }

        .drug-card {
            border: 1px solid #E0E0E0;
            border-radius: var(--radius-md);
            padding: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .drug-name {
            font-weight: 700;
            font-size: 1rem;
        }

        .drug-dose {
            color: var(--primary-blue);
            font-weight: 600;
            font-size: 1.1rem;
        }

        .drug-note {
            font-size: 0.8rem;
            color: var(--text-muted);
            margin-top: 4px;
        }

        /* --- Footer --- */
        footer {
            margin-top: 40px;
            text-align: center;
            font-size: 0.8rem;
            color: var(--text-muted);
            padding: 20px;
            border-top: 1px solid #EEE;
        }

        /* --- Tabs --- */
        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 16px;
        }

        .tab-btn {
            flex: 1;
            padding: 10px;
            border: none;
            background: #EEE;
            border-radius: var(--radius-md);
            cursor: pointer;
            font-weight: 600;
            color: var(--text-muted);
            transition: background 0.2s;
        }

        .tab-btn.active {
            background: var(--primary-blue);
            color: white;
        }
    </style>
</head>
<body>

<div class="container">

    <header>
        <div>
            <h1><i class="fa-solid fa-user-doctor"></i> Tonsillitis Quick Reference</h1>
            <div class="subtitle">BMJ Best Practice Summary • Last Updated: Apr 30, 2024</div>
        </div>
        <div style="text-align: right;">
            <div class="badge badge-blue" style="font-size: 1rem; padding: 6px 12px;">Clinical Tool</div>
        </div>
    </header>

    <!-- RED FLAGS / EMERGENCY SECTION -->
    <section class="emergency-banner" id="red-flags">
        <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 10px;">
            <i class="fa-solid fa-triangle-exclamation text-red" style="font-size: 2.5rem;"></i>
            <div>
                <h2 class="text-red" style="margin:0;">CRITICAL RED FLAGS</h2>
                <p style="margin:0; font-weight: 500;">Stop. Assess immediately. Do not examine throat if airway risk is suspected.</p>
            </div>
        </div>
        
        <div class="emergency-grid">
            <div class="emergency-item">
                <h4><i class="fa-solid fa-lungs"></i> Airway Obstruction</h4>
                <p>Stridor, difficulty breathing, inability to manage secretions, drooling.</p>
                <div class="text-red" style="margin-top:8px; font-weight:700;">ACTION: Admit for IV hydration/ABs & Airway visualization. Call Anaesthetist.</div>
            </div>
            <div class="emergency-item">
                <h4><i class="fa-solid fa-mask-face"></i> Suspected Epiglottitis</h4>
                <p>Muffled voice, toxic appearance, typically 2-6 yrs.</p>
                <div class="text-red" style="margin-top:8px; font-weight:700;">ACTION: <span style="text-decoration: underline;">DO NOT</span> examine throat. Refer to A&E immediately.</div>
            </div>
            <div class="emergency-item">
                <h4><i class="fa-solid fa-x-ray"></i> Deep Neck Infection</h4>
                <p>Severe trismus (lockjaw), unilateral neck swelling, deviation of uvula (Quinsy).</p>
                <div class="text-orange" style="margin-top:8px; font-weight:700;">ACTION: ENT referral. Consider CT/Lateral X-ray.</div>
            </div>
        </div>
    </section>

    <!-- MAIN CONTENT GRID -->
    <div class="main-grid">

        <!-- LEFT COLUMN: DIAGNOSIS -->
        <div class="column">
            
            <!-- Interactive Centor Calculator -->
            <section class="card border-blue">
                <div class="card-header text-blue">
                    <i class="fa-solid fa-clipboard-check"></i> GABHS Probability (Centor)
                </div>
                <div class="card-body">
                    <p class="text-muted" style="margin-bottom: 15px; font-size: 0.9rem;">
                        Centor Score (Age 15+). Used to determine likelihood of Group A Beta-Hemolytic Strep.
                    </p>
                    
                    <div class="centor-checklist">
                        <label class="checkbox-group">
                            <input type="checkbox" id="centor-fever" onchange="calculateCentor()">
                            <span>History of Fever > 38°C (100.5°F)</span>
                        </label>
                        <label class="checkbox-group">
                            <input type="checkbox" id="centor-exudate" onchange="calculateCentor()">
                            <span>Tonsillar Exudate or Swelling</span>
                        </label>
                        <label class="checkbox-group">
                            <input type="checkbox" id="centor-cough" onchange="calculateCentor()">
                            <span>Absence of Cough</span>
                        </label>
                        <label class="checkbox-group">
                            <input type="checkbox" id="centor-nodes" onchange="calculateCentor()">
                            <span>Tender Anterior Cervical Adenopathy</span>
                        </label>
                    </div>

                    <div id="score-result" class="score-display">
                        Score: 0 <br>
                        <span style="font-size: 0.9rem; font-weight: 400;">Probability: Low</span>
                    </div>
                </div>
            </section>

            <!-- Key Differentials -->
            <section class="card border-orange">
                <div class="card-header text-orange">
                    <i class="fa-solid fa-stethoscope"></i> Differentials Checklist
                </div>
                <div class="card-body">
                    <table class="info-table">
                        <thead>
                            <tr>
                                <th>Condition</th>
                                <th>Key Differentiator</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Mononucleosis</strong></td>
                                <td>Posterior nodes, fatigue, splenomegaly, negative Centor improvements. (Avoid Amoxicillin - causes rash).</td>
                            </tr>
                            <tr>
                                <td><strong>Gonococcal</strong></td>
                                <td>Sexually active adolescents. History of oral-genital sex.</td>
                            </tr>
                            <tr>
                                <td><strong>Diphtheria</strong></td>
                                <td>Grey-green membrane, serosanguineous nasal discharge, lack of immunization.</td>
                            </tr>
                            <tr>
                                <td><strong>Thrush</strong></td>
                                <td>White curd-like plaques, wipes off (often immunocompromised).</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Epidemiology / Theory -->
            <section class="card border-blue">
                <div class="card-header text-blue">
                    <i class="fa-solid fa-book-medical"></i> Fast Facts
                </div>
                <div class="card-body">
                    <ul style="list-style: none; padding: 0;">
                        <li style="margin-bottom: 10px;"><i class="fa-solid fa-bacteria text-blue"></i> <strong>Prevalence:</strong> Viral (most common). Bacterial (GAS) in 5-15% adults, 15-30% children.</li>
                        <li style="margin-bottom: 10px;"><i class="fa-solid fa-calendar text-blue"></i> <strong>Season:</strong> Winter/Early Spring.</li>
                        <li><i class="fa-solid fa-child-reaching text-blue"></i> <strong>Age:</strong> Most common 5-15 years.</li>
                    </ul>
                </div>
            </section>

        </div>

        <!-- RIGHT COLUMN: MANAGEMENT -->
        <div class="column">

            <!-- Management Approach -->
            <section class="card border-green">
                <div class="card-header text-green">
                    <i class="fa-solid fa-notes-medical"></i> Management Approach
                </div>
                <div class="card-body">
                    <div class="tabs">
                        <button class="tab-btn active" onclick="switchTab('acute')">Acute</button>
                        <button class="tab-btn" onclick="switchTab('recurrent')">Recurrent</button>
                    </div>

                    <!-- ACUTE TAB CONTENT -->
                    <div id="tab-acute">
                        <div style="margin-bottom: 15px;">
                            <div class="badge badge-green">Symptomatic Relief</div>
                            <p style="margin: 5px 0 10px 0;">Primary treatment for viral tonsillitis.</p>
                            
                            <div class="dosage-grid">
                                <div class="drug-card">
                                    <div>
                                        <div class="drug-name">Paracetamol</div>
                                        <div class="drug-note">10-15 mg/kg q4-6h</div>
                                    </div>
                                    <i class="fa-solid fa-capsules text-green"></i>
                                </div>
                                <div class="drug-card">
                                    <div>
                                        <div class="drug-name">Ibuprofen</div>
                                        <div class="drug-note">5-10 mg/kg q6-8h</div>
                                    </div>
                                    <i class="fa-solid fa-pills text-green"></i>
                                </div>
                            </div>
                        </div>

                        <div style="margin-top: 20px;">
                            <div class="badge badge-red">WARNING</div>
                            <div class="drug-card" style="border-left: 4px solid var(--primary-red);">
                                <div>
                                    <div class="drug-name text-red">NO ASPIRIN</div>
                                    <div class="drug-note">Contraindicated in children (<16 years) due to Reye's Syndrome.</div>
                                </div>
                                <i class="fa-solid fa-ban text-red"></i>
                            </div>
                        </div>

                        <div style="margin-top: 20px;">
                            <div class="badge badge-blue">Antibiotics (If GABHS Confirmed)</div>
                            <p style="margin: 5px 0 10px 0; font-size: 0.9rem;">First line: Phenoxymethylpenicillin (Oral) for 10 days.</p>
                            
                            <div class="dosage-grid">
                                <div class="drug-card">
                                    <div>
                                        <div class="drug-name">Phenoxymethylpenicillin</div>
                                        <div class="drug-dose">10 Days</div>
                                        <div class="drug-note">Adult: 500mg 2-3x/day</div>
                                    </div>
                                    <i class="fa-solid fa-prescription-bottle-medical text-blue"></i>
                                </div>
                                <div class="drug-card" style="opacity: 0.8;">
                                    <div>
                                        <div class="drug-name">Benzathine Penicillin</div>
                                        <div class="drug-dose">Single IM Dose</div>
                                        <div class="drug-note">If compliance issue</div>
                                    </div>
                                    <i class="fa-solid fa-syringe text-blue"></i>
                                </div>
                            </div>
                            
                            <div style="margin-top: 10px; font-size: 0.85rem; background: #E3F2FD; padding: 8px; border-radius: 4px;">
                                <strong>Penicillin Allergy?</strong> Use Macrolides (Azithromycin 5d, Clarithromycin 10d) or Cephalosporins.
                            </div>
                        </div>

                        <div style="margin-top: 20px;">
                            <div class="badge badge-orange">Adjuncts</div>
                            <div class="drug-card">
                                <div>
                                    <div class="drug-name">Dexamethasone</div>
                                    <div class="drug-note">Single dose (10mg IM/IV/PO) for severe pain in >12yrs.</div>
                                </div>
                                <i class="fa-solid fa-tablets text-orange"></i>
                            </div>
                        </div>
                    </div>

                    <!-- RECURRENT TAB CONTENT -->
                    <div id="tab-recurrent" style="display: none;">
                        <div class="drug-card" style="display: block; background: #E8F5E9; border-color: var(--primary-green);">
                            <div class="drug-name text-green"><i class="fa-solid fa-check"></i> Tonsillectomy Indications</div>
                            <p style="margin-top: 8px;">Consider if recurrent episodes do not decrease with time.</p>
                            <ul style="margin-top: 8px; margin-left: 20px; font-size: 0.9rem;">
                                <li>>7 episodes in past year</li>
                                <li>>5 episodes/year for past 2 years</li>
                                <li>>3 episodes/year for past 3 years</li>
                                <li>Obstructive Sleep Apnoea</li>
                                <li>PFAPA Syndrome</li>
                            </ul>
                        </div>
                        <p style="margin-top: 10px; font-size: 0.9rem; color: var(--text-muted);">
                            Note: Partial tonsillectomy may reduce post-op pain.
                        </p>
                    </div>

                </div>
            </section>

            <!-- Patient Advice / Safety Netting -->
            <section class="card border-blue">
                <div class="card-header text-blue">
                    <i class="fa-solid fa-comments"></i> Safety Netting
                </div>
                <div class="card-body">
                    <p style="margin-bottom: 8px;"><strong>Seek help if:</strong></p>
                    <ul style="margin-left: 20px; color: var(--text-main);">
                        <li>Symptoms worsen after 3-5 days</li>
                        <li>Inability to swallow fluids (dehydration risk)</li>
                        <li>Difficulty breathing or noisy breathing</li>
                        <li>Earache or rash develops</li>
                    </ul>
                </div>
            </section>

        </div>
    </div>

    <footer>
        <p>Source: BMJ Best Practice (Tonsillitis). For educational purposes only. Always follow local clinical guidelines.</p>
    </footer>

</div>

<script>
    // --- Centor Calculator Logic ---
    function calculateCentor() {
        // Get checkbox states
        const fever = document.getElementById('centor-fever').checked;
        const exudate = document.getElementById('centor-exudate').checked;
        const cough = document.getElementById('centor-cough').checked; // Absence of cough = 1 point
        const nodes = document.getElementById('centor-nodes').checked;

        // Calculate Score
        let score = 0;
        if (fever) score++;
        if (exudate) score++;
        if (cough) score++; // Because the checkbox says "Absence of Cough"
        if (nodes) score++;

        // Determine Output
        const display = document.getElementById('score-result');
        let probability = "";
        let colorClass = "";
        let recommendation = "";

        if (score <= 1) {
            probability = "Low (10%)";
            colorClass = "#2E7D32"; // Green
            recommendation = "Supportive care only. No ABs.";
        } else if (score === 2) {
            probability = "Intermediate (20-30%)";
            colorClass = "#F57C00"; // Orange
            recommendation = "Consider Rapid Strep Test / Throat Culture.";
        } else if (score >= 3) {
            probability = "High (40-60%)";
            colorClass = "#1565C0"; // Blue
            recommendation = "High Probability. Treat with Antibiotics if no culture available.";
        }

        // Update UI
        display.style.backgroundColor = colorClass + '20'; // 20 hex = low opacity background
        display.style.color = colorClass;
        display.style.border = `1px solid ${colorClass}`;
        
        display.innerHTML = `
            <div>Score: <span style="font-size:1.5rem">${score}</span> / 4</div>
            <div style="font-size: 0.9rem; margin-top:5px; font-weight:500;">${probability}</div>
            <div style="font-size: 0.85rem; margin-top:8px; font-weight:400;">${recommendation}</div>
        `;
    }

    // --- Tab Logic ---
    function switchTab(tabName) {
        // Hide all tabs
        document.getElementById('tab-acute').style.display = 'none';
        document.getElementById('tab-recurrent').style.display = 'none';

        // Remove active class from buttons
        const buttons = document.querySelectorAll('.tab-btn');
        buttons.forEach(btn => btn.classList.remove('active'));

        // Show selected tab
        document.getElementById('tab-' + tabName).style.display = 'block';

        // Add active class to clicked button (simple match based on text content for this prototype)
        const clickedBtn = Array.from(buttons).find(btn => btn.textContent.toLowerCase().includes(tabName));
        if(clickedBtn) clickedBtn.classList.add('active');
    }

    // Initialize calculator on load
    window.onload = function() {
        calculateCentor();
    };
</script>

</body>
</html>