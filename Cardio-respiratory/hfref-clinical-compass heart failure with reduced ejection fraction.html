<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HFrEF Clinical Compass - Quick Reference</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --red-600: #DC2626;
            --red-50: #FEF2F2;
            --red-100: #FEE2E2;
            --red-200: #FECACA;
            --green-600: #16A34A;
            --green-50: #F0FDF4;
            --green-100: #DCFCE7;
            --green-200: #BBF7D0;
            --blue-600: #2563EB;
            --blue-50: #EFF6FF;
            --blue-100: #DBEAFE;
            --blue-200: #BFDBFE;
            --slate-50: #F8FAFC;
            --slate-100: #F1F5F9;
            --slate-200: #E2E8F0;
            --slate-300: #CBD5E1;
            --slate-600: #475569;
            --slate-800: #1E293B;
            --white: #FFFFFF;
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: var(--slate-50);
            color: var(--slate-800);
            line-height: 1.5;
            font-size: 14px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 16px;
        }

        /* Header */
        .header {
            background: var(--white);
            border-bottom: 3px solid var(--blue-600);
            padding: 16px 24px;
            margin-bottom: 24px;
            border-radius: 12px;
            box-shadow: var(--shadow-md);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 16px;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .logo {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, var(--red-600), var(--red-200));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 20px;
        }

        .header h1 {
            font-size: 24px;
            font-weight: 700;
            color: var(--slate-800);
        }

        .header h1 span {
            color: var(--blue-600);
        }

        .header-subtitle {
            font-size: 13px;
            color: var(--slate-600);
            margin-top: 2px;
        }

        .definition-badge {
            background: var(--blue-100);
            border: 2px solid var(--blue-600);
            padding: 8px 16px;
            border-radius: 8px;
            font-weight: 600;
        }

        .definition-badge .value {
            color: var(--blue-600);
            font-size: 18px;
            font-weight: 700;
        }

        /* Navigation */
        .nav-tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 24px;
            flex-wrap: wrap;
        }

        .nav-tab {
            padding: 10px 20px;
            border-radius: 8px;
            border: none;
            background: var(--white);
            color: var(--slate-600);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            border: 1px solid var(--slate-200);
        }

        .nav-tab:hover {
            background: var(--slate-100);
            transform: translateY(-1px);
        }

        .nav-tab.active {
            background: var(--blue-600);
            color: white;
            border-color: var(--blue-600);
        }

        .nav-tab.emergency {
            border-color: var(--red-600);
            color: var(--red-600);
        }

        .nav-tab.emergency:hover, .nav-tab.emergency.active {
            background: var(--red-600);
            color: white;
        }

        /* Cards */
        .card {
            background: var(--white);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--slate-200);
            transition: all 0.3s ease;
        }

        .card:hover {
            box-shadow: var(--shadow-md);
            transform: translateY(-2px);
        }

        .card-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
            padding-bottom: 12px;
            border-bottom: 2px solid var(--slate-100);
        }

        .card-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .card-icon.red {
            background: var(--red-100);
            color: var(--red-600);
        }

        .card-icon.green {
            background: var(--green-100);
            color: var(--green-600);
        }

        .card-icon.blue {
            background: var(--blue-100);
            color: var(--blue-600);
        }

        .card-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--slate-800);
        }

        .card-subtitle {
            font-size: 12px;
            color: var(--slate-600);
            margin-top: 2px;
        }

        /* Emergency Banner */
        .emergency-banner {
            background: linear-gradient(135deg, var(--red-600), #B91C1C);
            color: white;
            padding: 20px 24px;
            border-radius: 12px;
            margin-bottom: 24px;
            display: flex;
            align-items: center;
            gap: 16px;
            box-shadow: var(--shadow-lg);
            animation: pulse-red 2s infinite;
        }

        @keyframes pulse-red {
            0%, 100% { box-shadow: 0 0 0 0 rgba(220, 38, 38, 0.4); }
            50% { box-shadow: 0 0 0 10px rgba(220, 38, 38, 0); }
        }

        .emergency-icon {
            font-size: 36px;
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.6; }
        }

        .emergency-content h2 {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 4px;
        }

        .emergency-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 8px;
            margin-top: 12px;
        }

        .emergency-item {
            display: flex;
            align-items: center;
            gap: 8px;
            background: rgba(255, 255, 255, 0.15);
            padding: 8px 12px;
            border-radius: 6px;
            font-weight: 600;
            font-size: 13px;
        }

        /* Grid Layout */
        .grid-2 {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }

        .grid-3 {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
        }

        @media (max-width: 1024px) {
            .grid-3 { grid-template-columns: repeat(2, 1fr); }
        }

        @media (max-width: 768px) {
            .grid-2, .grid-3 { grid-template-columns: 1fr; }
        }

        /* Tables */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 13px;
        }

        .data-table th {
            background: var(--slate-100);
            padding: 12px;
            text-align: left;
            font-weight: 600;
            color: var(--slate-600);
            border-bottom: 2px solid var(--slate-200);
        }

        .data-table td {
            padding: 10px 12px;
            border-bottom: 1px solid var(--slate-100);
            vertical-align: top;
        }

        .data-table tr {
            transition: background 0.2s ease;
        }

        .data-table tbody tr:hover {
            background: var(--slate-50);
        }

        .data-table .major {
            background: var(--red-50);
        }

        .data-table .major td:first-child {
            border-left: 3px solid var(--red-600);
        }

        .data-table .minor {
            background: var(--blue-50);
        }

        .data-table .minor td:first-child {
            border-left: 3px solid var(--blue-600);
        }

        /* Badges */
        .badge {
            display: inline-flex;
            align-items: center;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .badge-red {
            background: var(--red-100);
            color: var(--red-600);
        }

        .badge-green {
            background: var(--green-100);
            color: var(--green-600);
        }

        .badge-blue {
            background: var(--blue-100);
            color: var(--blue-600);
        }

        .badge-gray {
            background: var(--slate-100);
            color: var(--slate-600);
        }

        /* Pillars */
        .pillars-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 16px;
        }

        @media (max-width: 1024px) {
            .pillars-grid { grid-template-columns: repeat(2, 1fr); }
        }

        @media (max-width: 640px) {
            .pillars-grid { grid-template-columns: 1fr; }
        }

        .pillar-card {
            background: var(--white);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            border: 2px solid var(--green-200);
            transition: all 0.3s ease;
        }

        .pillar-card:hover {
            border-color: var(--green-600);
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
        }

        .pillar-icon {
            width: 56px;
            height: 56px;
            background: var(--green-100);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 12px;
            font-size: 24px;
            color: var(--green-600);
        }

        .pillar-name {
            font-weight: 700;
            font-size: 16px;
            color: var(--slate-800);
            margin-bottom: 8px;
        }

        .pillar-examples {
            font-size: 12px;
            color: var(--slate-600);
            line-height: 1.6;
        }

        .pillar-check {
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid var(--slate-100);
        }

        /* Checklist */
        .checklist {
            list-style: none;
        }

        .checklist li {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            padding: 10px 0;
            border-bottom: 1px solid var(--slate-100);
        }

        .checklist li:last-child {
            border-bottom: none;
        }

        .check-box {
            width: 20px;
            height: 20px;
            border: 2px solid var(--slate-300);
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            transition: all 0.2s ease;
        }

        .check-box:hover {
            border-color: var(--blue-600);
        }

        .check-box.checked {
            background: var(--green-600);
            border-color: var(--green-600);
            color: white;
        }

        /* Stage Cards */
        .stage-card {
            background: var(--white);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 12px;
            border-left: 4px solid var(--slate-300);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .stage-card:hover {
            transform: translateX(4px);
        }

        .stage-card.stage-a { border-left-color: var(--green-600); }
        .stage-card.stage-b { border-left-color: var(--blue-600); }
        .stage-card.stage-c { border-left-color: #F59E0B; }
        .stage-card.stage-d { border-left-color: var(--red-600); }

        .stage-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .stage-label {
            font-weight: 700;
            font-size: 16px;
        }

        .stage-desc {
            font-size: 13px;
            color: var(--slate-600);
            line-height: 1.5;
        }

        /* NYHA Grid */
        .nyha-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
        }

        @media (max-width: 1024px) {
            .nyha-grid { grid-template-columns: repeat(2, 1fr); }
        }

        @media (max-width: 640px) {
            .nyha-grid { grid-template-columns: 1fr; }
        }

        .nyha-card {
            background: var(--white);
            border-radius: 10px;
            padding: 16px;
            border: 2px solid var(--slate-200);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .nyha-card:hover {
            border-color: var(--blue-600);
        }

        .nyha-card.active {
            border-color: var(--blue-600);
            background: var(--blue-50);
        }

        .nyha-class {
            font-size: 24px;
            font-weight: 800;
            color: var(--blue-600);
        }

        .nyha-title {
            font-weight: 600;
            font-size: 14px;
            margin: 8px 0;
        }

        .nyha-desc {
            font-size: 12px;
            color: var(--slate-600);
            line-height: 1.5;
        }

        /* Precipitating Factors */
        .factor-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 12px;
        }

        .factor-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px;
            background: var(--slate-50);
            border-radius: 8px;
            font-size: 13px;
            font-weight: 500;
            transition: all 0.2s ease;
        }

        .factor-item:hover {
            background: var(--blue-50);
            transform: translateX(4px);
        }

        .factor-icon {
            font-size: 18px;
        }

        /* Action Cards */
        .action-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 16px;
        }

        .action-card {
            background: var(--white);
            border-radius: 12px;
            padding: 20px;
            border: 2px solid var(--slate-200);
            transition: all 0.3s ease;
        }

        .action-card:hover {
            border-color: var(--green-600);
            box-shadow: var(--shadow-md);
        }

        .action-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 12px;
        }

        .action-icon {
            width: 36px;
            height: 36px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }

        .action-icon.green { background: var(--green-100); color: var(--green-600); }
        .action-icon.red { background: var(--red-100); color: var(--red-600); }
        .action-icon.blue { background: var(--blue-100); color: var(--blue-600); }

        .action-title {
            font-weight: 700;
            font-size: 15px;
        }

        .action-list {
            font-size: 13px;
            color: var(--slate-600);
            line-height: 1.7;
        }

        /* Footer */
        .footer {
            background: var(--slate-800);
            color: var(--slate-300);
            padding: 24px;
            border-radius: 12px;
            margin-top: 32px;
            font-size: 12px;
        }

        .footer-disclaimer {
            background: rgba(255, 255, 255, 0.1);
            padding: 12px 16px;
            border-radius: 8px;
            margin-bottom: 16px;
            border-left: 3px solid var(--red-600);
        }

        .footer-ref {
            text-align: center;
            padding-top: 16px;
            border-top: 1px solid var(--slate-600);
        }

        /* Animations */
        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .slide-in {
            animation: slideIn 0.3s ease forwards;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        /* Responsive Adjustments */
        @media (max-width: 768px) {
            .header {
                flex-direction: column;
                text-align: center;
            }

            .header-left {
                flex-direction: column;
            }

            .emergency-banner {
                flex-direction: column;
                text-align: center;
            }

            .nav-tabs {
                justify-content: center;
            }
        }

        /* Tooltip */
        .tooltip {
            position: relative;
            cursor: help;
        }

        .tooltip::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: var(--slate-800);
            color: white;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 12px;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s ease;
            z-index: 100;
        }

        .tooltip:hover::after {
            opacity: 1;
        }

        /* Highlight Effect */
        .highlight {
            animation: highlight 0.5s ease;
        }

        @keyframes highlight {
            0%, 100% { background-color: transparent; }
            50% { background-color: var(--yellow-100); }
        }

        /* Section visibility */
        .section {
            display: none;
        }

        .section.active {
            display: block;
        }

        /* Framingham Counter */
        .framingham-counter {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 16px;
            background: var(--slate-100);
            border-radius: 10px;
            margin-bottom: 16px;
        }

        .counter-display {
            font-size: 28px;
            font-weight: 800;
        }

        .counter-display.positive { color: var(--green-600); }
        .counter-display.negative { color: var(--red-600); }

        .counter-labels {
            display: flex;
            gap: 16px;
        }

        .counter-label {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 13px;
        }

        .counter-label .dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
        }

        .counter-label .dot.major { background: var(--red-600); }
        .counter-label .dot.minor { background: var(--blue-600); }

        /* Drug Reference Table */
        .drug-table {
            font-size: 12px;
        }

        .drug-table th {
            background: var(--green-100);
            color: var(--green-600);
        }

        .drug-table .drug-class {
            font-weight: 600;
            color: var(--slate-800);
        }

        .drug-table .drug-example {
            color: var(--green-600);
            font-weight: 600;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header fade-in">
            <div class="header-left">
                <div class="logo">HF</div>
                <div>
                    <h1>HFrEF <span>Clinical Compass</span></h1>
                    <p class="header-subtitle">Heart Failure with Reduced Ejection Fraction - Quick Reference Guide</p>
                </div>
            </div>
            <div class="definition-badge">
                HFrEF Definition: <span class="value">LVEF ‚â§40%</span>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="nav-tabs fade-in">
            <button class="nav-tab active" data-section="overview">Overview</button>
            <button class="nav-tab" data-section="diagnosis">Diagnosis</button>
            <button class="nav-tab" data-section="treatment">Treatment</button>
            <button class="nav-tab emergency" data-section="redflags">üö® Red Flags</button>
            <button class="nav-tab" data-section="escalation">Escalation</button>
        </nav>

        <!-- Overview Section -->
        <section id="overview" class="section active">
            <!-- Emergency Banner -->
            <div class="emergency-banner slide-in">
                <div class="emergency-icon">‚ö†Ô∏è</div>
                <div class="emergency-content">
                    <h2>URGENT - Acute Decompensation?</h2>
                    <div class="emergency-list">
                        <div class="emergency-item">üöë Activate emergency protocols</div>
                        <div class="emergency-item">üíâ IV diuretics if volume overloaded</div>
                        <div class="emergency-item">ü´Ä Consider ICU admission</div>
                        <div class="emergency-item">üìû Cardiology consult urgent</div>
                    </div>
                </div>
            </div>

            <!-- Classification Cards -->
            <div class="grid-2 fade-in">
                <!-- NYHA Classification -->
                <div class="card">
                    <div class="card-header">
                        <div class="card-icon blue">üìä</div>
                        <div>
                            <h3 class="card-title">NYHA Functional Classification</h3>
                            <p class="card-subtitle">Click to view symptoms by class</p>
                        </div>
                    </div>
                    <div class="nyha-grid">
                        <div class="nyha-card" data-class="I" onclick="highlightNYHA('I')">
                            <div class="nyha-class">I</div>
                            <div class="nyha-title">Mild</div>
                            <div class="nyha-desc">No limitation. Ordinary activity doesn't cause symptoms.</div>
                        </div>
                        <div class="nyha-card" data-class="II" onclick="highlightNYHA('II')">
                            <div class="nyha-class">II</div>
                            <div class="nyha-title">Mild</div>
                            <div class="nyha-desc">Slight limitation. Comfortable at rest. Ordinary activity causes symptoms.</div>
                        </div>
                        <div class="nyha-card" data-class="III" onclick="highlightNYHA('III')">
                            <div class="nyha-class">III</div>
                            <div class="nyha-title">Moderate</div>
                            <div class="nyha-desc">Marked limitation. Comfortable at rest. Gentle activity causes symptoms.</div>
                        </div>
                        <div class="nyha-card" data-class="IV" onclick="highlightNYHA('IV')">
                            <div class="nyha-class">IV</div>
                            <div class="nyha-title">Severe</div>
                            <div class="nyha-desc">Unable to carry out any physical activity. Symptoms at rest.</div>
                        </div>
                    </div>
                </div>

                <!-- ACC/AHA Stages -->
                <div class="card">
                    <div class="card-header">
                        <div class="card-icon green">üéØ</div>
                        <div>
                            <h3 class="card-title">ACC/AHA Stages</h3>
                            <p class="card-subtitle">Disease progression stages</p>
                        </div>
                    </div>
                    <div class="stage-card stage-a">
                        <div class="stage-header">
                            <span class="stage-label">Stage A - At Risk</span>
                            <span class="badge badge-green">Prevention</span>
                        </div>
                        <div class="stage-desc">No symptoms/signs, but at risk (HTN, diabetes, CAD, family history)</div>
                    </div>
                    <div class="stage-card stage-b">
                        <div class="stage-header">
                            <span class="stage-label">Stage B - Pre-HF</span>
                            <span class="badge badge-blue">Structural</span>
                        </div>
                        <div class="stage-desc">Structural heart disease, abnormal function, or elevated biomarkers without symptoms</div>
                    </div>
                    <div class="stage-card stage-c">
                        <div class="stage-header">
                            <span class="stage-label">Stage C - Symptomatic</span>
                            <span class="badge badge-gray">Current/Prior Sx</span>
                        </div>
                        <div class="stage-desc">Current or prior symptoms of HF with structural abnormalities</div>
                    </div>
                    <div class="stage-card stage-d">
                        <div class="stage-header">
                            <span class="stage-label">Stage D - Advanced</span>
                            <span class="badge badge-red">Refractory</span>
                        </div>
                        <div class="stage-desc">Severe symptoms at rest despite maximal therapy. Requires advanced intervention.</div>
                    </div>
                </div>
            </div>

            <!-- Key Symptoms and Signs -->
            <div class="grid-2 fade-in">
                <div class="card">
                    <div class="card-header">
                        <div class="card-icon red">ü´Å</div>
                        <div>
                            <h3 class="card-title">Key Symptoms</h3>
                            <p class="card-subtitle">Primary presenting complaints</p>
                        </div>
                    </div>
                    <ul class="checklist">
                        <li><div class="check-box" onclick="toggleCheck(this)"></div><div><strong>Dyspnea</strong> - on exertion, at rest, or paroxysmal nocturnal</div></li>
                        <li><div class="check-box" onclick="toggleCheck(this)"></div><div><strong>Orthopnea</strong> - dyspnea when lying flat</div></li>
                        <li><div class="check-box" onclick="toggleCheck(this)"></div><div><strong>Fatigue</strong> - reduced exercise tolerance</div></li>
                        <li><div class="check-box" onclick="toggleCheck(this)"></div><div><strong>Peripheral edema</strong> - ankle swelling</div></li>
                        <li><div class="check-box" onclick="toggleCheck(this)"></div><div><strong>Weight gain</strong> - from fluid retention</div></li>
                        <li><div class="check-box" onclick="toggleCheck(this)"></div><div><strong>Nocturia</strong> - increased nighttime urination</div></li>
                    </ul>
                </div>

                <div class="card">
                    <div class="card-header">
                        <div class="card-icon blue">üëÇ</div>
                        <div>
                            <h3 class="card-title">Physical Exam Findings</h3>
                            <p class="card-subtitle">Framingham criteria components</p>
                        </div>
                    </div>
                    <div class="framingham-counter">
                        <div class="counter-display" id="framingham-count">0/2 Major</div>
                        <div class="counter-labels">
                            <div class="counter-label"><div class="dot major"></div>Major Criteria</div>
                            <div class="counter-label"><div class="dot minor"></div>Minor Criteria</div>
                        </div>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Finding</th>
                                <th>Type</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="major" onclick="toggleFramingham(this, 'major')">
                                <td>Rales (crackles)</td>
                                <td><span class="badge badge-red">Major</span></td>
                            </tr>
                            <tr class="major" onclick="toggleFramingham(this, 'major')">
                                <td>S3 Gallop</td>
                                <td><span class="badge badge-red">Major</span></td>
                            </tr>
                            <tr class="major" onclick="toggleFramingham(this, 'major')">
                                <td>Jugular Venous Distension</td>
                                <td><span class="badge badge-red">Major</span></td>
                            </tr>
                            <tr class="major" onclick="toggleFramingham(this, 'major')">
                                <td>Acute Pulmonary Edema</td>
                                <td><span class="badge badge-red">Major</span></td>
                            </tr>
                            <tr class="major" onclick="toggleFramingham(this, 'major')">
                                <td>Cardiomegaly</td>
                                <td><span class="badge badge-red">Major</span></td>
                            </tr>
                            <tr class="major" onclick="toggleFramingham(this, 'major')">
                                <td>Hepatojugular Reflux</td>
                                <td><span class="badge badge-red">Major</span></td>
                            </tr>
                            <tr class="minor" onclick="toggleFramingham(this, 'minor')">
                                <td>Ankle Edema</td>
                                <td><span class="badge badge-blue">Minor</span></td>
                            </tr>
                            <tr class="minor" onclick="toggleFramingham(this, 'minor')">
                                <td>Dyspnea on Exertion</td>
                                <td><span class="badge badge-blue">Minor</span></td>
                            </tr>
                            <tr class="minor" onclick="toggleFramingham(this, 'minor')">
                                <td>Hepatomegaly</td>
                                <td><span class="badge badge-blue">Minor</span></td>
                            </tr>
                            <tr class="minor" onclick="toggleFramingham(this, 'minor')">
                                <td>Tachycardia (>120 bpm)</td>
                                <td><span class="badge badge-blue">Minor</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Precipitating Factors -->
            <div class="card fade-in">
                <div class="card-header">
                    <div class="card-icon red">‚ö°</div>
                    <div>
                        <h3 class="card-title">Precipitating Factors - Look for & Address!</h3>
                        <p class="card-subtitle">Common triggers for acute decompensation</p>
                    </div>
                </div>
                <div class="factor-grid">
                    <div class="factor-item" onclick="highlightFactor(this)">
                        <span class="factor-icon">üíä</span>
                        <span>Medication non-adherence</span>
                    </div>
                    <div class="factor-item" onclick="highlightFactor(this)">
                        <span class="factor-icon">üßÇ</span>
                        <span>Excessive salt intake</span>
                    </div>
                    <div class="factor-item" onclick="highlightFactor(this)">
                        <span class="factor-icon">‚ù§Ô∏è</span>
                        <span>Acute coronary syndrome</span>
                    </div>
                    <div class="factor-item" onclick="highlightFactor(this)">
                        <span class="factor-icon">üíì</span>
                        <span>Atrial fibrillation/flutter</span>
                    </div>
                    <div class="factor-item" onclick="highlightFactor(this)">
                        <span class="factor-icon">ü©∏</span>
                        <span>Uncontrolled hypertension</span>
                    </div>
                    <div class="factor-item" onclick="highlightFactor(this)">
                        <span class="factor-icon">ü´Å</span>
                        <span>Pulmonary embolism</span>
                    </div>
                    <div class="factor-item" onclick="highlightFactor(this)">
                        <span class="factor-icon">ü§í</span>
                        <span>Infection/fever</span>
                    </div>
                    <div class="factor-item" onclick="highlightFactor(this)">
                        <span class="factor-icon">üç∫</span>
                        <span>Alcohol/drug misuse</span>
                    </div>
                    <div class="factor-item" onclick="highlightFactor(this)">
                        <span class="factor-icon">ü©∫</span>
                        <span>Renal dysfunction</span>
                    </div>
                    <div class="factor-item" onclick="highlightFactor(this)">
                        <span class="factor-icon">üíâ</span>
                        <span>Cardiotoxic chemotherapy</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Diagnosis Section -->
        <section id="diagnosis" class="section">
            <div class="grid-2 fade-in">
                <!-- Initial Investigations -->
                <div class="card">
                    <div class="card-header">
                        <div class="card-icon blue">üî¨</div>
                        <div>
                            <h3 class="card-title">Initial Investigations</h3>
                            <p class="card-subtitle">Essential tests for all suspected HFrEF</p>
                        </div>
                    </div>
                    <ul class="checklist">
                        <li><div class="check-box" onclick="toggleCheck(this)"></div><div><strong>Transthoracic Echo</strong> - LVEF, wall motion, valve assessment</div></li>
                        <li><div class="check-box" onclick="toggleCheck(this)"></div><div><strong>ECG</strong> - rhythm, ischemia, conduction</div></li>
                        <li><div class="check-box" onclick="toggleCheck(this)"></div><div><strong>BNP or NT-proBNP</strong> - natriuretic peptides</div></li>
                        <li><div class="check-box" onclick="toggleCheck(this)"></div><div><strong>Chest X-ray</strong> - congestion, cardiomegaly</div></li>
                        <li><div class="check-box" onclick="toggleCheck(this)"></div><div><strong>Complete Blood Count</strong> - anemia assessment</div></li>
                        <li><div class="check-box" onclick="toggleCheck(this)"></div><div><strong>U&E, Creatinine</strong> - renal function, electrolytes</div></li>
                        <li><div class="check-box" onclick="toggleCheck(this)"></div><div><strong>Liver Function Tests</strong> - congestion markers</div></li>
                        <li><div class="check-box" onclick="toggleCheck(this)"></div><div><strong>Thyroid Function</strong> - exclude thyroid disease</div></li>
                        <li><div class="check-box" onclick="toggleCheck(this)"></div><div><strong>Lipid Profile</strong> - cardiovascular risk</div></li>
                        <li><div class="check-box" onclick="toggleCheck(this)"></div><div><strong>HbA1c / Glucose</strong> - diabetes screening</div></li>
                    </ul>
                </div>

                <!-- Diagnostic Criteria Summary -->
                <div class="card">
                    <div class="card-header">
                        <div class="card-icon green">‚úì</div>
                        <div>
                            <h3 class="card-title">Diagnosis Summary</h3>
                            <p class="card-subtitle">Universal definition criteria</p>
                        </div>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Requirement</th>
                                <th>Criteria</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Symptoms/Signs</strong></td>
                                <td>Dyspnea, fatigue, fluid retention</td>
                            </tr>
                            <tr>
                                <td><strong>Cardiac Abnormality</strong></td>
                                <td>Structural and/or functional</td>
                            </tr>
                            <tr>
                                <td><strong>Objective Evidence</strong></td>
                                <td>Elevated natriuretic peptides OR pulmonary/systemic congestion</td>
                            </tr>
                            <tr>
                                <td><strong>LVEF Confirmation</strong></td>
                                <td>‚â§40% for HFrEF classification</td>
                            </tr>
                        </tbody>
                    </table>
                    <div style="margin-top: 16px; padding: 12px; background: var(--green-50); border-radius: 8px; border-left: 4px solid var(--green-600);">
                        <strong>üí° Key Point:</strong> Diagnosis requires BOTH symptoms/signs AND objective evidence of cardiac dysfunction. Echo is the gold standard for LVEF assessment.
                    </div>
                </div>
            </div>

            <!-- Differential Diagnosis -->
            <div class="card fade-in">
                <div class="card-header">
                    <div class="card-icon blue">üîç</div>
                    <div>
                        <h3 class="card-title">Differential Diagnosis</h3>
                        <p class="card-subtitle">Conditions to consider</p>
                    </div>
                </div>
                <div class="grid-3" style="gap: 16px;">
                    <div style="padding: 16px; background: var(--slate-50); border-radius: 8px;">
                        <h4 style="color: var(--slate-800); margin-bottom: 8px;">Respiratory</h4>
                        <ul style="font-size: 13px; color: var(--slate-600); padding-left: 16px;">
                            <li>COPD</li>
                            <li>Asthma</li>
                            <li>Pulmonary fibrosis</li>
                            <li>Pneumonia</li>
                            <li>Pulmonary embolism</li>
                        </ul>
                    </div>
                    <div style="padding: 16px; background: var(--slate-50); border-radius: 8px;">
                        <h4 style="color: var(--slate-800); margin-bottom: 8px;">Cardiac</h4>
                        <ul style="font-size: 13px; color: var(--slate-600); padding-left: 16px;">
                            <li>HFpEF (LVEF ‚â•50%)</li>
                            <li>HFmrEF (LVEF 41-49%)</li>
                            <li>Valvular heart disease</li>
                            <li>Constrictive pericarditis</li>
                            <li>Takotsubo cardiomyopathy</li>
                        </ul>
                    </div>
                    <div style="padding: 16px; background: var(--slate-50); border-radius: 8px;">
                        <h4 style="color: var(--slate-800); margin-bottom: 8px;">Other</h4>
                        <ul style="font-size: 13px; color: var(--slate-600); padding-left: 16px;">
                            <li>Anemia</li>
                            <li>Thyroid disease</li>
                            <li>Cirrhosis with ascites</li>
                            <li>Nephrotic syndrome</li>
                            <li>Medication side effects</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Treatment Section -->
        <section id="treatment" class="section">
            <!-- Four Pillars of GDMT -->
            <div class="card fade-in">
                <div class="card-header">
                    <div class="card-icon green">üíä</div>
                    <div>
                        <h3 class="card-title">Guideline-Directed Medical Therapy (GDMT)</h3>
                        <p class="card-subtitle">The 4 Pillars of HFrEF Treatment - Start and titrate to target doses</p>
                    </div>
                </div>
                <div class="pillars-grid">
                    <div class="pillar-card">
                        <div class="pillar-icon">ü´Ä</div>
                        <div class="pillar-name">ARNI / ACEi / ARB</div>
                        <div class="pillar-examples">
                            Sacubitril/Valsartan (Entresto)<br>
                            Enalapril, Lisinopril<br>
                            Losartan, Valsartan
                        </div>
                        <div class="pillar-check">
                            <span class="badge badge-green">1st Line</span>
                        </div>
                    </div>
                    <div class="pillar-card">
                        <div class="pillar-icon">üíì</div>
                        <div class="pillar-name">Beta-Blockers</div>
                        <div class="pillar-examples">
                            Carvedilol<br>
                            Bisoprolol<br>
                            Metoprolol succinate
                        </div>
                        <div class="pillar-check">
                            <span class="badge badge-green">1st Line</span>
                        </div>
                    </div>
                    <div class="pillar-card">
                        <div class="pillar-icon">üíß</div>
                        <div class="pillar-name">MRA</div>
                        <div class="pillar-examples">
                            Spironolactone<br>
                            Eplerenone
                        </div>
                        <div class="pillar-check">
                            <span class="badge badge-green">1st Line</span>
                        </div>
                    </div>
                    <div class="pillar-card">
                        <div class="pillar-icon">ü©∏</div>
                        <div class="pillar-name">SGLT2 Inhibitors</div>
                        <div class="pillar-examples">
                            Dapagliflozin<br>
                            Empagliflozin
                        </div>
                        <div class="pillar-check">
                            <span class="badge badge-green">1st Line</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Treatment Algorithm -->
            <div class="grid-2 fade-in">
                <!-- Diuretics -->
                <div class="card">
                    <div class="card-header">
                        <div class="card-icon blue">üíß</div>
                        <div>
                            <h3 class="card-title">Diuretics for Congestion</h3>
                            <p class="card-subtitle">Symptom management, not mortality benefit</p>
                        </div>
                    </div>
                    <table class="data-table drug-table">
                        <thead>
                            <tr>
                                <th>Agent</th>
                                <th>Typical Dose</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="drug-class">Furosemide</td>
                                <td>20-80 mg PO/IV daily</td>
                            </tr>
                            <tr>
                                <td class="drug-class">Bumetanide</td>
                                <td>0.5-2 mg PO/IV daily</td>
                            </tr>
                            <tr>
                                <td class="drug-class">Torsemide</td>
                                <td>10-40 mg PO daily</td>
                            </tr>
                            <tr>
                                <td class="drug-class">Metolazone</td>
                                <td>2.5-10 mg PO daily</td>
                            </tr>
                        </tbody>
                    </table>
                    <div style="margin-top: 12px; padding: 10px; background: var(--blue-50); border-radius: 6px; font-size: 12px;">
                        <strong>Tip:</strong> Add metolazone for diuretic resistance (very effective combination)
                    </div>
                </div>

                <!-- Device Therapy -->
                <div class="card">
                    <div class="card-header">
                        <div class="card-icon green">‚öôÔ∏è</div>
                        <div>
                            <h3 class="card-title">Device Therapy</h3>
                            <p class="card-subtitle">Consider in appropriate patients</p>
                        </div>
                    </div>
                    <div style="padding: 12px; background: var(--green-50); border-radius: 8px; margin-bottom: 12px;">
                        <strong style="color: var(--green-600);">ICD (Primary Prevention)</strong>
                        <p style="font-size: 13px; margin-top: 4px;">LVEF ‚â§35% on GDMT ‚â•3 months + NYHA II-III or post-MI ‚â•40 days</p>
                    </div>
                    <div style="padding: 12px; background: var(--blue-50); border-radius: 8px; margin-bottom: 12px;">
                        <strong style="color: var(--blue-600);">CRT (Cardiac Resynchronization)</strong>
                        <p style="font-size: 13px; margin-top: 4px;">QRS ‚â•150ms with LBBB morphology, LVEF ‚â§35%, sinus rhythm, NYHA II-IV on GDMT</p>
                    </div>
                    <div style="padding: 12px; background: var(--slate-50); border-radius: 8px;">
                        <strong style="color: var(--slate-600);">Advanced Options</strong>
                        <p style="font-size: 13px; margin-top: 4px;">LVAD, Heart Transplant for Stage D refractory HF</p>
                    </div>
                </div>
            </div>

            <!-- Lifestyle Modifications -->
            <div class="card fade-in">
                <div class="card-header">
                    <div class="card-icon green">üåø</div>
                    <div>
                        <h3 class="card-title">Lifestyle & Self-Management</h3>
                        <p class="card-subtitle">Essential patient education points</p>
                    </div>
                </div>
                <div class="action-grid">
                    <div class="action-card">
                        <div class="action-header">
                            <div class="action-icon green">üßÇ</div>
                            <span class="action-title">Sodium Restriction</span>
                        </div>
                        <ul class="action-list">
                            <li>‚Ä¢ Target: &lt;2g sodium/day (~5g salt)</li>
                            <li>‚Ä¢ Avoid processed foods</li>
                            <li>‚Ä¢ Read food labels carefully</li>
                        </ul>
                    </div>
                    <div class="action-card">
                        <div class="action-header">
                            <div class="action-icon green">üíß</div>
                            <span class="action-title">Fluid Management</span>
                        </div>
                        <ul class="action-list">
                            <li>‚Ä¢ Limit to 1.5-2L/day if hyponatremic</li>
                            <li>‚Ä¢ Daily weight monitoring</li>
                            <li>‚Ä¢ Report weight gain &gt;2kg in 3 days</li>
                        </ul>
                    </div>
                    <div class="action-card">
                        <div class="action-header">
                            <div class="action-icon green">üèÉ</div>
                            <span class="action-title">Exercise & Cardiac Rehab</span>
                        </div>
                        <ul class="action-list">
                            <li>‚Ä¢ Regular moderate exercise</li>
                            <li>‚Ä¢ Enroll in cardiac rehabilitation</li>
                            <li>‚Ä¢ Improves function and outcomes</li>
                        </ul>
                    </div>
                    <div class="action-card">
                        <div class="action-header">
                            <div class="action-icon red">üö´</div>
                            <span class="action-title">Avoid</span>
                        </div>
                        <ul class="action-list">
                            <li>‚Ä¢ NSAIDs (worsen HF)</li>
                            <li>‚Ä¢ Excess alcohol</li>
                            <li>‚Ä¢ Smoking</li>
                            <li>‚Ä¢ Valsartan-sartan combinations</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Red Flags Section -->
        <section id="redflags" class="section">
            <div class="emergency-banner slide-in" style="background: linear-gradient(135deg, #DC2626, #991B1B);">
                <div class="emergency-icon">üö®</div>
                <div class="emergency-content">
                    <h2>üö® EMERGENCY - IMMEDIATE ACTION REQUIRED</h2>
                    <p>These clinical scenarios require urgent intervention</p>
                </div>
            </div>

            <div class="grid-2 fade-in">
                <!-- Life-Threatening Conditions -->
                <div class="card" style="border: 3px solid var(--red-600);">
                    <div class="card-header">
                        <div class="card-icon red">üíÄ</div>
                        <div>
                            <h3 class="card-title">Life-Threatening Conditions</h3>
                            <p class="card-subtitle">Requires immediate intervention</p>
                        </div>
                    </div>
                    <ul class="checklist">
                        <li><div class="check-box" onclick="toggleCheck(this)"></div><div><strong>Acute Pulmonary Edema</strong> - severe respiratory distress, pink frothy sputum</div></li>
                        <li><div class="check-box" onclick="toggleCheck(this)"></div><div><strong>Cardiogenic Shock</strong> - SBP &lt;90mmHg, cold extremities, altered mental status</div></li>
                        <li><div class="check-box" onclick="toggleCheck(this)"></div><div><strong>Life-Threatening Arrhythmia</strong> - VT, VF, symptomatic bradycardia</div></li>
                        <li><div class="check-box" onclick="toggleCheck(this)"></div><div><strong>Massive Pulmonary Embolism</strong> - sudden collapse, hypoxia, right heart strain</div></li>
                        <li><div class="check-box" onclick="toggleCheck(this)"></div><div><strong>Acute Coronary Syndrome</strong> - chest pain, troponin elevation</div></li>
                    </ul>
                </div>

                <!-- Urgent Situations -->
                <div class="card" style="border: 3px solid #F59E0B;">
                    <div class="card-header">
                        <div class="card-icon" style="background: #FEF3C7; color: #D97706;">‚ö°</div>
                        <div>
                            <h3 class="card-title">Urgent Situations</h3>
                            <p class="card-subtitle">Requires prompt evaluation within hours</p>
                        </div>
                    </div>
                    <ul class="checklist">
                        <li><div class="check-box" onclick="toggleCheck(this)"></div><div><strong>Worsening Renal Function</strong> - rising creatinine on diuretics</div></li>
                        <li><div class="check-box" onclick="toggleCheck(this)"></div><div><strong>Severe Electrolyte Imbalance</strong> - K+ &lt;3.0 or &gt;5.5 mmol/L</div></li>
                        <li><div class="check-box" onclick="toggleCheck(this)"></div><div><strong>Refractory Congestion</strong> - persistent symptoms despite diuretics</div></li>
                        <li><div class="check-box" onclick="toggleCheck(this)"></div><div><strong>New-Onset Atrial Fibrillation</strong> - with rapid ventricular response</div></li>
                        <li><div class="check-box" onclick="toggleCheck(this)"></div><div><strong>Hypotension</strong> - SBP &lt;90mmHg on HF meds</div></li>
                    </ul>
                </div>
            </div>

            <!-- Emergency Management Flow -->
            <div class="card fade-in">
                <div class="card-header">
                    <div class="card-icon red">üìã</div>
                    <div>
                        <h3 class="card-title">Emergency Management Checklist</h3>
                        <p class="card-subtitle">Acute decompensated HF protocol</p>
                    </div>
                </div>
                <div class="grid-3" style="gap: 16px;">
                    <div style="padding: 16px; background: var(--red-50); border-radius: 8px; border-left: 4px solid var(--red-600);">
                        <h4 style="color: var(--red-600); margin-bottom: 12px;">üö® Immediate (0-1 hour)</h4>
                        <ul style="font-size: 13px; padding-left: 16px; line-height: 1.8;">
                            <li>ABC assessment</li>
                            <li>O2 to maintain SpO2 &gt;94%</li>
                            <li>IV access x2</li>
                            <li>Continuous cardiac monitoring</li>
                            <li>CXR, ECG, bloods urgently</li>
                        </ul>
                    </div>
                    <div style="padding: 16px; background: #FEF3C7; border-radius: 8px; border-left: 4px solid #D97706;">
                        <h4 style="color: #D97706; margin-bottom: 12px;">‚è∞ Early (1-6 hours)</h4>
                        <ul style="font-size: 13px; padding-left: 16px; line-height: 1.8;">
                            <li>IV Loop Diuretic</li>
                            <li>Consider nitroglycerin</li>
                            <li>CPAP/BiPAP if respiratory distress</li>
                            <li>Review for precipitating cause</li>
                            <li>Serial U&E monitoring</li>
                        </ul>
                    </div>
                    <div style="padding: 16px; background: var(--blue-50); border-radius: 8px; border-left: 4px solid var(--blue-600);">
                        <h4 style="color: var(--blue-600); margin-bottom: 12px;">üìÖ Ongoing</h4>
                        <ul style="font-size: 13px; padding-left: 16px; line-height: 1.8;">
                            <li>Optimize oral GDMT</li>
                            <li>Daily weights</li>
                            <li>Patient education</li>
                            <li>Early follow-up planning</li>
                            <li>Consider HF specialist referral</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Escalation Section -->
        <section id="escalation" class="section">
            <div class="card fade-in">
                <div class="card-header">
                    <div class="card-icon red">üè•</div>
                    <div>
                        <h3 class="card-title">When to Escalate / Refer</h3>
                        <p class="card-subtitle">Criteria for specialist referral and advanced therapies</p>
                    </div>
                </div>
                
                <div class="grid-2" style="gap: 16px; margin-bottom: 20px;">
                    <div style="padding: 16px; background: var(--red-50); border-radius: 8px; border: 2px solid var(--red-600);">
                        <h4 style="color: var(--red-600); margin-bottom: 8px;">üè• Hospital Admission Criteria</h4>
                        <ul style="font-size: 13px; padding-left: 16px; line-height: 1.8;">
                            <li>Acute pulmonary edema</li>
                            <li>Cardiogenic shock</li>
                            <li>Refractory congestion despite oral diuretics</li>
                            <li>Severe electrolyte disturbance</li>
                            <li>Acute coronary syndrome</li>
                            <li>Life-threatening arrhythmia</li>
                            <li>Syncope of cardiac origin</li>
                        </ul>
                    </div>
                    <div style="padding: 16px; background: var(--green-50); border-radius: 8px; border: 2px solid var(--green-600);">
                        <h4 style="color: var(--green-600); margin-bottom: 8px;">üë®‚Äç‚öïÔ∏è HF Specialist Referral</h4>
                        <ul style="font-size: 13px; padding-left: 16px; line-height: 1.8;">
                            <li>NYHA class III-IV symptoms despite GDMT</li>
                            <li>Recurrent hospitalizations (‚â•2/year)</li>
                            <li>Worsening renal function</li>
                            <li>Unexplained deterioration</li>
                            <li>Consideration for device therapy</li>
                            <li>Unexplained hypotension</li>
                            <li>Need for inotropic support</li>
                        </ul>
                    </div>
                </div>

                <!-- Advanced HF Criteria -->
                <div style="padding: 20px; background: linear-gradient(135deg, var(--slate-800), var(--slate-600)); border-radius: 12px; color: white;">
                    <h4 style="margin-bottom: 16px; font-size: 18px;">üéØ Advanced HF (Stage D) Criteria - Consider for Transplant/MCS</h4>
                    <div class="grid-3" style="gap: 16px;">
                        <div>
                            <h5 style="color: var(--red-200); margin-bottom: 8px;">Severe Symptoms</h5>
                            <ul style="font-size: 13px; padding-left: 16px; opacity: 0.9;">
                                <li>NYHA III-IV despite GDMT</li>
                                <li>Recurrent hospitalizations</li>
                            </ul>
                        </div>
                        <div>
                            <h5 style="color: var(--red-200); margin-bottom: 8px;">Severe Dysfunction</h5>
                            <ul style="font-size: 13px; padding-left: 16px; opacity: 0.9;">
                                <li>LVEF ‚â§30%</li>
                                <li>Persistently high BNP/NT-proBNP</li>
                                <li>Severe diastolic dysfunction</li>
                            </ul>
                        </div>
                        <div>
                            <h5 style="color: var(--red-200); margin-bottom: 8px;">Exercise Limitation</h5>
                            <ul style="font-size: 13px; padding-left: 16px; opacity: 0.9;">
                                <li>6-minute walk &lt;300m</li>
                                <li>Peak VO2 &lt;12-14 mL/kg/min</li>
                                <li>Inability to exercise</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Key Medications Reference -->
            <div class="card fade-in">
                <div class="card-header">
                    <div class="card-icon blue">üìñ</div>
                    <div>
                        <h3 class="card-title">Medication Quick Reference</h3>
                        <p class="card-subtitle">Target doses for HFrEF</p>
                    </div>
                </div>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Drug Class</th>
                            <th>Medication</th>
                            <th>Starting Dose</th>
                            <th>Target Dose</th>
                            <th>Key Monitoring</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="drug-class">ARNI</td>
                            <td class="drug-example">Sacubitril/Valsartan</td>
                            <td>24/26mg BID</td>
                            <td>97/103mg BID</td>
                            <td>K+, Cr, BP</td>
                        </tr>
                        <tr>
                            <td class="drug-class">ACE Inhibitor</td>
                            <td class="drug-example">Enalapril</td>
                            <td>2.5mg BID</td>
                            <td>10mg BID</td>
                            <td>K+, Cr, BP, cough</td>
                        </tr>
                        <tr>
                            <td class="drug-class">Beta-Blocker</td>
                            <td class="drug-example">Bisoprolol</td>
                            <td>1.25mg daily</td>
                            <td>10mg daily</td>
                            <td>HR, BP, fluid status</td>
                        </tr>
                        <tr>
                            <td class="drug-class">MRA</td>
                            <td class="drug-example">Spironolactone</td>
                            <td>12.5-25mg daily</td>
                            <td>25-50mg daily</td>
                            <td>K+, Cr, gynecomastia</td>
                        </tr>
                        <tr>
                            <td class="drug-class">SGLT2i</td>
                            <td class="drug-example">Dapagliflozin</td>
                            <td>10mg daily</td>
                            <td>10mg daily</td>
                            <td>Renal function, genital infections</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer fade-in">
            <div class="footer-disclaimer">
                <strong>‚ö†Ô∏è DISCLAIMER:</strong> This tool is for educational and reference purposes only. Clinical decisions should be based on individual patient assessment, current guidelines, and local protocols. Always verify medication doses and contraindications before prescribing.
            </div>
            <div class="footer-ref">
                <p>Based on ESC 2021, AHA/ACC/HFSA 2022 Guidelines | HFrEF Clinical Compass v1.0</p>
                <p style="margin-top: 8px; opacity: 0.7;">Last updated: January 2025 | For healthcare professionals</p>
            </div>
        </footer>
    </div>

    <script>
        // Navigation functionality
        document.querySelectorAll('.nav-tab').forEach(tab => {
            tab.addEventListener('click', function() {
                // Remove active class from all tabs and sections
                document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
                
                // Add active class to clicked tab and corresponding section
                this.classList.add('active');
                const sectionId = this.getAttribute('data-section');
                document.getElementById(sectionId).classList.add('active');
            });
        });

        // Checkbox toggle functionality
        function toggleCheck(element) {
            element.classList.toggle('checked');
            if (element.classList.contains('checked')) {
                element.innerHTML = '‚úì';
            } else {
                element.innerHTML = '';
            }
        }

        // NYHA highlighting
        function highlightNYHA(classNum) {
            document.querySelectorAll('.nyha-card').forEach(card => {
                card.classList.remove('active');
                if (card.getAttribute('data-class') === classNum) {
                    card.classList.add('active');
                }
            });
        }

        // Factor highlighting
        function highlightFactor(element) {
            element.style.background = 'var(--blue-100)';
            element.style.transform = 'translateX(8px)';
            setTimeout(() => {
                element.style.background = '';
                element.style.transform = '';
            }, 500);
        }

        // Framingham criteria counter
        let majorCount = 0;
        let minorCount = 0;

        function toggleFramingham(row, type) {
            row.classList.toggle('selected');
            
            if (row.classList.contains('selected')) {
                if (type === 'major') majorCount++;
                else minorCount++;
            } else {
                if (type === 'major') majorCount--;
                else minorCount--;
            }
            
            updateFraminghamDisplay();
        }

        function updateFraminghamDisplay() {
            const display = document.getElementById('framingham-count');
            const meetsCriteria = majorCount >= 2 || (majorCount >= 1 && minorCount >= 2);
            
            if (meetsCriteria) {
                display.textContent = `‚úì HF Likely (${majorCount}M/${minorCount}m)`;
                display.className = 'counter-display positive';
            } else {
                display.textContent = `${majorCount}/2 Major, ${minorCount}/2 Minor needed`;
                display.className = 'counter-display negative';
            }
        }

        // Smooth scroll for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });

        // Add animation on scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        document.querySelectorAll('.card, .pillar-card, .stage-card').forEach(el => {
            el.style.opacity = '0';
            el.style.transform = 'translateY(20px)';
            el.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
            observer.observe(el);
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            // Number keys 1-5 for navigation
            if (e.key >= '1' && e.key <= '5') {
                const tabs = document.querySelectorAll('.nav-tab');
                const index = parseInt(e.key) - 1;
                if (tabs[index]) {
                    tabs[index].click();
                }
            }
        });

        console.log('HFrEF Clinical Compass loaded successfully');
    </script>
</body>
</html>