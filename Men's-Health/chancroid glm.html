<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chancroid: Clinical Quick-Scan</title>
    <style>
        :root {
            /* Color Palette */
            --primary: #0284c7;       /* Blue - General Info */
            --primary-light: #e0f2fe;
            --success: #16a34a;       /* Green - Safe/Positive Actions */
            --success-light: #dcfce7;
            --danger: #dc2626;        /* Red - Red Flags/Emergency */
            --danger-light: #fee2e2;
            --warning: #ca8a04;       /* Yellow - Caution */
            --warning-light: #fef9c3;
            --neutral: #64748b;       /* Slate - Secondary Text */
            --bg-body: #f8fafc;
            --bg-card: #ffffff;
            --border: #e2e8f0;
            
            /* Spacing & Layout */
            --radius-md: 8px;
            --radius-lg: 12px;
            --shadow-sm: 0 1px 3px rgba(0,0,0,0.1);
            --shadow-md: 0 4px 6px -1px rgba(0,0,0,0.1);
            --shadow-hover: 0 10px 15px -3px rgba(0,0,0,0.1);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-body);
            color: #1e293b;
            line-height: 1.5;
            -webkit-font-smoothing: antialiased;
        }

        /* --- Typography --- */
        h1, h2, h3, h4 {
            font-weight: 700;
            letter-spacing: -0.025em;
            color: #0f172a;
        }

        h1 { font-size: 1.75rem; }
        h2 { font-size: 1.25rem; margin-bottom: 1rem; border-bottom: 2px solid var(--border); padding-bottom: 0.5rem; }
        h3 { font-size: 1.1rem; margin-bottom: 0.5rem; }
        
        p { margin-bottom: 0.75rem; font-size: 0.95rem; }
        ul { list-style: none; margin-bottom: 1rem; }
        li { margin-bottom: 0.25rem; position: relative; padding-left: 1.25rem; font-size: 0.95rem; }
        li::before {
            content: "‚Ä¢";
            position: absolute;
            left: 0;
            color: var(--primary);
            font-weight: bold;
        }

        /* --- Layout --- */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem;
        }

        header {
            background: var(--bg-card);
            border-bottom: 1px solid var(--border);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: var(--shadow-sm);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .tag {
            font-size: 0.75rem;
            text-transform: uppercase;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-weight: 700;
            display: inline-block;
        }
        .tag-danger { background: var(--danger-light); color: var(--danger); }
        .tag-success { background: var(--success-light); color: var(--success); }

        /* --- Dashboard Grid --- */
        .dashboard {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
            margin-top: 2rem;
        }

        @media (max-width: 900px) {
            .dashboard { grid-template-columns: 1fr; }
        }

        /* --- Cards --- */
        .card {
            background: var(--bg-card);
            border-radius: var(--radius-lg);
            padding: 1.5rem;
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--border);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            height: 100%;
        }

        .card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-hover);
        }

        .card-alert {
            border-left: 5px solid var(--danger);
            background-color: #fff5f5;
        }
        
        .card-success {
            border-left: 5px solid var(--success);
            background-color: #f0fdf4;
        }

        .card-info {
            border-left: 5px solid var(--primary);
        }

        /* --- Critical Alert Banner --- */
        .critical-banner {
            background: var(--danger);
            color: white;
            padding: 1rem;
            border-radius: var(--radius-md);
            margin-top: 1.5rem;
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            animation: slideDown 0.5s ease-out;
        }

        /* --- Interactive Treatment Tool --- */
        .clinical-tool {
            background: #f1f5f9;
            padding: 1rem;
            border-radius: var(--radius-md);
            margin-bottom: 1.5rem;
            border: 1px solid var(--border);
        }

        .tool-controls {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }

        .control-group {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: white;
            padding: 0.5rem 0.75rem;
            border-radius: var(--radius-md);
            border: 1px solid var(--border);
            cursor: pointer;
        }

        .control-group:hover {
            border-color: var(--primary);
        }

        input[type="checkbox"] {
            accent-color: var(--primary);
            width: 1.2rem;
            height: 1.2rem;
        }

        #treatment-output {
            background: white;
            border: 1px solid var(--primary);
            border-radius: var(--radius-md);
            padding: 1rem;
            animation: fadeIn 0.3s ease;
        }

        /* --- Tables --- */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }

        .data-table th, .data-table td {
            padding: 0.75rem;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }

        .data-table th {
            background-color: var(--primary-light);
            color: #0c4a6e;
            font-weight: 700;
        }

        .data-table tr:hover {
            background-color: #f8fafc;
        }

        /* --- Utility Classes --- */
        .text-danger { color: var(--danger); font-weight: 600; }
        .text-success { color: var(--success); font-weight: 600; }
        .text-primary { color: var(--primary); font-weight: 600; }
        .text-muted { color: var(--neutral); font-size: 0.85rem; }
        .bold { font-weight: 700; }

        .dose-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        .dose-card {
            background: #f8fafc;
            padding: 1rem;
            border-radius: var(--radius-md);
            border: 1px solid var(--border);
        }

        .dose-card.recommended {
            border-color: var(--success);
            background-color: var(--success-light);
        }

        .warning-box {
            background: var(--warning-light);
            border: 1px solid var(--warning);
            color: #854d0e;
            padding: 0.75rem;
            border-radius: var(--radius-md);
            font-size: 0.85rem;
            margin-top: 0.5rem;
        }

        /* --- Animations --- */
        @keyframes slideDown {
            from { transform: translateY(-20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* --- Footer --- */
        footer {
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 1px solid var(--border);
            color: var(--neutral);
            font-size: 0.8rem;
            text-align: center;
        }
    </style>
</head>
<body>

<header>
    <div class="container header-content">
        <div>
            <span style="font-size: 0.8rem; text-transform: uppercase; color: var(--neutral); font-weight: 700;">Clinical Reference</span>
            <h1>Chancroid <span style="font-weight: 400; color: var(--neutral);">(*Haemophilus ducreyi*)</span></h1>
        </div>
        <div>
            <span class="tag tag-danger">High HIV Co-factor</span>
            <span class="tag tag-success">Curable</span>
        </div>
    </div>
</header>

<main class="container">

    <!-- Critical Red Flags -->
    <div class="critical-banner">
        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>
        <div>
            <h3 style="color:white; margin-bottom:0.25rem;">Emergency Actions & Red Flags</h3>
            <ul style="margin-bottom:0; font-size: 0.9rem;">
                <li><strong>HIV Risk:</strong> Chancroid is a major co-factor for HIV transmission. Test all patients.</li>
                <li><strong>Bubo Management:</strong> Fluctuant lymph nodes (buboes) require needle aspiration or I&D to prevent rupture.</li>
                <li><strong>Treatment Failure:</strong> No improvement in 3-7 days? Re-evaluate for co-infection (Syphilis/HSV) or resistance.</li>
            </ul>
        </div>
    </div>

    <div class="dashboard">
        
        <!-- Left Column: Decision Support & Diagnosis -->
        <div class="column-left">
            
            <!-- Interactive Treatment Selector -->
            <section class="card card-info" style="margin-bottom: 1.5rem;">
                <h2>üíä Treatment Advisor</h2>
                <p class="text-muted">Select patient status to see CDC-recommended regimen.</p>
                
                <div class="clinical-tool">
                    <div class="tool-controls">
                        <label class="control-group">
                            <input type="checkbox" id="chk-pregnant" onchange="updateTreatment()">
                            <span>Pregnant</span>
                        </label>
                        <label class="control-group">
                            <input type="checkbox" id="chk-hiv" onchange="updateTreatment()">
                            <span>HIV Positive</span>
                        </label>
                    </div>

                    <div id="treatment-output">
                        <!-- JS renders content here -->
                        <div class="dose-grid" id="default-options">
                            <div class="dose-card recommended">
                                <div class="bold text-success">Azithromycin</div>
                                <div>1 g orally <span class="bold">single dose</span></div>
                                <div class="text-muted">1st Line (CDC)</div>
                            </div>
                            <div class="dose-card">
                                <div class="bold text-primary">Ceftriaxone</div>
                                <div>250 mg IM <span class="bold">single dose</span></div>
                                <div class="text-muted">1st Line (CDC)</div>
                            </div>
                            <div class="dose-card">
                                <div class="bold text-primary">Ciprofloxacin</div>
                                <div>500 mg orally <span class="bold">twice daily x 3 days</span></div>
                                <div class="text-muted">Alternative</div>
                            </div>
                            <div class="dose-card">
                                <div class="bold text-primary">Erythromycin</div>
                                <div>500 mg orally <span class="bold">three times daily x 7 days</span></div>
                                <div class="text-muted">Alternative</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="warning-box" id="warning-box" style="display:none;">
                    <!-- Dynamic Warnings -->
                </div>
            </section>

            <!-- Diagnosis -->
            <section class="card">
                <h2>ü©∫ Clinical Snapshot</h2>
                
                <h3 style="color:var(--primary);">Presentation</h3>
                <ul>
                    <li><strong>Incubation:</strong> 3-7 days after exposure.</li>
                    <li><strong>Ulcer:</strong> Painful, soft, ragged undermined edges, gray/yellow exudate. <span class="text-danger">No induration.</span></li>
                    <li><strong>Lymphadenopathy:</strong> Tender, suppurative (buboes) in ~50% (mostly men). Unilateral in 2/3 cases.</li>
                    <li><strong>Women:</strong> May be asymptomatic or painless (cervix/vaginal walls). Can cause dysuria, discharge, dyspareunia.</li>
                </ul>

                <h3 style="color:var(--primary);">Key Differentials</h3>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Condition</th>
                            <th>Key Differentiator</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="bold">Syphilis</td>
                            <td><span class="text-success">Painless</span> indurated chancre. Clean base. Usually bilateral lymph nodes.</td>
                        </tr>
                        <tr>
                            <td class="bold">Herpes (HSV)</td>
                            <td><span class="text-success">Vesicles</span> present first. Shallow ulcers. Multiple recurrences.</td>
                        </tr>
                        <tr>
                            <td class="bold">LGV</td>
                            <td>Tender lymph nodes <span class="bold">without</span> genital ulcer (usually).</td>
                        </tr>
                        <tr>
                            <td class="bold">Granuloma Inguinale</span></td>
                            <td>Painless, beefy red granulation tissue. No lymphadenitis.</td>
                        </tr>
                    </tbody>
                </table>
            </section>
        </div>

        <!-- Right Column: Management Details & Risk Factors -->
        <div class="column-right">
            
            <!-- Management Actions -->
            <section class="card card-success" style="margin-bottom: 1.5rem;">
                <h2>‚úÖ Management Checklist</h2>
                
                <h4>Treatment & Follow-up</h4>
                <ul>
                    <li>Treat patient (see Advisor).</li>
                    <li>Evaluate 3-7 days post-tx. Pain resolves in ~3 days; ulcers in 1-2 weeks.</li>
                    <li>Test for <strong>Syphilis</strong> and <strong>HSV</strong> (Rule out co-infection).</li>
                    <li><strong>HIV Testing:</strong> Mandatory due to transmission risk.</li>
                </ul>

                <h4>Contact Management</h4>
                <ul>
                    <li><strong>Contacts:</strong> Exposees within last 10 days need treatment, even if asymptomatic.</li>
                    <li><strong>Abstinence:</strong> Until lesions healed and therapy completed.</li>
                </ul>
            </section>

            <!-- Risk Factors & Theory -->
            <section class="card">
                <h2>üìã Risk Factors</h2>
                <ul>
                    <li><strong>High Partner Turnover:</strong>>15 partners/year sustains transmission.</li>
                    <li><strong>Sex Work:</strong> Contact with sex workers is a major reservoir.</li>
                    <li><strong>Unprotected Sex / Lack of Circumcision.</strong></li>
                    <li><strong>Substance Abuse:</strong> Especially crack cocaine use.</li>
                </ul>

                <hr style="border:0; border-top:1px solid var(--border); margin: 1rem 0;">

                <h3>Diagnostic Tests</h3>
                <div style="display:flex; flex-direction:column; gap:0.5rem;">
                    <div>
                        <span class="bold text-primary">Culture:</span> 
                        <span class="text-muted">Gold standard (53-92% sens). Swab ulcer base.</span>
                    </div>
                    <div>
                        <span class="bold text-primary">PCR:</span> 
                        <span class="text-muted">Preferred if available (>98% sens). Not FDA cleared, but LDTs exist.</span>
                    </div>
                    <div>
                        <span class="bold text-primary">Gram Stain:</span> 
                        <span class="text-muted">"School of fish" pattern. Unreliable (polymicrobial flora).</span>
                    </div>
                </div>
            </section>

            <!-- Drug Safety Warning -->
            <section class="card card-alert" style="margin-top: 1.5rem;">
                <h3>‚ö†Ô∏è Fluoroquinolone Warning (Ciprofloxacin)</h3>
                <p class="text-muted" style="font-size:0.85rem;">Systemic fluoroquinolones are associated with disabling and potentially irreversible serious adverse events.</p>
                <ul style="font-size:0.85rem;">
                    <li>Tendinopathy / tendon rupture</li>
                    <li>Peripheral neuropathy</li>
                    <li>CNS effects (seizures, anxiety)</li>
                    <li>Aortic aneurysm/dissection</li>
                </ul>
                <div style="margin-top:0.5rem; padding-top:0.5rem; border-top:1px dashed var(--danger);">
                    <strong>Contraindicated in:</strong> Pregnancy, Breastfeeding, History of tendon disorders.
                </div>
            </section>

        </div>
    </div>

</main>

<footer>
    <div class="container">
        <p><strong>Source:</strong> BMJ Best Practice (Last updated Feb 13, 2025). Chancroid Topic.</p>
        <p class="text-muted">Disclaimer: This tool is for educational and reference purposes only. Always consult local guidelines and use clinical judgment.</p>
        <p>¬© BMJ Publishing Group Ltd 2025. All rights reserved.</p>
    </div>
</footer>

<script>
    function updateTreatment() {
        const isPregnant = document.getElementById('chk-pregnant').checked;
        const isHIV = document.getElementById('chk-hiv').checked;
        const outputDiv = document.getElementById('treatment-output');
        const warningBox = document.getElementById('warning-box');

        let html = '';
        let warnings = [];

        // Base Regimens
        const azithro = `<div class="dose-card recommended"><div class="bold text-success">Azithromycin</div><div>1 g orally <span class="bold">single dose</span></div><div class="text-muted">1st Line</div></div>`;
        const ceftriaxone = `<div class="dose-card recommended"><div class="bold text-primary">Ceftriaxone</div><div>250 mg IM <span class="bold">single dose</span></div><div class="text-muted">1st Line</div></div>`;
        const cipro = `<div class="dose-card"><div class="bold text-danger">Ciprofloxacin</div><div>500 mg orally <span class="bold">twice daily x 3 days</span></div><div class="text-muted">Avoid in Pregnancy/Tendon issues</div></div>`;
        const erythro = `<div class="dose-card"><div class="bold text-primary">Erythromycin</div><div>500 mg orally <span class="bold">three times daily x 7 days</span></div><div class="text-muted">Alternative</div></div>`;

        // Logic Tree
        if (isPregnant && isHIV) {
            // Pregnant + HIV
            warnings.push("Fluoroquinolones (Ciprofloxacin) are contraindicated in pregnancy.");
            warnings.push("HIV+ patients may have slower healing. Multi-dose regimens may be preferred if follow-up is uncertain.");
            html = `<div class="dose-grid">${azithro}${ceftriaxone}${erythro}</div>`;
            
            // Highlight Erythro/Ceftriaxone/Azithro as main choices.
            // Update specific caution for Azithro in 1st trimester
            warnings.push("Macrolides (Azithro) use caution in 1st trimester (theoretical risk).");

        } else if (isPregnant) {
            // Pregnant only
            warnings.push("Fluoroquinolones (Ciprofloxacin) are contraindicated in pregnancy.");
            warnings.push("Macrolides (Azithro) use caution in 1st trimester.");
            html = `<div class="dose-grid">${ceftriaxone}${erythro}${azithro}</div>`;

        } else if (isHIV) {
            // HIV only
            warnings.push("HIV+ patients prone to treatment failure. Consider multi-dose regimens (Cipro or Erythro) if follow-up uncertain.");
            html = `<div class="dose-grid">${azithro}${ceftriaxone}${cipro}${erythro}</div>`;
        } else {
            // Standard
            html = `<div class="dose-grid">${azithro}${ceftriaxone}${cipro}${erythro}</div>`;
        }

        // Render
        outputDiv.innerHTML = html;
        
        // Render Warnings
        if (warnings.length > 0) {
            warningBox.style.display = 'block';
            warningBox.innerHTML = `<strong>‚ö†Ô∏è Clinical Alert:</strong><ul>` + warnings.map(w => `<li>${w}</li>`).join('') + `</ul>`;
        } else {
            warningBox.style.display = 'none';
        }
    }

    // Initialize default view
    updateTreatment();
</script>

</body>
</html>